---
title: hubspot.do
description: HubSpot CRM on the Edge — A fully managed HubSpot-compatible CRM running on Cloudflare Workers with workflow automation and AI agent support.
---

# hubspot.do

**HubSpot CRM on the Edge** — A HubSpot-compatible CRM that runs entirely on Cloudflare Workers, with native AI agent support, workflow automation, and real-time webhooks.

```typescript
import { HubSpotClient } from 'hubspot.do'

const client = new HubSpotClient('https://your-worker.workers.dev')
const contacts = client.crm.contacts

// It's just HubSpot
await contacts.create({ email: 'alice@example.com', firstname: 'Alice' })
const contact = await contacts.findByEmail('alice@example.com')
```

<Callout type="info">
Looking for an in-memory implementation for testing? See [@dotdo/hubspot](/docs/integrations/hubspot/package) for a drop-in HubSpot SDK replacement.
</Callout>

## Why hubspot.do?

Traditional CRM requires infrastructure management, API rate limits, and complex integrations. hubspot.do eliminates all of that by running directly on Cloudflare's edge network:

- **Zero Infrastructure** — No servers to manage, no connection limits, no cold starts
- **Global by Default** — Data lives at the edge, close to your users
- **HubSpot Compatible** — Drop-in replacement for most HubSpot CRM operations
- **AI-Native** — Built-in support for AI agents and LLM tool calling
- **Serverless Economics** — Pay only for what you use, scale to zero

## Features

### Core CRM

| Feature | Description |
|---------|-------------|
| **Contacts** | Full CRUD, search, batch operations, merge, lifecycle stages |
| **Companies** | Full CRUD, search, domain matching, associations |
| **Deals** | Pipeline management, stage progression, forecasting |
| **Tickets** | Support pipeline, SLA tracking, assignments |
| **Custom Objects** | Define your own CRM objects with schemas |
| **Associations v4** | Contact-company, deal-contact, custom associations |
| **Properties** | Custom fields, property groups, calculated fields |

### Automation

| Feature | Description |
|---------|-------------|
| **Workflows** | Visual workflow builder, enrollment triggers, branching logic |
| **Forms** | Form builder, validation, submissions, analytics |
| **Webhooks** | Real-time events, signature verification, retry policies |
| **Sequences** | Email sequences, task automation, follow-ups |

### AI & Agents

| Feature | Description |
|---------|-------------|
| **Agent Integration** | CRM tools for AI agents via MCP protocol |
| **Natural Language** | Query contacts and deals with natural language |
| **Smart Scoring** | AI-powered lead scoring and prioritization |
| **Conversation Intel** | Automatic call/meeting summarization |

### Connectivity

| Feature | Description |
|---------|-------------|
| **HTTP/RPC** | JSON-RPC over HTTP with batching |
| **WebSocket** | Real-time updates for dashboards |
| **Service Bindings** | Zero-latency Worker-to-Worker communication |
| **Zapier/Make** | Native integrations with automation platforms |

## Installation

```bash
npm install hubspot.do
```

## Quick Start

### Deploy to Cloudflare Workers

```typescript
// src/index.ts
import { HubSpotEntrypoint, HubSpotCRM } from 'hubspot.do'

export { HubSpotCRM }
export default HubSpotEntrypoint
```

```jsonc
// wrangler.jsonc
{
  "name": "my-hubspot-do",
  "main": "src/index.ts",
  "compatibility_date": "2025-01-01",
  "compatibility_flags": ["nodejs_compat"],
  "durable_objects": {
    "bindings": [{ "name": "HUBSPOT_CRM", "class_name": "HubSpotCRM" }]
  },
  "migrations": [{ "tag": "v1", "new_sqlite_classes": ["HubSpotCRM"] }]
}
```

```bash
npx wrangler deploy
```

### Client Usage

```typescript
import { HubSpotClient } from 'hubspot.do'

const client = new HubSpotClient('https://your-hubspot.workers.dev')

// Create a contact
const contact = await client.crm.contacts.create({
  email: 'lead@example.com',
  firstname: 'Jane',
  lastname: 'Smith',
  lifecyclestage: 'lead',
})

// Create a company and associate
const company = await client.crm.companies.create({
  name: 'Acme Corp',
  domain: 'acme.com',
})

await client.crm.associations.create({
  from: { type: 'contacts', id: contact.id },
  to: { type: 'companies', id: company.id },
  type: 'HUBSPOT_DEFINED',
})

// Search contacts
const leads = await client.crm.contacts.search({
  filters: [{ field: 'lifecyclestage', operator: 'eq', value: 'lead' }],
  sorts: [{ field: 'createdate', direction: 'desc' }],
  limit: 50,
})
```

## Examples

### Deal Pipeline Management

```typescript
// Create a sales pipeline
const pipeline = await client.crm.pipelines.create('deals', {
  label: 'Enterprise Sales',
  stages: [
    { label: 'Discovery', probability: 0.1 },
    { label: 'Qualification', probability: 0.2 },
    { label: 'Proposal', probability: 0.4 },
    { label: 'Negotiation', probability: 0.7 },
    { label: 'Closed Won', probability: 1.0, isClosed: true, isWon: true },
    { label: 'Closed Lost', probability: 0, isClosed: true, isWon: false },
  ],
})

// Create a deal
const deal = await client.crm.deals.create({
  dealname: 'Enterprise Contract',
  amount: 100000,
  pipeline: pipeline.id,
  dealstage: 'discovery',
  closedate: '2024-06-30',
})

// Move through stages
await client.crm.deals.update(deal.id, { dealstage: 'qualification' })

// Get pipeline analytics
const analytics = await client.crm.pipelines.analytics('deals', pipeline.id)
console.log(`Total pipeline value: $${analytics.totalValue}`)
console.log(`Conversion rate: ${analytics.conversionRate}%`)
```

### Workflow Automation

```typescript
// Create a lead nurture workflow
const workflow = await client.automation.workflows.create({
  name: 'Lead Nurture Sequence',
  type: 'contact',
  enrollmentCriteria: {
    filters: [
      { property: 'lifecyclestage', operator: 'eq', value: 'lead' },
      { property: 'hs_email_optout', operator: 'eq', value: 'false' },
    ],
  },
  actions: [
    {
      type: 'sendEmail',
      emailId: 'welcome-email',
    },
    {
      type: 'delay',
      duration: { days: 3 },
    },
    {
      type: 'branch',
      condition: { property: 'hs_email_open', operator: 'gt', value: '0' },
      trueActions: [
        { type: 'sendEmail', emailId: 'engaged-followup' },
      ],
      falseActions: [
        { type: 'sendEmail', emailId: 're-engagement' },
      ],
    },
    {
      type: 'setProperty',
      property: 'hs_lead_status',
      value: 'CONTACTED',
    },
  ],
})

// Activate workflow
await client.automation.workflows.activate(workflow.id)

// Monitor enrollments
const stats = await client.automation.workflows.stats(workflow.id)
console.log(`Enrolled: ${stats.enrolled}, Completed: ${stats.completed}`)
```

### Form Submissions

```typescript
// Create a lead capture form
const form = await client.marketing.forms.create({
  name: 'Contact Us',
  fields: [
    { name: 'email', type: 'email', required: true },
    { name: 'firstname', type: 'text', required: true },
    { name: 'company', type: 'text', required: false },
    { name: 'message', type: 'textarea', required: true },
  ],
  submitButton: 'Get in Touch',
  redirectUrl: '/thank-you',
  notifications: [
    { type: 'email', to: 'sales@example.com' },
  ],
})

// Handle form submission (in your worker)
export default {
  async fetch(request: Request, env: Env) {
    if (request.method === 'POST' && new URL(request.url).pathname === '/form') {
      const formData = await request.formData()

      const result = await client.marketing.forms.submit(form.id, {
        email: formData.get('email'),
        firstname: formData.get('firstname'),
        company: formData.get('company'),
        message: formData.get('message'),
        context: {
          pageUrl: request.headers.get('referer'),
          ipAddress: request.headers.get('cf-connecting-ip'),
        },
      })

      return Response.json({ success: true, contactId: result.contactId })
    }
  },
}
```

### Real-Time Webhooks

```typescript
// Subscribe to CRM events
await client.webhooks.subscribe({
  eventType: 'contact.creation',
  targetUrl: 'https://your-app.com/webhooks/hubspot',
})

await client.webhooks.subscribe({
  eventType: 'deal.propertyChange',
  targetUrl: 'https://your-app.com/webhooks/hubspot',
  propertyName: 'dealstage',
})

// Handle webhooks (in your worker)
export default {
  async fetch(request: Request, env: Env) {
    if (request.method === 'POST' && new URL(request.url).pathname === '/webhooks/hubspot') {
      // Verify signature
      const isValid = await client.webhooks.verifySignature(
        await request.text(),
        request.headers.get('X-HubSpot-Signature-v3'),
        request.headers.get('X-HubSpot-Request-Timestamp')
      )

      if (!isValid) {
        return new Response('Invalid signature', { status: 401 })
      }

      const events = await request.json()

      for (const event of events) {
        switch (event.subscriptionType) {
          case 'contact.creation':
            await notifySlack(`New contact: ${event.propertyValue}`)
            break
          case 'deal.propertyChange':
            if (event.propertyName === 'dealstage' && event.propertyValue === 'closedwon') {
              await celebrateWin(event.objectId)
            }
            break
        }
      }

      return new Response('OK')
    }
  },
}
```

### AI Agent Integration

```typescript
import { createMcpServer, createAnthropicAdapter } from 'hubspot.do/mcp'
import Anthropic from '@anthropic-ai/sdk'

const server = createMcpServer({ crmAccess: client })
const adapter = createAnthropicAdapter({ server })
await adapter.initialize()

const anthropic = new Anthropic()
const response = await anthropic.messages.create({
  model: 'claude-sonnet-4-20250514',
  tools: await adapter.getTools(),
  messages: [{
    role: 'user',
    content: 'Find all deals over $50k that are stuck in the negotiation stage for more than 30 days'
  }]
})

// Agent can:
// - Search contacts, companies, deals
// - Create and update CRM records
// - Enroll contacts in workflows
// - Generate reports and analytics
```

### Multi-Tenant SaaS

```typescript
// Each tenant gets an isolated CRM
export default {
  async fetch(request: Request, env: Env) {
    const tenantId = getTenantFromRequest(request)

    // Tenant-specific CRM instance
    const crm = env.HUBSPOT_CRM.get(
      env.HUBSPOT_CRM.idFromName(tenantId)
    )

    // All operations are isolated to this tenant
    const contacts = await crm.fetch(new Request('/crm/contacts', {
      method: 'GET',
    }))

    return contacts
  },
}
```

## Architecture

```
+----------------------------------------------------------------------------+
|                           Client Applications                               |
+----------------+------------------+------------------+----------------------+
|   SDK Client   |   HTTP/RPC       |   WebSocket      |  Service Binding     |
+----------------+------------------+------------------+----------------------+
|                         hubspot.do Worker (Edge)                            |
+----------------------------------------------------------------------------+
|  CRM Engine  | Workflow Engine | Forms Engine | Webhooks | MCP Server       |
+----------------------------------------------------------------------------+
|                      Durable Objects (SQLite Storage)                       |
+-----------------------------------+-----------------------------------------+
|     Cloudflare Queues             |           R2 (Attachments)              |
|  (Async workflow processing)      |       (Files, documents)                |
+-----------------------------------+-----------------------------------------+
```

hubspot.do provides a complete CRM at the edge:

1. **CRM Engine** — Contacts, companies, deals with full search and relationships
2. **Workflow Engine** — Enrollment triggers, actions, branching, delays
3. **Durable Object Storage** — Each CRM runs as an isolated DO with SQLite
4. **Edge Execution** — Queries execute at the edge, close to your users
5. **Optional Integrations** — Queues for async processing, R2 for attachments

## Configuration

### Basic Setup

```jsonc
// wrangler.jsonc
{
  "name": "my-hubspot",
  "main": "src/index.ts",
  "compatibility_date": "2025-01-01",
  "durable_objects": {
    "bindings": [{ "name": "HUBSPOT_CRM", "class_name": "HubSpotCRM" }]
  },
  "migrations": [{ "tag": "v1", "new_sqlite_classes": ["HubSpotCRM"] }]
}
```

### With Async Workflows

```jsonc
{
  "queues": {
    "producers": [{ "binding": "WORKFLOW_QUEUE", "queue": "hubspot-workflows" }],
    "consumers": [{ "queue": "hubspot-workflows", "max_batch_size": 10 }]
  }
}
```

### With File Attachments

```jsonc
{
  "r2_buckets": [{ "binding": "ATTACHMENTS", "bucket_name": "hubspot-files" }]
}
```

## API Reference

### Contacts

```typescript
// Create
const contact = await client.crm.contacts.create({
  email: 'user@example.com',
  firstname: 'John',
  lastname: 'Doe',
  lifecyclestage: 'lead',
})

// Get by ID
const contact = await client.crm.contacts.get(contactId)

// Get by email
const contact = await client.crm.contacts.findByEmail('user@example.com')

// Update
await client.crm.contacts.update(contactId, {
  lifecyclestage: 'customer',
})

// Delete
await client.crm.contacts.delete(contactId)

// Search
const results = await client.crm.contacts.search({
  query: 'john',
  filters: [
    { field: 'lifecyclestage', operator: 'eq', value: 'lead' },
  ],
  sorts: [{ field: 'createdate', direction: 'desc' }],
  limit: 50,
})

// Batch operations
await client.crm.contacts.batchCreate([
  { email: 'user1@example.com', firstname: 'User 1' },
  { email: 'user2@example.com', firstname: 'User 2' },
])

// Merge duplicates
await client.crm.contacts.merge(primaryId, secondaryId)
```

### Companies

```typescript
// Create
const company = await client.crm.companies.create({
  name: 'Acme Corp',
  domain: 'acme.com',
  industry: 'Technology',
})

// Find by domain
const company = await client.crm.companies.findByDomain('acme.com')

// Get associated contacts
const contacts = await client.crm.companies.getContacts(companyId)
```

### Deals

```typescript
// Create with associations
const deal = await client.crm.deals.create({
  dealname: 'Enterprise Deal',
  amount: 50000,
  pipeline: 'default',
  dealstage: 'discovery',
  associations: {
    contacts: [contactId],
    companies: [companyId],
  },
})

// Move to stage
await client.crm.deals.moveToStage(dealId, 'negotiation')

// Get by pipeline
const deals = await client.crm.deals.getByPipeline(pipelineId)

// Forecast
const forecast = await client.crm.deals.forecast({
  pipeline: pipelineId,
  period: 'quarter',
})
```

### Associations

```typescript
// Create
await client.crm.associations.create({
  from: { type: 'contacts', id: contactId },
  to: { type: 'companies', id: companyId },
  type: 'HUBSPOT_DEFINED',
})

// Get
const associations = await client.crm.associations.get('contacts', contactId, 'companies')

// Delete
await client.crm.associations.delete({
  from: { type: 'contacts', id: contactId },
  to: { type: 'companies', id: companyId },
})
```

### Workflows

```typescript
// Create
const workflow = await client.automation.workflows.create({
  name: 'Lead Nurture',
  type: 'contact',
  enrollmentCriteria: { ... },
  actions: [ ... ],
})

// Activate/Deactivate
await client.automation.workflows.activate(workflowId)
await client.automation.workflows.deactivate(workflowId)

// Manual enrollment
await client.automation.workflows.enroll(workflowId, contactId)

// Get stats
const stats = await client.automation.workflows.stats(workflowId)
```

### Webhooks

```typescript
// Subscribe
await client.webhooks.subscribe({
  eventType: 'contact.creation',
  targetUrl: 'https://example.com/webhook',
})

// List subscriptions
const subs = await client.webhooks.list()

// Unsubscribe
await client.webhooks.unsubscribe(subscriptionId)

// Verify signature
const valid = await client.webhooks.verifySignature(body, signature, timestamp)
```

## Comparison with HubSpot

| Feature | HubSpot | hubspot.do |
|---------|---------|------------|
| API Rate Limits | 100-500 req/sec | Unlimited |
| Cold Starts | N/A | None (edge) |
| Global Latency | Variable | \<50ms worldwide |
| Pricing | Per seat/tier | Usage-based |
| Data Residency | US/EU | Global edge |
| Custom Objects | Limited | Unlimited |
| Workflow Automation | Yes | Yes |
| Marketing Hub | Yes | Coming soon |
| AI Features | Limited | Full MCP support |

## Development

```bash
# Install dependencies
npm install

# Run locally
npm run dev

# Run tests
npm test

# Deploy
npm run deploy
```

## Related

- [@dotdo/hubspot](/docs/integrations/hubspot/package) - In-memory HubSpot for testing
- [Stripe Integration](/docs/integrations/stripe) - Payment processing
- [Durable Objects](/docs/architecture/durable-objects) - DO-backed storage
- [Workflows](/docs/workflows) - Workflow automation
