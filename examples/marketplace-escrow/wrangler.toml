name = "marketplace-escrow"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Multi-DO Architecture
# - EscrowDO: Manages escrow lifecycle and fund custody
# - OrderDO: Tracks shipment and delivery status
# - DisputeDO: Handles dispute resolution workflow
[durable_objects]
bindings = [
  { name = "ESCROW", class_name = "EscrowDO" },
  { name = "ORDER", class_name = "OrderDO" },
  { name = "DISPUTE", class_name = "DisputeDO" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["EscrowDO", "OrderDO", "DisputeDO"]

[vars]
API_NAME = "Marketplace Escrow"
API_VERSION = "1.0.0"
PLATFORM_FEE_PERCENT = "2.5"
DEFAULT_INSPECTION_DAYS = "3"
DEFAULT_DELIVERY_DAYS = "5"
