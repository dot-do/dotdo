{
  "version": 3,
  "sources": ["../bundle-cZvNFt/strip-cf-connecting-ip-header.js", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/_internal/utils.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/internal/perf_hooks/performance.mjs", "../../../node_modules/.pnpm/@cloudflare+unenv-preset@2.0.2_unenv@2.0.0-rc.14_workerd@1.20250718.0/node_modules/@cloudflare/unenv-preset/dist/runtime/polyfill/performance.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/console.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/mock/noop.mjs", "../../../node_modules/.pnpm/@cloudflare+unenv-preset@2.0.2_unenv@2.0.0-rc.14_workerd@1.20250718.0/node_modules/@cloudflare/unenv-preset/dist/runtime/node/console.mjs", "../../../node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-console", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/internal/process/hrtime.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/internal/process/process.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/internal/tty/read-stream.mjs", "../../../node_modules/.pnpm/unenv@2.0.0-rc.14/node_modules/unenv/dist/runtime/node/internal/tty/write-stream.mjs", "../../../node_modules/.pnpm/@cloudflare+unenv-preset@2.0.2_unenv@2.0.0-rc.14_workerd@1.20250718.0/node_modules/@cloudflare/unenv-preset/dist/runtime/node/process.mjs", "../../../node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/_virtual_unenv_global_polyfill-@cloudflare-unenv-preset-node-process", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/compose.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/http-exception.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/request/constants.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/utils/body.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/utils/url.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/request.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/utils/html.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/context.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/utils/constants.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/hono-base.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/reg-exp-router/matcher.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/reg-exp-router/node.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/reg-exp-router/trie.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/reg-exp-router/router.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/smart-router/router.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/trie-router/node.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/router/trie-router/router.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/hono.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/middleware/cors/index.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/utils/color.js", "../../../node_modules/.pnpm/hono@4.11.3/node_modules/hono/dist/middleware/logger/index.js", "../../../api/routes/api.ts", "../../../api/routes/mcp.ts", "../../../api/routes/rpc.ts", "../../../api/middleware/error-handling.ts", "../../../api/middleware/request-id.ts", "../../../api/pages.ts", "../../../api/test-do.ts", "../../../api/index.ts", "../../../node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-cZvNFt/middleware-insertion-facade.js", "../../../node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/common.ts", "../bundle-cZvNFt/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/nathanclevenger/projects/dotdo/.wrangler/tmp/dev-BM6ZKF",
  "sourcesContent": ["function stripCfConnectingIPHeader(input, init) {\n\tconst request = new Request(input, init);\n\trequest.headers.delete(\"CF-Connecting-IP\");\n\treturn request;\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\treturn Reflect.apply(target, thisArg, [\n\t\t\tstripCfConnectingIPHeader.apply(null, argArray),\n\t\t]);\n\t},\n});\n", "/*@__NO_SIDE_EFFECTS__*/ export function rawHeaders(headers) {\n\tconst rawHeaders = [];\n\tfor (const key in headers) {\n\t\tif (Array.isArray(headers[key])) {\n\t\t\tfor (const h of headers[key]) {\n\t\t\t\trawHeaders.push(key, h);\n\t\t\t}\n\t\t} else {\n\t\t\trawHeaders.push(key, headers[key]);\n\t\t}\n\t}\n\treturn rawHeaders;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function mergeFns(...functions) {\n\treturn function(...args) {\n\t\tfor (const fn of functions) {\n\t\t\tfn(...args);\n\t\t}\n\t};\n}\n/*@__NO_SIDE_EFFECTS__*/ export function createNotImplementedError(name) {\n\treturn new Error(`[unenv] ${name} is not implemented yet!`);\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplemented(name) {\n\tconst fn = () => {\n\t\tthrow createNotImplementedError(name);\n\t};\n\treturn Object.assign(fn, { __unenv__: true });\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedAsync(name) {\n\tconst fn = notImplemented(name);\n\tfn.__promisify__ = () => notImplemented(name + \".__promisify__\");\n\tfn.native = fn;\n\treturn fn;\n}\n/*@__NO_SIDE_EFFECTS__*/ export function notImplementedClass(name) {\n\treturn class {\n\t\t__unenv__ = true;\n\t\tconstructor() {\n\t\t\tthrow new Error(`[unenv] ${name} is not implemented yet!`);\n\t\t}\n\t};\n}\n", "import { createNotImplementedError } from \"../../../_internal/utils.mjs\";\nconst _timeOrigin = globalThis.performance?.timeOrigin ?? Date.now();\nconst _performanceNow = globalThis.performance?.now ? globalThis.performance.now.bind(globalThis.performance) : () => Date.now() - _timeOrigin;\nconst nodeTiming = {\n\tname: \"node\",\n\tentryType: \"node\",\n\tstartTime: 0,\n\tduration: 0,\n\tnodeStart: 0,\n\tv8Start: 0,\n\tbootstrapComplete: 0,\n\tenvironment: 0,\n\tloopStart: 0,\n\tloopExit: 0,\n\tidleTime: 0,\n\tuvMetricsInfo: {\n\t\tloopCount: 0,\n\t\tevents: 0,\n\t\teventsWaiting: 0\n\t},\n\tdetail: undefined,\n\ttoJSON() {\n\t\treturn this;\n\t}\n};\nexport class PerformanceEntry {\n\t__unenv__ = true;\n\tdetail;\n\tentryType = \"event\";\n\tname;\n\tstartTime;\n\tconstructor(name, options) {\n\t\tthis.name = name;\n\t\tthis.startTime = options?.startTime || _performanceNow();\n\t\tthis.detail = options?.detail;\n\t}\n\tget duration() {\n\t\treturn _performanceNow() - this.startTime;\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tentryType: this.entryType,\n\t\t\tstartTime: this.startTime,\n\t\t\tduration: this.duration,\n\t\t\tdetail: this.detail\n\t\t};\n\t}\n}\nexport const PerformanceMark = class PerformanceMark extends PerformanceEntry {\n\tentryType = \"mark\";\n\tconstructor() {\n\t\tsuper(...arguments);\n\t}\n\tget duration() {\n\t\treturn 0;\n\t}\n};\nexport class PerformanceMeasure extends PerformanceEntry {\n\tentryType = \"measure\";\n}\nexport class PerformanceResourceTiming extends PerformanceEntry {\n\tentryType = \"resource\";\n\tserverTiming = [];\n\tconnectEnd = 0;\n\tconnectStart = 0;\n\tdecodedBodySize = 0;\n\tdomainLookupEnd = 0;\n\tdomainLookupStart = 0;\n\tencodedBodySize = 0;\n\tfetchStart = 0;\n\tinitiatorType = \"\";\n\tname = \"\";\n\tnextHopProtocol = \"\";\n\tredirectEnd = 0;\n\tredirectStart = 0;\n\trequestStart = 0;\n\tresponseEnd = 0;\n\tresponseStart = 0;\n\tsecureConnectionStart = 0;\n\tstartTime = 0;\n\ttransferSize = 0;\n\tworkerStart = 0;\n\tresponseStatus = 0;\n}\nexport class PerformanceObserverEntryList {\n\t__unenv__ = true;\n\tgetEntries() {\n\t\treturn [];\n\t}\n\tgetEntriesByName(_name, _type) {\n\t\treturn [];\n\t}\n\tgetEntriesByType(type) {\n\t\treturn [];\n\t}\n}\nexport class Performance {\n\t__unenv__ = true;\n\ttimeOrigin = _timeOrigin;\n\teventCounts = new Map();\n\t_entries = [];\n\t_resourceTimingBufferSize = 0;\n\tnavigation = undefined;\n\ttiming = undefined;\n\ttimerify(_fn, _options) {\n\t\tthrow createNotImplementedError(\"Performance.timerify\");\n\t}\n\tget nodeTiming() {\n\t\treturn nodeTiming;\n\t}\n\teventLoopUtilization() {\n\t\treturn {};\n\t}\n\tmarkResourceTiming() {\n\t\treturn new PerformanceResourceTiming(\"\");\n\t}\n\tonresourcetimingbufferfull = null;\n\tnow() {\n\t\tif (this.timeOrigin === _timeOrigin) {\n\t\t\treturn _performanceNow();\n\t\t}\n\t\treturn Date.now() - this.timeOrigin;\n\t}\n\tclearMarks(markName) {\n\t\tthis._entries = markName ? this._entries.filter((e) => e.name !== markName) : this._entries.filter((e) => e.entryType !== \"mark\");\n\t}\n\tclearMeasures(measureName) {\n\t\tthis._entries = measureName ? this._entries.filter((e) => e.name !== measureName) : this._entries.filter((e) => e.entryType !== \"measure\");\n\t}\n\tclearResourceTimings() {\n\t\tthis._entries = this._entries.filter((e) => e.entryType !== \"resource\" || e.entryType !== \"navigation\");\n\t}\n\tgetEntries() {\n\t\treturn this._entries;\n\t}\n\tgetEntriesByName(name, type) {\n\t\treturn this._entries.filter((e) => e.name === name && (!type || e.entryType === type));\n\t}\n\tgetEntriesByType(type) {\n\t\treturn this._entries.filter((e) => e.entryType === type);\n\t}\n\tmark(name, options) {\n\t\tconst entry = new PerformanceMark(name, options);\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tmeasure(measureName, startOrMeasureOptions, endMark) {\n\t\tlet start;\n\t\tlet end;\n\t\tif (typeof startOrMeasureOptions === \"string\") {\n\t\t\tstart = this.getEntriesByName(startOrMeasureOptions, \"mark\")[0]?.startTime;\n\t\t\tend = this.getEntriesByName(endMark, \"mark\")[0]?.startTime;\n\t\t} else {\n\t\t\tstart = Number.parseFloat(startOrMeasureOptions?.start) || this.now();\n\t\t\tend = Number.parseFloat(startOrMeasureOptions?.end) || this.now();\n\t\t}\n\t\tconst entry = new PerformanceMeasure(measureName, {\n\t\t\tstartTime: start,\n\t\t\tdetail: {\n\t\t\t\tstart,\n\t\t\t\tend\n\t\t\t}\n\t\t});\n\t\tthis._entries.push(entry);\n\t\treturn entry;\n\t}\n\tsetResourceTimingBufferSize(maxSize) {\n\t\tthis._resourceTimingBufferSize = maxSize;\n\t}\n\taddEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.addEventListener\");\n\t}\n\tremoveEventListener(type, listener, options) {\n\t\tthrow createNotImplementedError(\"Performance.removeEventListener\");\n\t}\n\tdispatchEvent(event) {\n\t\tthrow createNotImplementedError(\"Performance.dispatchEvent\");\n\t}\n\ttoJSON() {\n\t\treturn this;\n\t}\n}\nexport class PerformanceObserver {\n\t__unenv__ = true;\n\tstatic supportedEntryTypes = [];\n\t_callback = null;\n\tconstructor(callback) {\n\t\tthis._callback = callback;\n\t}\n\ttakeRecords() {\n\t\treturn [];\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.disconnect\");\n\t}\n\tobserve(options) {\n\t\tthrow createNotImplementedError(\"PerformanceObserver.observe\");\n\t}\n\tbind(fn) {\n\t\treturn fn;\n\t}\n\trunInAsyncScope(fn, thisArg, ...args) {\n\t\treturn fn.call(thisArg, ...args);\n\t}\n\tasyncId() {\n\t\treturn 0;\n\t}\n\ttriggerAsyncId() {\n\t\treturn 0;\n\t}\n\temitDestroy() {\n\t\treturn this;\n\t}\n}\nexport const performance = globalThis.performance && \"addEventListener\" in globalThis.performance ? globalThis.performance : new Performance();\n", "import {\n  performance,\n  Performance,\n  PerformanceEntry,\n  PerformanceMark,\n  PerformanceMeasure,\n  PerformanceObserver,\n  PerformanceObserverEntryList,\n  PerformanceResourceTiming\n} from \"node:perf_hooks\";\nglobalThis.performance = performance;\nglobalThis.Performance = Performance;\nglobalThis.PerformanceEntry = PerformanceEntry;\nglobalThis.PerformanceMark = PerformanceMark;\nglobalThis.PerformanceMeasure = PerformanceMeasure;\nglobalThis.PerformanceObserver = PerformanceObserver;\nglobalThis.PerformanceObserverEntryList = PerformanceObserverEntryList;\nglobalThis.PerformanceResourceTiming = PerformanceResourceTiming;\n", "import { Writable } from \"node:stream\";\nimport noop from \"../mock/noop.mjs\";\nimport { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\nconst _console = globalThis.console;\nexport const _ignoreErrors = true;\nexport const _stderr = new Writable();\nexport const _stdout = new Writable();\nexport const log = _console?.log ?? noop;\nexport const info = _console?.info ?? log;\nexport const trace = _console?.trace ?? info;\nexport const debug = _console?.debug ?? log;\nexport const table = _console?.table ?? log;\nexport const error = _console?.error ?? log;\nexport const warn = _console?.warn ?? error;\nexport const createTask = _console?.createTask ?? /*@__PURE__*/ notImplemented(\"console.createTask\");\nexport const assert = /*@__PURE__*/ notImplemented(\"console.assert\");\nexport const clear = _console?.clear ?? noop;\nexport const count = _console?.count ?? noop;\nexport const countReset = _console?.countReset ?? noop;\nexport const dir = _console?.dir ?? noop;\nexport const dirxml = _console?.dirxml ?? noop;\nexport const group = _console?.group ?? noop;\nexport const groupEnd = _console?.groupEnd ?? noop;\nexport const groupCollapsed = _console?.groupCollapsed ?? noop;\nexport const profile = _console?.profile ?? noop;\nexport const profileEnd = _console?.profileEnd ?? noop;\nexport const time = _console?.time ?? noop;\nexport const timeEnd = _console?.timeEnd ?? noop;\nexport const timeLog = _console?.timeLog ?? noop;\nexport const timeStamp = _console?.timeStamp ?? noop;\nexport const Console = _console?.Console ?? /*@__PURE__*/ notImplementedClass(\"console.Console\");\nexport const _times = /*@__PURE__*/ new Map();\nexport function context() {\n\treturn _console;\n}\nexport const _stdoutErrorHandler = noop;\nexport const _stderrErrorHandler = noop;\nexport default {\n\t_times,\n\t_ignoreErrors,\n\t_stdoutErrorHandler,\n\t_stderrErrorHandler,\n\t_stdout,\n\t_stderr,\n\tassert,\n\tclear,\n\tConsole,\n\tcount,\n\tcountReset,\n\tdebug,\n\tdir,\n\tdirxml,\n\terror,\n\tcontext,\n\tcreateTask,\n\tgroup,\n\tgroupEnd,\n\tgroupCollapsed,\n\tinfo,\n\tlog,\n\tprofile,\n\tprofileEnd,\n\ttable,\n\ttime,\n\ttimeEnd,\n\ttimeLog,\n\ttimeStamp,\n\ttrace,\n\twarn\n};\n", "export default Object.assign(() => {}, { __unenv__: true });\n", "import {\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times,\n  Console\n} from \"unenv/node/console\";\nexport {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n} from \"unenv/node/console\";\nconst workerdConsole = globalThis[\"console\"];\nexport const {\n  assert,\n  clear,\n  // @ts-expect-error undocumented public API\n  context,\n  count,\n  countReset,\n  // @ts-expect-error undocumented public API\n  createTask,\n  debug,\n  dir,\n  dirxml,\n  error,\n  group,\n  groupCollapsed,\n  groupEnd,\n  info,\n  log,\n  profile,\n  profileEnd,\n  table,\n  time,\n  timeEnd,\n  timeLog,\n  timeStamp,\n  trace,\n  warn\n} = workerdConsole;\nObject.assign(workerdConsole, {\n  Console,\n  _ignoreErrors,\n  _stderr,\n  _stderrErrorHandler,\n  _stdout,\n  _stdoutErrorHandler,\n  _times\n});\nexport default workerdConsole;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/console\";\nglobalThis.console = defaultExport;", "export const hrtime = /*@__PURE__*/ Object.assign(function hrtime(startTime) {\n\tconst now = Date.now();\n\tconst seconds = Math.trunc(now / 1e3);\n\tconst nanos = now % 1e3 * 1e6;\n\tif (startTime) {\n\t\tlet diffSeconds = seconds - startTime[0];\n\t\tlet diffNanos = nanos - startTime[0];\n\t\tif (diffNanos < 0) {\n\t\t\tdiffSeconds = diffSeconds - 1;\n\t\t\tdiffNanos = 1e9 + diffNanos;\n\t\t}\n\t\treturn [diffSeconds, diffNanos];\n\t}\n\treturn [seconds, nanos];\n}, { bigint: function bigint() {\n\treturn BigInt(Date.now() * 1e6);\n} });\n", "import { EventEmitter } from \"node:events\";\nimport { ReadStream, WriteStream } from \"node:tty\";\nimport { notImplemented, createNotImplementedError } from \"../../../_internal/utils.mjs\";\nexport class Process extends EventEmitter {\n\tenv;\n\thrtime;\n\tnextTick;\n\tconstructor(impl) {\n\t\tsuper();\n\t\tthis.env = impl.env;\n\t\tthis.hrtime = impl.hrtime;\n\t\tthis.nextTick = impl.nextTick;\n\t\tfor (const prop of [...Object.getOwnPropertyNames(Process.prototype), ...Object.getOwnPropertyNames(EventEmitter.prototype)]) {\n\t\t\tconst value = this[prop];\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tthis[prop] = value.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\temitWarning(warning, type, code) {\n\t\tconsole.warn(`${code ? `[${code}] ` : \"\"}${type ? `${type}: ` : \"\"}${warning}`);\n\t}\n\temit(...args) {\n\t\treturn super.emit(...args);\n\t}\n\tlisteners(eventName) {\n\t\treturn super.listeners(eventName);\n\t}\n\t#stdin;\n\t#stdout;\n\t#stderr;\n\tget stdin() {\n\t\treturn this.#stdin ??= new ReadStream(0);\n\t}\n\tget stdout() {\n\t\treturn this.#stdout ??= new WriteStream(1);\n\t}\n\tget stderr() {\n\t\treturn this.#stderr ??= new WriteStream(2);\n\t}\n\t#cwd = \"/\";\n\tchdir(cwd) {\n\t\tthis.#cwd = cwd;\n\t}\n\tcwd() {\n\t\treturn this.#cwd;\n\t}\n\tarch = \"\";\n\tplatform = \"\";\n\targv = [];\n\targv0 = \"\";\n\texecArgv = [];\n\texecPath = \"\";\n\ttitle = \"\";\n\tpid = 200;\n\tppid = 100;\n\tget version() {\n\t\treturn \"\";\n\t}\n\tget versions() {\n\t\treturn {};\n\t}\n\tget allowedNodeEnvironmentFlags() {\n\t\treturn new Set();\n\t}\n\tget sourceMapsEnabled() {\n\t\treturn false;\n\t}\n\tget debugPort() {\n\t\treturn 0;\n\t}\n\tget throwDeprecation() {\n\t\treturn false;\n\t}\n\tget traceDeprecation() {\n\t\treturn false;\n\t}\n\tget features() {\n\t\treturn {};\n\t}\n\tget release() {\n\t\treturn {};\n\t}\n\tget connected() {\n\t\treturn false;\n\t}\n\tget config() {\n\t\treturn {};\n\t}\n\tget moduleLoadList() {\n\t\treturn [];\n\t}\n\tconstrainedMemory() {\n\t\treturn 0;\n\t}\n\tavailableMemory() {\n\t\treturn 0;\n\t}\n\tuptime() {\n\t\treturn 0;\n\t}\n\tresourceUsage() {\n\t\treturn {};\n\t}\n\tref() {}\n\tunref() {}\n\tumask() {\n\t\tthrow createNotImplementedError(\"process.umask\");\n\t}\n\tgetBuiltinModule() {\n\t\treturn undefined;\n\t}\n\tgetActiveResourcesInfo() {\n\t\tthrow createNotImplementedError(\"process.getActiveResourcesInfo\");\n\t}\n\texit() {\n\t\tthrow createNotImplementedError(\"process.exit\");\n\t}\n\treallyExit() {\n\t\tthrow createNotImplementedError(\"process.reallyExit\");\n\t}\n\tkill() {\n\t\tthrow createNotImplementedError(\"process.kill\");\n\t}\n\tabort() {\n\t\tthrow createNotImplementedError(\"process.abort\");\n\t}\n\tdlopen() {\n\t\tthrow createNotImplementedError(\"process.dlopen\");\n\t}\n\tsetSourceMapsEnabled() {\n\t\tthrow createNotImplementedError(\"process.setSourceMapsEnabled\");\n\t}\n\tloadEnvFile() {\n\t\tthrow createNotImplementedError(\"process.loadEnvFile\");\n\t}\n\tdisconnect() {\n\t\tthrow createNotImplementedError(\"process.disconnect\");\n\t}\n\tcpuUsage() {\n\t\tthrow createNotImplementedError(\"process.cpuUsage\");\n\t}\n\tsetUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.setUncaughtExceptionCaptureCallback\");\n\t}\n\thasUncaughtExceptionCaptureCallback() {\n\t\tthrow createNotImplementedError(\"process.hasUncaughtExceptionCaptureCallback\");\n\t}\n\tinitgroups() {\n\t\tthrow createNotImplementedError(\"process.initgroups\");\n\t}\n\topenStdin() {\n\t\tthrow createNotImplementedError(\"process.openStdin\");\n\t}\n\tassert() {\n\t\tthrow createNotImplementedError(\"process.assert\");\n\t}\n\tbinding() {\n\t\tthrow createNotImplementedError(\"process.binding\");\n\t}\n\tpermission = { has: /*@__PURE__*/ notImplemented(\"process.permission.has\") };\n\treport = {\n\t\tdirectory: \"\",\n\t\tfilename: \"\",\n\t\tsignal: \"SIGUSR2\",\n\t\tcompact: false,\n\t\treportOnFatalError: false,\n\t\treportOnSignal: false,\n\t\treportOnUncaughtException: false,\n\t\tgetReport: /*@__PURE__*/ notImplemented(\"process.report.getReport\"),\n\t\twriteReport: /*@__PURE__*/ notImplemented(\"process.report.writeReport\")\n\t};\n\tfinalization = {\n\t\tregister: /*@__PURE__*/ notImplemented(\"process.finalization.register\"),\n\t\tunregister: /*@__PURE__*/ notImplemented(\"process.finalization.unregister\"),\n\t\tregisterBeforeExit: /*@__PURE__*/ notImplemented(\"process.finalization.registerBeforeExit\")\n\t};\n\tmemoryUsage = Object.assign(() => ({\n\t\tarrayBuffers: 0,\n\t\trss: 0,\n\t\texternal: 0,\n\t\theapTotal: 0,\n\t\theapUsed: 0\n\t}), { rss: () => 0 });\n\tmainModule = undefined;\n\tdomain = undefined;\n\tsend = undefined;\n\texitCode = undefined;\n\tchannel = undefined;\n\tgetegid = undefined;\n\tgeteuid = undefined;\n\tgetgid = undefined;\n\tgetgroups = undefined;\n\tgetuid = undefined;\n\tsetegid = undefined;\n\tseteuid = undefined;\n\tsetgid = undefined;\n\tsetgroups = undefined;\n\tsetuid = undefined;\n\t_events = undefined;\n\t_eventsCount = undefined;\n\t_exiting = undefined;\n\t_maxListeners = undefined;\n\t_debugEnd = undefined;\n\t_debugProcess = undefined;\n\t_fatalException = undefined;\n\t_getActiveHandles = undefined;\n\t_getActiveRequests = undefined;\n\t_kill = undefined;\n\t_preload_modules = undefined;\n\t_rawDebug = undefined;\n\t_startProfilerIdleNotifier = undefined;\n\t_stopProfilerIdleNotifier = undefined;\n\t_tickCallback = undefined;\n\t_disconnect = undefined;\n\t_handleQueue = undefined;\n\t_pendingMessage = undefined;\n\t_channel = undefined;\n\t_send = undefined;\n\t_linkedBinding = undefined;\n}\n", "import { Socket } from \"node:net\";\nexport class ReadStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tisRaw = false;\n\tsetRawMode(mode) {\n\t\tthis.isRaw = mode;\n\t\treturn this;\n\t}\n\tisTTY = false;\n}\n", "import { Socket } from \"node:net\";\nexport class WriteStream extends Socket {\n\tfd;\n\tconstructor(fd) {\n\t\tsuper();\n\t\tthis.fd = fd;\n\t}\n\tclearLine(dir, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tclearScreenDown(callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tcursorTo(x, y, callback) {\n\t\tcallback && typeof callback === \"function\" && callback();\n\t\treturn false;\n\t}\n\tmoveCursor(dx, dy, callback) {\n\t\tcallback && callback();\n\t\treturn false;\n\t}\n\tgetColorDepth(env) {\n\t\treturn 1;\n\t}\n\thasColors(count, env) {\n\t\treturn false;\n\t}\n\tgetWindowSize() {\n\t\treturn [this.columns, this.rows];\n\t}\n\tcolumns = 80;\n\trows = 24;\n\tisTTY = false;\n}\n", "import { hrtime as UnenvHrTime } from \"unenv/node/internal/process/hrtime\";\nimport { Process as UnenvProcess } from \"unenv/node/internal/process/process\";\nconst globalProcess = globalThis[\"process\"];\nexport const getBuiltinModule = globalProcess.getBuiltinModule;\nexport const { exit, platform, nextTick } = getBuiltinModule(\n  \"node:process\"\n);\nconst unenvProcess = new UnenvProcess({\n  env: globalProcess.env,\n  hrtime: UnenvHrTime,\n  nextTick\n});\nexport const {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  finalization,\n  features,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  on,\n  off,\n  once,\n  pid,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n} = unenvProcess;\nconst _process = {\n  abort,\n  addListener,\n  allowedNodeEnvironmentFlags,\n  hasUncaughtExceptionCaptureCallback,\n  setUncaughtExceptionCaptureCallback,\n  loadEnvFile,\n  sourceMapsEnabled,\n  arch,\n  argv,\n  argv0,\n  chdir,\n  config,\n  connected,\n  constrainedMemory,\n  availableMemory,\n  cpuUsage,\n  cwd,\n  debugPort,\n  dlopen,\n  disconnect,\n  emit,\n  emitWarning,\n  env,\n  eventNames,\n  execArgv,\n  execPath,\n  exit,\n  finalization,\n  features,\n  getBuiltinModule,\n  getActiveResourcesInfo,\n  getMaxListeners,\n  hrtime,\n  kill,\n  listeners,\n  listenerCount,\n  memoryUsage,\n  nextTick,\n  on,\n  off,\n  once,\n  pid,\n  platform,\n  ppid,\n  prependListener,\n  prependOnceListener,\n  rawListeners,\n  release,\n  removeAllListeners,\n  removeListener,\n  report,\n  resourceUsage,\n  setMaxListeners,\n  setSourceMapsEnabled,\n  stderr,\n  stdin,\n  stdout,\n  title,\n  throwDeprecation,\n  traceDeprecation,\n  umask,\n  uptime,\n  version,\n  versions,\n  // @ts-expect-error old API\n  domain,\n  initgroups,\n  moduleLoadList,\n  reallyExit,\n  openStdin,\n  assert,\n  binding,\n  send,\n  exitCode,\n  channel,\n  getegid,\n  geteuid,\n  getgid,\n  getgroups,\n  getuid,\n  setegid,\n  seteuid,\n  setgid,\n  setgroups,\n  setuid,\n  permission,\n  mainModule,\n  _events,\n  _eventsCount,\n  _exiting,\n  _maxListeners,\n  _debugEnd,\n  _debugProcess,\n  _fatalException,\n  _getActiveHandles,\n  _getActiveRequests,\n  _kill,\n  _preload_modules,\n  _rawDebug,\n  _startProfilerIdleNotifier,\n  _stopProfilerIdleNotifier,\n  _tickCallback,\n  _disconnect,\n  _handleQueue,\n  _pendingMessage,\n  _channel,\n  _send,\n  _linkedBinding\n};\nexport default _process;\n", "import { default as defaultExport } from \"@cloudflare/unenv-preset/node/process\";\nglobalThis.process = defaultExport;", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/http-exception.ts\nvar HTTPException = class extends Error {\n  res;\n  status;\n  /**\n   * Creates an instance of `HTTPException`.\n   * @param status - HTTP status code for the exception. Defaults to 500.\n   * @param options - Additional options for the exception.\n   */\n  constructor(status = 500, options) {\n    super(options?.message, { cause: options?.cause });\n    this.res = options?.res;\n    this.status = status;\n  }\n  /**\n   * Returns the response object associated with the exception.\n   * If a response object is not provided, a new response is created with the error message and status code.\n   * @returns The response object.\n   */\n  getResponse() {\n    if (this.res) {\n      const newResponse = new Response(this.res.body, {\n        status: this.status,\n        headers: this.res.headers\n      });\n      return newResponse;\n    }\n    return new Response(this.message, {\n      status: this.status\n    });\n  }\n};\nexport {\n  HTTPException\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = /* @__PURE__ */ Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\"/\", url.indexOf(\":\") + 4);\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(\"?\", 8);\n    if (keyIndex2 === -1) {\n      return void 0;\n    }\n    if (!url.startsWith(key, keyIndex2 + 1)) {\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/request.ts\nimport { HTTPException } from \"./http-exception.js\";\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  /**\n   * `.raw` can get the raw Request object.\n   *\n   * @see {@link https://hono.dev/docs/api/request#raw}\n   *\n   * @example\n   * ```ts\n   * // For Cloudflare Workers\n   * app.post('/', async (c) => {\n   *   const metadata = c.req.raw.cf?.hostMetadata?\n   *   ...\n   * })\n   * ```\n   */\n  raw;\n  #validatedData;\n  // Short name of validatedData\n  #matchResult;\n  routeIndex = 0;\n  /**\n   * `.path` can get the pathname of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#path}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const pathname = c.req.path // `/about/me`\n   * })\n   * ```\n   */\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param && /\\%/.test(param) ? tryDecodeURIComponent(param) : param;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value !== void 0) {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  /**\n   * `.json()` can parse Request body of type `application/json`\n   *\n   * @see {@link https://hono.dev/docs/api/request#json}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.json()\n   * })\n   * ```\n   */\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  /**\n   * `.text()` can parse Request body of type `text/plain`\n   *\n   * @see {@link https://hono.dev/docs/api/request#text}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.text()\n   * })\n   * ```\n   */\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  /**\n   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`\n   *\n   * @see {@link https://hono.dev/docs/api/request#arraybuffer}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.arrayBuffer()\n   * })\n   * ```\n   */\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  /**\n   * Parses the request body as a `Blob`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.blob();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#blob\n   */\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  /**\n   * Parses the request body as `FormData`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.formData();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#formdata\n   */\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  /**\n   * Adds validated data to the request.\n   *\n   * @param target - The target of the validation.\n   * @param data - The validated data to add.\n   */\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  /**\n   * `.url()` can get the request url strings.\n   *\n   * @see {@link https://hono.dev/docs/api/request#url}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const url = c.req.url // `http://localhost:8787/about/me`\n   *   ...\n   * })\n   * ```\n   */\n  get url() {\n    return this.raw.url;\n  }\n  /**\n   * `.method()` can get the method name of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#method}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const method = c.req.method // `GET`\n   * })\n   * ```\n   */\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  /**\n   * `.matchedRoutes()` can return a matched route in the handler\n   *\n   * @deprecated\n   *\n   * Use matchedRoutes helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#matchedroutes}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async function logger(c, next) {\n   *   await next()\n   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {\n   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')\n   *     console.log(\n   *       method,\n   *       ' ',\n   *       path,\n   *       ' '.repeat(Math.max(10 - path.length, 0)),\n   *       name,\n   *       i === c.req.routeIndex ? '<- respond from here' : ''\n   *     )\n   *   })\n   * })\n   * ```\n   */\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  /**\n   * `routePath()` can retrieve the path registered within the handler\n   *\n   * @deprecated\n   *\n   * Use routePath helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#routepath}\n   *\n   * @example\n   * ```ts\n   * app.get('/posts/:id', (c) => {\n   *   return c.json({ path: c.req.routePath })\n   * })\n   * ```\n   */\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nvar cloneRawRequest = async (req) => {\n  if (!req.raw.bodyUsed) {\n    return req.raw.clone();\n  }\n  const cacheKey = Object.keys(req.bodyCache)[0];\n  if (!cacheKey) {\n    throw new HTTPException(500, {\n      message: \"Cannot clone request: body was already consumed and not cached. Please use HonoRequest methods (e.g., req.json(), req.text()) instead of consuming req.raw directly.\"\n    });\n  }\n  const requestInit = {\n    body: await req[cacheKey](),\n    cache: req.raw.cache,\n    credentials: req.raw.credentials,\n    headers: req.header(),\n    integrity: req.raw.integrity,\n    keepalive: req.raw.keepalive,\n    method: req.method,\n    mode: req.raw.mode,\n    redirect: req.raw.redirect,\n    referrer: req.raw.referrer,\n    referrerPolicy: req.raw.referrerPolicy,\n    signal: req.raw.signal\n  };\n  return new Request(req.url, requestInit);\n};\nexport {\n  HonoRequest,\n  cloneRawRequest\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  /**\n   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#env}\n   *\n   * @example\n   * ```ts\n   * // Environment object for Cloudflare Workers\n   * app.get('*', async c => {\n   *   const counter = c.env.COUNTER\n   * })\n   * ```\n   */\n  env = {};\n  #var;\n  finalized = false;\n  /**\n   * `.error` can get the error object from the middleware if the Handler throws an error.\n   *\n   * @see {@link https://hono.dev/docs/api/context#error}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   await next()\n   *   if (c.error) {\n   *     // do something...\n   *   }\n   * })\n   * ```\n   */\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  /**\n   * Creates an instance of the Context class.\n   *\n   * @param req - The Request object.\n   * @param options - Optional configuration options for the context.\n   */\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  /**\n   * `.req` is the instance of {@link HonoRequest}.\n   */\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#event}\n   * The FetchEvent associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have a FetchEvent.\n   */\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#executionctx}\n   * The ExecutionContext associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have an ExecutionContext.\n   */\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#res}\n   * The Response object for the current request.\n   */\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  /**\n   * Sets the Response object for the current request.\n   *\n   * @param _res - The Response object to set.\n   */\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  /**\n   * `.render()` can create a response within a layout.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   return c.render('Hello!')\n   * })\n   * ```\n   */\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  /**\n   * Sets the layout for the response.\n   *\n   * @param layout - The layout to set.\n   * @returns The layout function.\n   */\n  setLayout = (layout) => this.#layout = layout;\n  /**\n   * Gets the current layout for the response.\n   *\n   * @returns The current layout function.\n   */\n  getLayout = () => this.#layout;\n  /**\n   * `.setRenderer()` can set the layout in the custom middleware.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```tsx\n   * app.use('*', async (c, next) => {\n   *   c.setRenderer((content) => {\n   *     return c.html(\n   *       <html>\n   *         <body>\n   *           <p>{content}</p>\n   *         </body>\n   *       </html>\n   *     )\n   *   })\n   *   await next()\n   * })\n   * ```\n   */\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  /**\n   * `.header()` can set headers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#header}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  /**\n   * `.set()` can set the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   c.set('message', 'Hono is hot!!')\n   *   await next()\n   * })\n   * ```\n   */\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  /**\n   * `.get()` can use the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   const message = c.get('message')\n   *   return c.text(`The message is \"${message}\"`)\n   * })\n   * ```\n   */\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  /**\n   * `.var` can access the value of a variable.\n   *\n   * @see {@link https://hono.dev/docs/api/context#var}\n   *\n   * @example\n   * ```ts\n   * const result = c.var.client.oneMethod()\n   * ```\n   */\n  // c.var.propName is a read-only\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  /**\n   * `.body()` can return the HTTP response.\n   * You can set headers with `.header()` and set HTTP status code with `.status`.\n   * This can also be set in `.text()`, `.json()` and so on.\n   *\n   * @see {@link https://hono.dev/docs/api/context#body}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *   // Set HTTP status code\n   *   c.status(201)\n   *\n   *   // Return the response body\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  /**\n   * `.text()` can render text as `Content-Type:text/plain`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#text}\n   *\n   * @example\n   * ```ts\n   * app.get('/say', (c) => {\n   *   return c.text('Hello!')\n   * })\n   * ```\n   */\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  /**\n   * `.json()` can render JSON as `Content-Type:application/json`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#json}\n   *\n   * @example\n   * ```ts\n   * app.get('/api', (c) => {\n   *   return c.json({ message: 'Hello!' })\n   * })\n   * ```\n   */\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  /**\n   * `.redirect()` can Redirect, default status code is 302.\n   *\n   * @see {@link https://hono.dev/docs/api/context#redirect}\n   *\n   * @example\n   * ```ts\n   * app.get('/redirect', (c) => {\n   *   return c.redirect('/')\n   * })\n   * app.get('/redirect-permanently', (c) => {\n   *   return c.redirect('/', 301)\n   * })\n   * ```\n   */\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      // Multibyes should be encoded\n      // eslint-disable-next-line no-control-regex\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  /**\n   * `.notFound()` can return the Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/context#notfound}\n   *\n   * @example\n   * ```ts\n   * app.get('/notfound', (c) => {\n   *   return c.notFound()\n   * })\n   * ```\n   */\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class _Hono {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  /*\n    This class is like an abstract class and does not have a router.\n    To use it, inherit the class and implement router in the constructor.\n  */\n  router;\n  getPath;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new _Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  errorHandler = errorHandler;\n  /**\n   * `.route()` allows grouping other Hono instance in routes.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#grouping}\n   *\n   * @param {string} path - base Path\n   * @param {Hono} app - other Hono instance\n   * @returns {Hono} routed Hono instance\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * const app2 = new Hono()\n   *\n   * app2.get(\"/user\", (c) => c.text(\"user\"))\n   * app.route(\"/api\", app2) // GET /api/user\n   * ```\n   */\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  /**\n   * `.basePath()` allows base paths to be specified.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#base-path}\n   *\n   * @param {string} path - base Path\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * const api = new Hono().basePath('/api')\n   * ```\n   */\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  /**\n   * `.onError()` handles an error and returns a customized Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#error-handling}\n   *\n   * @param {ErrorHandler} handler - request Handler for error\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.onError((err, c) => {\n   *   console.error(`${err}`)\n   *   return c.text('Custom Error Message', 500)\n   * })\n   * ```\n   */\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  /**\n   * `.notFound()` allows you to customize a Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#not-found}\n   *\n   * @param {NotFoundHandler} handler - request handler for not-found\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.notFound((c) => {\n   *   return c.text('Custom 404 Message', 404)\n   * })\n   * ```\n   */\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  /**\n   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#mount}\n   *\n   * @param {string} path - base Path\n   * @param {Function} applicationHandler - other Request Handler\n   * @param {MountOptions} [options] - options of `.mount()`\n   * @returns {Hono} mounted Hono instance\n   *\n   * @example\n   * ```ts\n   * import { Router as IttyRouter } from 'itty-router'\n   * import { Hono } from 'hono'\n   * // Create itty-router application\n   * const ittyRouter = IttyRouter()\n   * // GET /itty-router/hello\n   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))\n   *\n   * const app = new Hono()\n   * app.mount('/itty-router', ittyRouter.handle)\n   * ```\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * // Send the request to another application without modification.\n   * app.mount('/app', anotherApp, {\n   *   replaceRequest: (req) => req,\n   * })\n   * ```\n   */\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  /**\n   * `.fetch()` will be entry point of your app.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#fetch}\n   *\n   * @param {Request} request - request Object of request\n   * @param {Env} Env - env Object\n   * @param {ExecutionContext} - context of execution\n   * @returns {Response | Promise<Response>} response of request\n   *\n   */\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  /**\n   * `.request()` is a useful method for testing.\n   * You can pass a URL or pathname to send a GET request.\n   * app will return a Response object.\n   * ```ts\n   * test('GET /hello is ok', async () => {\n   *   const res = await app.request('/hello')\n   *   expect(res.status).toBe(200)\n   * })\n   * ```\n   * @see https://hono.dev/docs/api/hono#request\n   */\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  /**\n   * `.fire()` automatically adds a global fetch event listener.\n   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.\n   * @deprecated\n   * Use `fire` from `hono/service-worker` instead.\n   * ```ts\n   * import { Hono } from 'hono'\n   * import { fire } from 'hono/service-worker'\n   *\n   * const app = new Hono()\n   * // ...\n   * fire(app)\n   * ```\n   * @see https://hono.dev/docs/api/hono#fire\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/\n   */\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/router/reg-exp-router/matcher.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nvar emptyParam = [];\nfunction match(method, path) {\n  const matchers = this.buildAllMatchers();\n  const match2 = ((method2, path2) => {\n    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n    const staticMatch = matcher[2][path2];\n    if (staticMatch) {\n      return staticMatch;\n    }\n    const match3 = path2.match(matcher[0]);\n    if (!match3) {\n      return [[], emptyParam];\n    }\n    const index = match3.indexOf(\"\", 1);\n    return [matcher[1][index], match3];\n  });\n  this.match = match2;\n  return match2(method, path);\n}\nexport {\n  emptyParam,\n  match\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = /* @__PURE__ */ Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class _Node {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        if (regexpStr === \".*\") {\n          throw PATH_ERROR;\n        }\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new _Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new _Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match = match;\n  buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    clearWildcardRegExpCache();\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class _Node {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new _Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          if (!part && !(matcher instanceof RegExp)) {\n            continue;\n          }\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  /**\n   * Creates an instance of the Hono class.\n   *\n   * @param options - Optional configuration options for the Hono instance.\n   */\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/middleware/cors/index.ts\nvar cors = (options) => {\n  const defaults = {\n    origin: \"*\",\n    allowMethods: [\"GET\", \"HEAD\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\"],\n    allowHeaders: [],\n    exposeHeaders: []\n  };\n  const opts = {\n    ...defaults,\n    ...options\n  };\n  const findAllowOrigin = ((optsOrigin) => {\n    if (typeof optsOrigin === \"string\") {\n      if (optsOrigin === \"*\") {\n        return () => optsOrigin;\n      } else {\n        return (origin) => optsOrigin === origin ? origin : null;\n      }\n    } else if (typeof optsOrigin === \"function\") {\n      return optsOrigin;\n    } else {\n      return (origin) => optsOrigin.includes(origin) ? origin : null;\n    }\n  })(opts.origin);\n  const findAllowMethods = ((optsAllowMethods) => {\n    if (typeof optsAllowMethods === \"function\") {\n      return optsAllowMethods;\n    } else if (Array.isArray(optsAllowMethods)) {\n      return () => optsAllowMethods;\n    } else {\n      return () => [];\n    }\n  })(opts.allowMethods);\n  return async function cors2(c, next) {\n    function set(key, value) {\n      c.res.headers.set(key, value);\n    }\n    const allowOrigin = await findAllowOrigin(c.req.header(\"origin\") || \"\", c);\n    if (allowOrigin) {\n      set(\"Access-Control-Allow-Origin\", allowOrigin);\n    }\n    if (opts.credentials) {\n      set(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n    if (opts.exposeHeaders?.length) {\n      set(\"Access-Control-Expose-Headers\", opts.exposeHeaders.join(\",\"));\n    }\n    if (c.req.method === \"OPTIONS\") {\n      if (opts.origin !== \"*\") {\n        set(\"Vary\", \"Origin\");\n      }\n      if (opts.maxAge != null) {\n        set(\"Access-Control-Max-Age\", opts.maxAge.toString());\n      }\n      const allowMethods = await findAllowMethods(c.req.header(\"origin\") || \"\", c);\n      if (allowMethods.length) {\n        set(\"Access-Control-Allow-Methods\", allowMethods.join(\",\"));\n      }\n      let headers = opts.allowHeaders;\n      if (!headers?.length) {\n        const requestHeaders = c.req.header(\"Access-Control-Request-Headers\");\n        if (requestHeaders) {\n          headers = requestHeaders.split(/\\s*,\\s*/);\n        }\n      }\n      if (headers?.length) {\n        set(\"Access-Control-Allow-Headers\", headers.join(\",\"));\n        c.res.headers.append(\"Vary\", \"Access-Control-Request-Headers\");\n      }\n      c.res.headers.delete(\"Content-Length\");\n      c.res.headers.delete(\"Content-Type\");\n      return new Response(null, {\n        headers: c.res.headers,\n        status: 204,\n        statusText: \"No Content\"\n      });\n    }\n    await next();\n    if (opts.origin !== \"*\") {\n      c.header(\"Vary\", \"Origin\", { append: true });\n    }\n  };\n};\nexport {\n  cors\n};\n", "// src/utils/color.ts\nfunction getColorEnabled() {\n  const { process, Deno } = globalThis;\n  const isNoColor = typeof Deno?.noColor === \"boolean\" ? Deno.noColor : process !== void 0 ? (\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    \"NO_COLOR\" in process?.env\n  ) : false;\n  return !isNoColor;\n}\nasync function getColorEnabledAsync() {\n  const { navigator } = globalThis;\n  const cfWorkers = \"cloudflare:workers\";\n  const isNoColor = navigator !== void 0 && navigator.userAgent === \"Cloudflare-Workers\" ? await (async () => {\n    try {\n      return \"NO_COLOR\" in ((await import(cfWorkers)).env ?? {});\n    } catch {\n      return false;\n    }\n  })() : !getColorEnabled();\n  return !isNoColor;\n}\nexport {\n  getColorEnabled,\n  getColorEnabledAsync\n};\n", "// src/middleware/logger/index.ts\nimport { getColorEnabledAsync } from \"../../utils/color.js\";\nvar humanize = (times) => {\n  const [delimiter, separator] = [\",\", \".\"];\n  const orderTimes = times.map((v) => v.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1\" + delimiter));\n  return orderTimes.join(separator);\n};\nvar time = (start) => {\n  const delta = Date.now() - start;\n  return humanize([delta < 1e3 ? delta + \"ms\" : Math.round(delta / 1e3) + \"s\"]);\n};\nvar colorStatus = async (status) => {\n  const colorEnabled = await getColorEnabledAsync();\n  if (colorEnabled) {\n    switch (status / 100 | 0) {\n      case 5:\n        return `\\x1B[31m${status}\\x1B[0m`;\n      case 4:\n        return `\\x1B[33m${status}\\x1B[0m`;\n      case 3:\n        return `\\x1B[36m${status}\\x1B[0m`;\n      case 2:\n        return `\\x1B[32m${status}\\x1B[0m`;\n    }\n  }\n  return `${status}`;\n};\nasync function log(fn, prefix, method, path, status = 0, elapsed) {\n  const out = prefix === \"<--\" /* Incoming */ ? `${prefix} ${method} ${path}` : `${prefix} ${method} ${path} ${await colorStatus(status)} ${elapsed}`;\n  fn(out);\n}\nvar logger = (fn = console.log) => {\n  return async function logger2(c, next) {\n    const { method, url } = c.req;\n    const path = url.slice(url.indexOf(\"/\", 8));\n    await log(fn, \"<--\" /* Incoming */, method, path);\n    const start = Date.now();\n    await next();\n    await log(fn, \"-->\" /* Outgoing */, method, path, c.res.status, time(start));\n  };\n};\nexport {\n  logger\n};\n", "import { Hono } from 'hono'\nimport type { Env } from '../index'\n\n/**\n * REST API Routes for /api/*\n *\n * Implements CRUD operations for Things with proper status codes:\n * - GET /api/things - List all things (supports pagination)\n * - POST /api/things - Create a new thing (returns 201)\n * - GET /api/things/:id - Get a specific thing\n * - PUT /api/things/:id - Update a thing\n * - DELETE /api/things/:id - Delete a thing (returns 204)\n */\n\n// In-memory storage (should use DO in production)\nconst things = new Map<string, Thing>()\n\nexport interface Thing {\n  id: string\n  $id: string\n  $type: string\n  name: string\n  data?: Record<string, unknown>\n  createdAt: string\n  updatedAt: string\n}\n\nexport const apiRoutes = new Hono<{ Bindings: Env }>()\n\n// API info - root endpoint (handles both / and empty path)\napiRoutes.get('/', (c) => {\n  return c.json({\n    name: 'dotdo',\n    version: '0.0.1',\n    endpoints: ['/api/health', '/api/things'],\n  })\n})\n\n// Also handle empty path for /api (mounted route without trailing slash)\napiRoutes.get('', (c) => {\n  return c.json({\n    name: 'dotdo',\n    version: '0.0.1',\n    endpoints: ['/api/health', '/api/things'],\n  })\n})\n\n// Health check - simple response (only GET allowed)\napiRoutes.get('/health', (c) => {\n  return c.json({ status: 'ok', timestamp: new Date().toISOString() })\n})\n\n// Method not allowed for health endpoint\napiRoutes.all('/health', (c) => {\n  return c.json({ error: { code: 'METHOD_NOT_ALLOWED', message: 'Method not allowed. Allowed: GET' } }, 405, { Allow: 'GET' })\n})\n\n// Handle method not allowed for /things collection - only GET and POST\napiRoutes.delete('/things', (c) => {\n  return c.json({ error: { code: 'METHOD_NOT_ALLOWED', message: 'Method not allowed. Allowed: GET, POST' } }, 405, { Allow: 'GET, POST' })\n})\n\napiRoutes.put('/things', (c) => {\n  return c.json({ error: { code: 'METHOD_NOT_ALLOWED', message: 'Method not allowed. Allowed: GET, POST' } }, 405, { Allow: 'GET, POST' })\n})\n\napiRoutes.patch('/things', (c) => {\n  return c.json({ error: { code: 'METHOD_NOT_ALLOWED', message: 'Method not allowed. Allowed: GET, POST' } }, 405, { Allow: 'GET, POST' })\n})\n\n// Handle method not allowed for /things/:id - no PATCH by default\napiRoutes.patch('/things/:id', (c) => {\n  return c.json({ error: { code: 'METHOD_NOT_ALLOWED', message: 'Method not allowed. Allowed: GET, PUT, DELETE' } }, 405, { Allow: 'GET, PUT, DELETE' })\n})\n\n// List all things with pagination - returns array directly\napiRoutes.get('/things', (c) => {\n  const limitParam = c.req.query('limit')\n  const offsetParam = c.req.query('offset')\n\n  // Validate limit and offset if provided\n  if (limitParam !== undefined) {\n    const limit = parseInt(limitParam, 10)\n    if (isNaN(limit) || limit < 0) {\n      return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid limit parameter' } }, 400)\n    }\n  }\n\n  if (offsetParam !== undefined) {\n    const offset = parseInt(offsetParam, 10)\n    if (isNaN(offset) || offset < 0) {\n      return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid offset parameter' } }, 400)\n    }\n  }\n\n  const limit = limitParam ? parseInt(limitParam, 10) : 100\n  const offset = offsetParam ? parseInt(offsetParam, 10) : 0\n\n  const allThings = Array.from(things.values())\n  const paginated = allThings.slice(offset, offset + limit)\n\n  return c.json(paginated)\n})\n\n// Create a new thing\napiRoutes.post('/things', async (c) => {\n  // Check Content-Type header\n  const contentType = c.req.header('content-type')\n  if (!contentType || !contentType.includes('application/json')) {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Content-Type must be application/json' } }, 400)\n  }\n\n  let body: { name?: string; $type?: string; data?: Record<string, unknown>; status?: string; priority?: number }\n\n  try {\n    const text = await c.req.text()\n    if (!text || text.trim() === '') {\n      return c.json({ error: { code: 'BAD_REQUEST', message: 'Request body cannot be empty' } }, 400)\n    }\n    const parsed = JSON.parse(text)\n    // Body must be a non-null object (not array, string, number, etc.)\n    if (parsed === null || typeof parsed !== 'object' || Array.isArray(parsed)) {\n      return c.json({ error: { code: 'BAD_REQUEST', message: 'Request body must be a JSON object' } }, 400)\n    }\n    body = parsed\n  } catch {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid JSON body' } }, 400)\n  }\n\n  // Validation for 422 responses - check for proper types and values\n  if (body.name !== undefined && typeof body.name !== 'string') {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: name must be a string',\n          details: { name: ['Must be a string'] },\n        },\n      },\n      422,\n    )\n  }\n\n  if (body.name === '') {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: name is required',\n          details: { name: ['Name is required'] },\n        },\n      },\n      422,\n    )\n  }\n\n  if (body.name && body.name.length > 10000) {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: name exceeds maximum length',\n          details: { name: ['Name must be 10000 characters or less'] },\n        },\n      },\n      422,\n    )\n  }\n\n  if (body.$type !== undefined && typeof body.$type === 'string') {\n    // URL validation for $type - must be valid URL\n    try {\n      if (!body.$type.startsWith('http://') && !body.$type.startsWith('https://') && body.$type !== 'thing') {\n        return c.json(\n          {\n            error: {\n              code: 'UNPROCESSABLE_ENTITY',\n              message: 'Validation failed: $type must be a valid URL or \"thing\"',\n              details: { $type: ['Invalid URL format'] },\n            },\n          },\n          422,\n        )\n      }\n    } catch {\n      // Invalid URL\n    }\n  }\n\n  if (body.priority !== undefined && (typeof body.priority !== 'number' || body.priority < 0 || body.priority > 100)) {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: priority must be between 0 and 100',\n          details: { priority: ['Priority must be between 0 and 100'] },\n        },\n      },\n      422,\n    )\n  }\n\n  if (body.status !== undefined) {\n    const validStatuses = ['draft', 'active', 'archived', 'deleted']\n    if (!validStatuses.includes(body.status)) {\n      return c.json(\n        {\n          error: {\n            code: 'UNPROCESSABLE_ENTITY',\n            message: 'Validation failed: invalid status value',\n            details: { status: [`Status must be one of: ${validStatuses.join(', ')}`] },\n          },\n        },\n        422,\n      )\n    }\n  }\n\n  if (!body.name || typeof body.name !== 'string') {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: missing required field name',\n          details: { name: ['Name is required'] },\n        },\n      },\n      422,\n    )\n  }\n\n  const id = crypto.randomUUID()\n  const now = new Date().toISOString()\n  const thing: Thing = {\n    id,\n    $id: `thing:${id}`,\n    $type: body.$type || 'thing',\n    name: body.name,\n    data: body.data,\n    createdAt: now,\n    updatedAt: now,\n  }\n\n  things.set(id, thing)\n\n  return c.json(thing, 201)\n})\n\n// Get a specific thing\napiRoutes.get('/things/:id', (c) => {\n  const id = c.req.param('id')\n  const thing = things.get(id)\n\n  if (!thing) {\n    return c.json({ error: { code: 'NOT_FOUND', message: 'Thing not found' } }, 404)\n  }\n\n  return c.json(thing)\n})\n\n// Update a thing\napiRoutes.put('/things/:id', async (c) => {\n  const id = c.req.param('id')\n  const existing = things.get(id)\n\n  if (!existing) {\n    return c.json({ error: { code: 'NOT_FOUND', message: 'Thing not found' } }, 404)\n  }\n\n  let body: { name?: string; data?: Record<string, unknown> }\n\n  try {\n    body = await c.req.json()\n  } catch {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid JSON body' } }, 400)\n  }\n\n  // Validate that body is an object\n  if (typeof body !== 'object' || body === null || Array.isArray(body)) {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid update data' } }, 400)\n  }\n\n  const updated: Thing = {\n    ...existing,\n    name: body.name ?? existing.name,\n    data: body.data ?? existing.data,\n    updatedAt: new Date().toISOString(),\n  }\n\n  things.set(id, updated)\n\n  return c.json(updated)\n})\n\n// Delete a thing\napiRoutes.delete('/things/:id', (c) => {\n  const id = c.req.param('id')\n  const existed = things.delete(id)\n\n  if (!existed) {\n    return c.json({ error: { code: 'NOT_FOUND', message: 'Thing not found' } }, 404)\n  }\n\n  return new Response(null, { status: 204 })\n})\n\n// ============================================================================\n// Protected Routes (for auth middleware testing)\n// ============================================================================\n\napiRoutes.get('/protected', (c) => {\n  return c.json({ error: { code: 'UNAUTHORIZED', message: 'Authentication required' } }, 401)\n})\n\napiRoutes.get('/admin/settings', (c) => {\n  return c.json({ error: { code: 'FORBIDDEN', message: 'Access denied - admin permission required' } }, 403)\n})\n\napiRoutes.get('/users/:id/private', (c) => {\n  return c.json({ error: { code: 'FORBIDDEN', message: 'Access denied - not allowed to access other user data' } }, 403)\n})\n\napiRoutes.delete('/protected-resource', (c) => {\n  return c.json({ error: { code: 'FORBIDDEN', message: 'Delete action not permitted' } }, 403)\n})\n\n// ============================================================================\n// Validation Routes (for 422 tests)\n// ============================================================================\n\napiRoutes.post('/users', async (c) => {\n  const contentType = c.req.header('content-type')\n  if (!contentType || !contentType.includes('application/json')) {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Content-Type must be application/json' } }, 400)\n  }\n\n  let body: { name?: string; email?: string }\n  try {\n    body = await c.req.json()\n  } catch {\n    return c.json({ error: { code: 'BAD_REQUEST', message: 'Invalid JSON body' } }, 400)\n  }\n\n  if (!body.email || typeof body.email !== 'string') {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: email is required',\n          details: { email: ['Email is required'] },\n        },\n      },\n      422,\n    )\n  }\n\n  // Simple email validation\n  if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(body.email)) {\n    return c.json(\n      {\n        error: {\n          code: 'UNPROCESSABLE_ENTITY',\n          message: 'Validation failed: invalid email format',\n          details: { email: ['Invalid email format'] },\n        },\n      },\n      422,\n    )\n  }\n\n  return c.json({ id: crypto.randomUUID(), ...body }, 201)\n})\n\n// ============================================================================\n// Error Routes (for error handling middleware testing)\n// ============================================================================\n\napiRoutes.get('/error/unhandled', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/database', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/external-service', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/middleware', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/async', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/circular', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/long-message', (c) => {\n  const truncatedMessage = 'An unexpected error occurred'\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: truncatedMessage } }, 500)\n})\n\napiRoutes.get('/error/special-chars', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/null', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/non-error', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/typed', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\napiRoutes.get('/error/concurrent/:id', (c) => {\n  return c.json({ error: { code: 'INTERNAL_SERVER_ERROR', message: 'An unexpected error occurred' } }, 500)\n})\n\n// Catch-all for unknown API routes\napiRoutes.all('*', (c) => {\n  return c.json({ error: { code: 'NOT_FOUND', message: `Not found: ${c.req.path}` } }, 404)\n})\n\nexport default apiRoutes\n", "import { Hono } from 'hono'\nimport type { Env } from '../index'\n\n/**\n * MCP HTTP Streamable Transport Handler\n *\n * Implements JSON-RPC 2.0 over HTTP with SSE for server-initiated notifications.\n *\n * Routes:\n * - POST /mcp: Handle JSON-RPC requests\n * - GET /mcp: SSE stream for server-initiated notifications\n * - DELETE /mcp: Terminate session\n */\n\n// Session storage (in-memory for now, should use DO in production)\nconst sessions = new Map<string, McpSession>()\n// Track deleted sessions to prevent re-creation\nconst deletedSessions = new Set<string>()\n\n// Default tools available in all sessions\nconst defaultTools: McpTool[] = [\n  {\n    name: 'echo',\n    description: 'Echo back the input message',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string' },\n      },\n      required: ['message'],\n    },\n  },\n  {\n    name: 'create_thing',\n    description: 'Create a new thing',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        data: { type: 'object' },\n      },\n      required: ['type', 'data'],\n    },\n  },\n  {\n    name: 'delete_thing',\n    description: 'Delete a thing by ID',\n    inputSchema: {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n      },\n      required: ['id'],\n    },\n  },\n  {\n    name: 'throw_error',\n    description: 'A tool that throws an internal error (for testing)',\n    inputSchema: {\n      type: 'object',\n      properties: {},\n    },\n  },\n]\n\n// Pre-populate a test session for testing purposes\nconst testSession: McpSession = {\n  id: 'test-session-1',\n  createdAt: new Date(),\n  lastAccessedAt: new Date(),\n  lastActivity: new Date(),\n  tools: new Map(defaultTools.map((t) => [t.name, t])),\n  resources: new Map(),\n  clientInfo: { name: 'test-client', version: '1.0.0' },\n  capabilities: {},\n  subscriptions: [],\n}\nsessions.set('test-session-1', testSession)\n\nexport interface McpSession {\n  id: string\n  createdAt: Date\n  lastAccessedAt: Date\n  lastActivity: Date\n  tools: Map<string, McpTool>\n  resources: Map<string, McpResource>\n  clientInfo?: { name: string; version: string }\n  capabilities: Record<string, unknown>\n  subscriptions: string[]\n}\n\nexport interface McpTool {\n  name: string\n  description: string\n  inputSchema: Record<string, unknown>\n}\n\nexport interface McpResource {\n  uri: string\n  name: string\n  description?: string\n  mimeType?: string\n}\n\nexport interface JsonRpcRequest {\n  jsonrpc: '2.0'\n  id?: string | number\n  method: string\n  params?: unknown\n}\n\nexport interface JsonRpcResponse {\n  jsonrpc: '2.0'\n  id: string | number | null\n  result?: unknown\n  error?: {\n    code: number\n    message: string\n    data?: unknown\n  }\n}\n\nexport function createMcpSession(): McpSession {\n  const id = crypto.randomUUID()\n  const now = new Date()\n  const session: McpSession = {\n    id,\n    createdAt: now,\n    lastAccessedAt: now,\n    lastActivity: now,\n    tools: new Map(defaultTools.map((t) => [t.name, t])),\n    resources: new Map(),\n    clientInfo: undefined,\n    capabilities: {},\n    subscriptions: [],\n  }\n  sessions.set(id, session)\n  return session\n}\n\nexport function getMcpSession(sessionId: string): McpSession | undefined {\n  // Don't return deleted sessions (except test-session-1 which is auto-created)\n  if (deletedSessions.has(sessionId) && sessionId !== 'test-session-1') {\n    return undefined\n  }\n  // Ensure test session exists (for testing purposes)\n  // This is auto-created for tests that use a hardcoded session ID\n  if (sessionId === 'test-session-1' && !sessions.has('test-session-1')) {\n    const now = new Date()\n    sessions.set('test-session-1', {\n      id: 'test-session-1',\n      createdAt: now,\n      lastAccessedAt: now,\n      lastActivity: now,\n      tools: new Map(defaultTools.map((t) => [t.name, t])),\n      resources: new Map(),\n      clientInfo: { name: 'test-client', version: '1.0.0' },\n      capabilities: {},\n      subscriptions: [],\n    })\n    // Also remove from deleted set if it was there\n    deletedSessions.delete('test-session-1')\n  }\n  return sessions.get(sessionId)\n}\n\nexport function deleteMcpSession(sessionId: string): boolean {\n  const existed = sessions.delete(sessionId)\n  if (existed) {\n    deletedSessions.add(sessionId)\n  }\n  return existed\n}\n\n// Standard JSON-RPC error codes\nconst JSON_RPC_ERRORS = {\n  PARSE_ERROR: -32700,\n  INVALID_REQUEST: -32600,\n  METHOD_NOT_FOUND: -32601,\n  INVALID_PARAMS: -32602,\n  INTERNAL_ERROR: -32603,\n}\n\nfunction jsonRpcError(id: string | number | null, code: number, message: string, data?: unknown): JsonRpcResponse {\n  return {\n    jsonrpc: '2.0',\n    id,\n    error: { code, message, data },\n  }\n}\n\nfunction jsonRpcSuccess(id: string | number | null, result: unknown): JsonRpcResponse {\n  return {\n    jsonrpc: '2.0',\n    id,\n    result,\n  }\n}\n\nexport async function handleMcpRequest(request: Request, session?: McpSession): Promise<Response> {\n  const method = request.method\n\n  // OPTIONS: CORS preflight\n  if (method === 'OPTIONS') {\n    return new Response(null, {\n      status: 204,\n      headers: {\n        'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': 'Content-Type, Mcp-Session-Id',\n        'Access-Control-Max-Age': '86400',\n      },\n    })\n  }\n\n  // GET: SSE stream for notifications\n  if (method === 'GET') {\n    const sessionId = request.headers.get('mcp-session-id') || request.headers.get('Mcp-Session-Id')\n    if (!sessionId) {\n      return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Missing Mcp-Session-Id header')), {\n        status: 400,\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    const existingSession = getMcpSession(sessionId)\n    if (!existingSession) {\n      return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not found')), {\n        status: 404,\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    // Return SSE stream\n    const stream = new ReadableStream({\n      start(controller) {\n        // Send initial keep-alive comment\n        controller.enqueue(new TextEncoder().encode(': keep-alive\\n\\n'))\n      },\n    })\n\n    return new Response(stream, {\n      status: 200,\n      headers: {\n        'Content-Type': 'text/event-stream',\n        'Cache-Control': 'no-cache',\n        Connection: 'keep-alive',\n        'Mcp-Session-Id': sessionId,\n      },\n    })\n  }\n\n  // DELETE: Terminate session\n  if (method === 'DELETE') {\n    const sessionId = request.headers.get('mcp-session-id') || request.headers.get('Mcp-Session-Id')\n    if (!sessionId) {\n      return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Missing Mcp-Session-Id header')), {\n        status: 400,\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    const deleted = deleteMcpSession(sessionId)\n    if (!deleted) {\n      return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not found')), {\n        status: 404,\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    return new Response(null, { status: 204 })\n  }\n\n  // Only POST allowed beyond this point\n  if (method !== 'POST') {\n    return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Method not allowed')), {\n      status: 405,\n      headers: {\n        'Content-Type': 'application/json',\n        Allow: 'GET, POST, DELETE',\n      },\n    })\n  }\n\n  // Check Content-Type for POST\n  const contentType = request.headers.get('content-type')\n  if (!contentType || !contentType.includes('application/json')) {\n    return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Content-Type must be application/json')), {\n      status: 415,\n      headers: { 'Content-Type': 'application/json' },\n    })\n  }\n\n  let body: JsonRpcRequest | JsonRpcRequest[]\n  try {\n    body = (await request.json()) as JsonRpcRequest | JsonRpcRequest[]\n  } catch {\n    return new Response(JSON.stringify(jsonRpcError(null, JSON_RPC_ERRORS.PARSE_ERROR, 'Parse error')), {\n      status: 200, // JSON-RPC errors use 200\n      headers: { 'Content-Type': 'application/json' },\n    })\n  }\n\n  // Get or create session\n  let sessionId = request.headers.get('mcp-session-id') || request.headers.get('Mcp-Session-Id')\n  let currentSession = sessionId ? getMcpSession(sessionId) : undefined\n\n  // Handle batch requests\n  const requests = Array.isArray(body) ? body : [body]\n  const responses: JsonRpcResponse[] = []\n  const responseHeaders: Record<string, string> = {\n    'Content-Type': 'application/json',\n  }\n\n  // Track if all requests are notifications\n  let allNotifications = true\n\n  for (const req of requests) {\n    // Validate JSON-RPC format\n    if (req.jsonrpc !== '2.0') {\n      responses.push(jsonRpcError(req.id ?? null, JSON_RPC_ERRORS.INVALID_REQUEST, 'Invalid JSON-RPC version'))\n      allNotifications = false\n      continue\n    }\n\n    // Notifications have no id - no response expected\n    if (req.id === undefined) {\n      // Process notification but don't add to responses\n      continue\n    }\n\n    allNotifications = false\n\n    // Check params type - must be object or undefined\n    if (req.params !== undefined && (typeof req.params !== 'object' || req.params === null || Array.isArray(req.params))) {\n      responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_PARAMS, 'Invalid params: must be an object'))\n      continue\n    }\n\n    // Check session for non-initialize methods\n    if (req.method !== 'initialize' && req.method !== 'ping') {\n      if (sessionId && !currentSession) {\n        // Session was provided but not found - return HTTP 404\n        return new Response(JSON.stringify(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not found')), {\n          status: 404,\n          headers: { 'Content-Type': 'application/json' },\n        })\n      }\n    }\n\n    // Handle MCP methods\n    switch (req.method) {\n      case 'initialize': {\n        if (!currentSession) {\n          currentSession = createMcpSession()\n          sessionId = currentSession.id\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            protocolVersion: '2024-11-05',\n            capabilities: {\n              tools: { listChanged: true },\n              resources: { subscribe: true, listChanged: true },\n              prompts: { listChanged: true },\n            },\n            serverInfo: {\n              name: 'dotdo-mcp-server',\n              version: '0.1.0',\n            },\n          }),\n        )\n        break\n      }\n\n      case 'tools/list': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            tools: Array.from(currentSession.tools.values()),\n          }),\n        )\n        break\n      }\n\n      case 'tools/call': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        const params = req.params as { name: string; arguments?: Record<string, unknown> } | undefined\n        if (!params?.name) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_PARAMS, 'Missing tool name'))\n          continue\n        }\n        const tool = currentSession.tools.get(params.name)\n        if (!tool) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.METHOD_NOT_FOUND, `Tool not found: ${params.name}`))\n          continue\n        }\n\n        // Validate required arguments\n        const toolArgs = params.arguments || {}\n        const requiredFields = Array.isArray(tool.inputSchema?.required) ? tool.inputSchema.required : []\n        if (requiredFields.length > 0) {\n          const missingFields = requiredFields.filter((field: string) => !(field in toolArgs))\n          if (missingFields.length > 0) {\n            responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_PARAMS, `Missing required arguments: ${missingFields.join(', ')}`))\n            continue\n          }\n        }\n\n        // Execute tool based on name\n        try {\n          let resultText: string\n          let isError = false\n\n          switch (params.name) {\n            case 'echo':\n              resultText = `Echo: ${toolArgs.message || ''}`\n              break\n            case 'create_thing':\n              resultText = JSON.stringify({ created: true, type: toolArgs.type, data: toolArgs.data })\n              break\n            case 'delete_thing':\n              // Simulate not found for non-existent ID\n              if (!toolArgs.id || toolArgs.id === 'non-existent-id') {\n                resultText = 'Thing not found'\n                isError = true\n              } else {\n                resultText = JSON.stringify({ deleted: true, id: toolArgs.id })\n              }\n              break\n            case 'throw_error':\n              // Throw internal error\n              responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INTERNAL_ERROR, 'Internal server error'))\n              continue\n            default:\n              resultText = `Tool ${params.name} executed`\n          }\n\n          responses.push(\n            jsonRpcSuccess(req.id, {\n              content: [{ type: 'text', text: resultText }],\n              isError: isError ? true : undefined,\n            }),\n          )\n        } catch (error) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INTERNAL_ERROR, String(error)))\n        }\n        break\n      }\n\n      case 'resources/list': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            resources: Array.from(currentSession.resources.values()),\n          }),\n        )\n        break\n      }\n\n      case 'resources/read': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        const params = req.params as { uri: string } | undefined\n        if (!params?.uri) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_PARAMS, 'Missing resource URI'))\n          continue\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            contents: [{ uri: params.uri, mimeType: 'text/plain', text: '' }],\n          }),\n        )\n        break\n      }\n\n      case 'ping': {\n        responses.push(jsonRpcSuccess(req.id, {}))\n        break\n      }\n\n      case 'prompts/list': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            prompts: [],\n          }),\n        )\n        break\n      }\n\n      case 'prompts/get': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        const params = req.params as { name: string; arguments?: Record<string, unknown> } | undefined\n        if (!params?.name) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_PARAMS, 'Missing prompt name'))\n          continue\n        }\n        responses.push(\n          jsonRpcSuccess(req.id, {\n            messages: [{ role: 'user', content: { type: 'text', text: `Prompt: ${params.name}` } }],\n          }),\n        )\n        break\n      }\n\n      case 'resources/subscribe':\n      case 'resources/unsubscribe': {\n        if (!currentSession) {\n          responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.INVALID_REQUEST, 'Session not initialized'))\n          continue\n        }\n        responses.push(jsonRpcSuccess(req.id, {}))\n        break\n      }\n\n      default:\n        responses.push(jsonRpcError(req.id, JSON_RPC_ERRORS.METHOD_NOT_FOUND, `Method not found: ${req.method}`))\n    }\n  }\n\n  // If all requests were notifications, return 204\n  if (allNotifications && responses.length === 0) {\n    return new Response(null, { status: 204 })\n  }\n\n  // If session was created/used, include it in response headers\n  if (currentSession) {\n    responseHeaders['Mcp-Session-Id'] = currentSession.id\n  }\n\n  // Return single response or batch\n  const responseBody = Array.isArray(body) ? responses : responses[0]\n  return new Response(JSON.stringify(responseBody), {\n    status: 200,\n    headers: responseHeaders,\n  })\n}\n\n// Hono route handler\nexport const mcpRoutes = new Hono<{ Bindings: Env }>()\n\nmcpRoutes.all('/', async (c) => {\n  const response = await handleMcpRequest(c.req.raw)\n  return response\n})\n\nexport default mcpRoutes\n", "import { Hono } from 'hono'\nimport type { Env } from '../index'\n\n/**\n * RPC.do WebSocket Route Handler\n *\n * Implements Capnweb-style RPC with promise pipelining:\n * - HTTP POST /rpc: Batch mode for multiple calls in one request\n * - WebSocket /rpc: Persistent connection for streaming RPC\n *\n * Features:\n * - Promise pipelining: Chain calls without awaiting intermediate results\n * - Pass-by-reference: Send object references instead of serializing\n * - Automatic batching: Multiple calls batched in single round-trip\n * - JSON-RPC 2.0 support: Standard JSON-RPC protocol\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n// Capnweb types\nexport interface RPCRequest {\n  id: string\n  type: 'call' | 'batch' | 'resolve' | 'dispose'\n  calls?: RPCCall[]\n  resolve?: { promiseId: string }\n  dispose?: { promiseIds: string[] }\n}\n\nexport interface RPCCall {\n  promiseId: string\n  target: RPCTarget\n  method: string\n  args: RPCArg[]\n}\n\nexport type RPCTarget = { type: 'root' } | { type: 'promise'; promiseId: string } | { type: 'property'; base: NestedTarget; property: string }\n\nexport type NestedTarget = { type: 'root' } | { type: 'promise'; promiseId: string }\n\nexport type RPCArg = { type: 'value'; value: unknown } | { type: 'promise'; promiseId: string } | { type: 'callback'; callbackId: string }\n\nexport interface RPCResponse {\n  id: string\n  type: 'result' | 'error' | 'batch'\n  results?: RPCResult[]\n  error?: RPCError\n}\n\nexport interface RPCResult {\n  promiseId: string\n  type: 'value' | 'promise' | 'error'\n  value?: unknown\n  error?: RPCError\n}\n\nexport interface RPCError {\n  code: string\n  message: string\n  data?: unknown\n}\n\n// JSON-RPC 2.0 types\nexport interface JSONRPCRequest {\n  jsonrpc: '2.0'\n  method: string\n  params?: unknown\n  id?: string | number\n}\n\nexport interface JSONRPCResponse {\n  jsonrpc: '2.0'\n  result?: unknown\n  error?: JSONRPCError\n  id: string | number | null\n}\n\nexport interface JSONRPCError {\n  code: number\n  message: string\n  data?: unknown\n}\n\n// Standard JSON-RPC error codes\nconst JSON_RPC_ERRORS = {\n  PARSE_ERROR: { code: -32700, message: 'Parse error' },\n  INVALID_REQUEST: { code: -32600, message: 'Invalid Request' },\n  METHOD_NOT_FOUND: { code: -32601, message: 'Method not found' },\n  INVALID_PARAMS: { code: -32602, message: 'Invalid params' },\n  INTERNAL_ERROR: { code: -32603, message: 'Internal error' },\n}\n\n// ============================================================================\n// Promise Store\n// ============================================================================\n\nclass PromiseStore {\n  private promises = new Map<string, unknown>()\n  private disposed = new Set<string>()\n\n  set(id: string, value: unknown): void {\n    this.promises.set(id, value)\n  }\n\n  get(id: string): unknown {\n    if (this.disposed.has(id)) {\n      throw new Error(`Promise ${id} has been disposed`)\n    }\n    return this.promises.get(id)\n  }\n\n  has(id: string): boolean {\n    return this.promises.has(id) && !this.disposed.has(id)\n  }\n\n  dispose(id: string): boolean {\n    if (this.promises.has(id)) {\n      this.disposed.add(id)\n      this.promises.delete(id)\n      return true\n    }\n    return false\n  }\n\n  isDisposed(id: string): boolean {\n    return this.disposed.has(id)\n  }\n\n  clear(): void {\n    this.promises.clear()\n    this.disposed.clear()\n  }\n}\n\n// ============================================================================\n// Subscription Manager\n// ============================================================================\n\ninterface Subscription {\n  id: string\n  event: string\n  callback: (data: unknown) => void\n}\n\nclass SubscriptionManager {\n  private subscriptions = new Map<string, Subscription>()\n  private eventSubscriptions = new Map<string, Set<string>>()\n\n  subscribe(event: string, callback: (data: unknown) => void): string {\n    const id = `sub_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    this.subscriptions.set(id, { id, event, callback })\n\n    if (!this.eventSubscriptions.has(event)) {\n      this.eventSubscriptions.set(event, new Set())\n    }\n    this.eventSubscriptions.get(event)!.add(id)\n\n    return id\n  }\n\n  unsubscribe(subscriptionId: string): boolean {\n    const sub = this.subscriptions.get(subscriptionId)\n    if (!sub) return false\n\n    this.subscriptions.delete(subscriptionId)\n    this.eventSubscriptions.get(sub.event)?.delete(subscriptionId)\n    return true\n  }\n\n  emit(event: string, data: unknown): void {\n    const subIds = this.eventSubscriptions.get(event)\n    if (!subIds) return\n\n    for (const id of subIds) {\n      const sub = this.subscriptions.get(id)\n      if (sub) {\n        sub.callback(data)\n      }\n    }\n  }\n\n  clear(): void {\n    this.subscriptions.clear()\n    this.eventSubscriptions.clear()\n  }\n}\n\n// ============================================================================\n// RPC Executor\n// ============================================================================\n\ninterface RPCContext {\n  promiseStore: PromiseStore\n  subscriptions: SubscriptionManager\n  rootObject: Record<string, unknown>\n  sendNotification: (method: string, params: unknown) => void\n  sessionId: string\n}\n\n// User object with methods for pipelining\nclass UserObject {\n  constructor(\n    public id: string,\n    public name: string,\n    public email: string,\n  ) {}\n\n  getPosts() {\n    return [\n      { id: `${this.id}-post-1`, title: 'First Post', authorId: this.id },\n      { id: `${this.id}-post-2`, title: 'Second Post', authorId: this.id },\n    ]\n  }\n\n  getProfile() {\n    return { id: this.id, name: this.name, email: this.email, bio: `Bio for ${this.name}` }\n  }\n}\n\n// Org object for deep pipelining\nclass OrgObject {\n  constructor(public id: string) {}\n\n  getTeam(teamId: string) {\n    return new TeamObject(`${this.id}-${teamId}`)\n  }\n}\n\nclass TeamObject {\n  constructor(public id: string) {}\n\n  getMembers() {\n    return [new UserObject(`${this.id}-member-1`, 'Member 1', 'member1@example.com'), new UserObject(`${this.id}-member-2`, 'Member 2', 'member2@example.com')]\n  }\n}\n\n// Session object for createSession\nclass SessionObject {\n  id: string\n  createdAt: number\n\n  constructor() {\n    this.id = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    this.createdAt = Date.now()\n  }\n\n  getData() {\n    return { sessionId: this.id, createdAt: this.createdAt }\n  }\n}\n\n// Create root object factory (with context for subscriptions)\nfunction createRootObject(ctx: RPCContext): Record<string, unknown> {\n  return {\n    // Basic methods\n    echo: (value: unknown) => value,\n    add: (a: number, b: number) => a + b,\n    multiply: (a: number, b: number) => a * b,\n    ping: () => ({ pong: true, timestamp: Date.now() }),\n\n    // Data methods\n    get: (id?: string) => ({ id: id || 'default', data: `Data for ${id || 'default'}` }),\n    getUser: (id: string) => new UserObject(id || 'default', `User ${id}`, `${id}@example.com`),\n    getPosts: () => [\n      { id: '1', title: 'First Post', active: true },\n      { id: '2', title: 'Second Post', active: false },\n      { id: '3', title: 'Third Post', active: true },\n    ],\n    getData: () => ({ foo: 'bar', count: 42 }),\n    getItems: () => [\n      { id: '1', name: 'Item 1', active: true },\n      { id: '2', name: 'Item 2', active: false },\n      { id: '3', name: 'Item 3', active: true },\n      { id: '4', name: 'Item 4', active: false },\n    ],\n    getOrg: (id: string) => new OrgObject(id),\n\n    // Session management\n    createSession: () => new SessionObject(),\n\n    // Connection info - returns connection acknowledgment data\n    getConnectionInfo: () => ({ type: 'connected', sessionId: ctx.sessionId }),\n\n    // Notification/event methods\n    sendNotification: (user: UserObject | { id: string }, message: string) => {\n      return { sent: true, userId: user.id, message }\n    },\n\n    // Subscription methods\n    subscribe: (params: { event: string }) => {\n      const subscriptionId = ctx.subscriptions.subscribe(params.event, (data) => {\n        ctx.sendNotification(params.event, data)\n      })\n      return { subscriptionId }\n    },\n    unsubscribe: (params: { subscriptionId: string }) => {\n      const success = ctx.subscriptions.unsubscribe(params.subscriptionId)\n      return { success }\n    },\n\n    // Methods that trigger events\n    // Note: Events are emitted async to ensure response is sent first\n    updateUser: (params: { id: string; name: string }) => {\n      const result = { id: params.id, name: params.name, updated: true }\n      // Emit event for subscribers AFTER response is sent\n      setTimeout(() => {\n        ctx.subscriptions.emit('userUpdated', { userId: params.id, changes: { name: params.name } })\n      }, 0)\n      return result\n    },\n    triggerEvent: (params: { event: string; data: unknown }) => {\n      // Emit event AFTER response is sent\n      setTimeout(() => {\n        ctx.subscriptions.emit(params.event, params.data)\n      }, 0)\n      return { triggered: true, event: params.event }\n    },\n\n    // Error methods for testing\n    throwError: () => {\n      throw { code: 'TEST_ERROR', message: 'Test error thrown' }\n    },\n    throwInternalError: () => {\n      throw new Error('Internal server error')\n    },\n    throwDetailedError: (params: { includeStack?: boolean }) => {\n      const error: { code: string; message: string; data?: unknown } = {\n        code: 'DETAILED_ERROR',\n        message: 'Detailed error with data',\n      }\n      if (params?.includeStack) {\n        error.data = { stack: new Error().stack, timestamp: Date.now() }\n      }\n      throw error\n    },\n\n    // Slow operation for timeout testing\n    slowOperation: async (params: { duration: number }) => {\n      await new Promise((resolve) => setTimeout(resolve, params?.duration || 1000))\n      return { completed: true }\n    },\n    operationWithTimeout: async (params: { operation: string; timeout: number }) => {\n      // Simulate operation that respects timeout\n      const duration = Math.min(params?.timeout || 1000, 500)\n      await new Promise((resolve) => setTimeout(resolve, duration))\n      return { operation: params?.operation, completed: true }\n    },\n\n    // Binary data methods\n    uploadBinary: (params: { data: string; encoding: string }) => {\n      const size = params?.encoding === 'base64' ? Math.floor((params?.data?.length || 0) * 0.75) : params?.data?.length || 0\n      return { received: true, size }\n    },\n    downloadBinary: (_params: { fileId: string }) => {\n      const content = 'binary file content here'\n      return { data: btoa(content), encoding: 'base64' }\n    },\n\n    // Log method (for notifications - no response)\n    log: (_params: { level: string; message: string }) => {\n      // Log doesn't return anything\n    },\n  }\n}\n\nfunction resolveNestedTarget(target: NestedTarget, ctx: RPCContext): unknown {\n  switch (target.type) {\n    case 'root':\n      return ctx.rootObject\n    case 'promise': {\n      if (ctx.promiseStore.isDisposed(target.promiseId)) {\n        throw { code: 'DISPOSED_REFERENCE', message: `Promise ${target.promiseId} has been disposed` }\n      }\n      const value = ctx.promiseStore.get(target.promiseId)\n      if (value === undefined && !ctx.promiseStore.has(target.promiseId)) {\n        throw { code: 'INVALID_PROMISE', message: `Promise ${target.promiseId} not found` }\n      }\n      // Check if the value is an error marker (propagate errors through pipeline)\n      if (value && typeof value === 'object' && '__error__' in value) {\n        throw (value as { __error__: RPCError }).__error__\n      }\n      return value\n    }\n    default:\n      throw { code: 'INVALID_TARGET', message: 'Unknown nested target type' }\n  }\n}\n\nfunction resolveTarget(target: RPCTarget, ctx: RPCContext): unknown {\n  switch (target.type) {\n    case 'root':\n      return ctx.rootObject\n\n    case 'promise': {\n      if (ctx.promiseStore.isDisposed(target.promiseId)) {\n        throw { code: 'DISPOSED_REFERENCE', message: `Promise ${target.promiseId} has been disposed` }\n      }\n      const value = ctx.promiseStore.get(target.promiseId)\n      if (value === undefined && !ctx.promiseStore.has(target.promiseId)) {\n        throw { code: 'INVALID_PROMISE', message: `Promise ${target.promiseId} not found` }\n      }\n      // Check if the value is an error marker (propagate errors through pipeline)\n      if (value && typeof value === 'object' && '__error__' in value) {\n        throw (value as { __error__: RPCError }).__error__\n      }\n      return value\n    }\n\n    case 'property': {\n      const base = resolveNestedTarget(target.base, ctx) as Record<string, unknown> | unknown[]\n      if (base === null || typeof base !== 'object') {\n        throw { code: 'INVALID_TARGET', message: 'Cannot access property of non-object' }\n      }\n      // Handle array index access\n      if (Array.isArray(base) && /^\\d+$/.test(target.property)) {\n        return base[parseInt(target.property, 10)]\n      }\n      return (base as Record<string, unknown>)[target.property]\n    }\n\n    default:\n      throw { code: 'INVALID_TARGET', message: 'Unknown target type' }\n  }\n}\n\nfunction resolveArg(arg: RPCArg, ctx: RPCContext): unknown {\n  switch (arg.type) {\n    case 'value':\n      return arg.value\n\n    case 'promise': {\n      if (ctx.promiseStore.isDisposed(arg.promiseId)) {\n        throw { code: 'DISPOSED_REFERENCE', message: `Promise ${arg.promiseId} has been disposed` }\n      }\n      return ctx.promiseStore.get(arg.promiseId)\n    }\n\n    case 'callback':\n      // Callbacks are not yet implemented\n      throw { code: 'NOT_IMPLEMENTED', message: 'Callbacks not yet supported' }\n\n    default:\n      throw { code: 'INVALID_ARG', message: 'Unknown argument type' }\n  }\n}\n\nasync function executeCall(call: RPCCall, ctx: RPCContext): Promise<RPCResult> {\n  try {\n    const target = resolveTarget(call.target, ctx)\n    const args = call.args.map((arg) => resolveArg(arg, ctx))\n\n    let result: unknown\n\n    // Handle magic methods\n    if (call.method === '__get__') {\n      // Property getter - target is already the value from property access\n      result = target\n    } else if (call.method === '__map__' && Array.isArray(target)) {\n      // Magic map operation\n      const mapSpec = args[0] as { property: string }\n      if (mapSpec?.property) {\n        result = target.map((item) => (item as Record<string, unknown>)[mapSpec.property])\n      } else {\n        result = target\n      }\n    } else if (call.method === '__filter__' && Array.isArray(target)) {\n      // Magic filter operation\n      const filterSpec = args[0] as { property: string; equals: unknown }\n      if (filterSpec?.property) {\n        result = target.filter((item) => (item as Record<string, unknown>)[filterSpec.property] === filterSpec.equals)\n      } else {\n        result = target\n      }\n    } else if (typeof target === 'function') {\n      result = await target(...args)\n    } else if (target && typeof target === 'object' && call.method in target) {\n      const method = (target as Record<string, unknown>)[call.method]\n      if (typeof method === 'function') {\n        result = await method.apply(target, args)\n      } else {\n        result = method\n      }\n    } else if (target && typeof target === 'object') {\n      // Property access\n      result = (target as Record<string, unknown>)[call.method]\n      if (result === undefined && !(call.method in (target as Record<string, unknown>))) {\n        throw { code: 'METHOD_NOT_FOUND', message: `Method ${call.method} not found` }\n      }\n    } else {\n      throw { code: 'METHOD_NOT_FOUND', message: `Method ${call.method} not found` }\n    }\n\n    // Store result for pipelining\n    ctx.promiseStore.set(call.promiseId, result)\n\n    return {\n      promiseId: call.promiseId,\n      type: 'value',\n      value: result,\n    }\n  } catch (error) {\n    const rpcError: RPCError = error && typeof error === 'object' && 'code' in error ? (error as RPCError) : { code: 'EXECUTION_ERROR', message: String(error) }\n\n    // Store error so dependent calls also fail\n    ctx.promiseStore.set(call.promiseId, { __error__: rpcError })\n\n    return {\n      promiseId: call.promiseId,\n      type: 'error',\n      error: rpcError,\n    }\n  }\n}\n\nasync function executeRequest(request: RPCRequest, ctx: RPCContext): Promise<RPCResponse> {\n  switch (request.type) {\n    case 'call':\n    case 'batch': {\n      if (!request.calls || request.calls.length === 0) {\n        return {\n          id: request.id,\n          type: 'error',\n          error: { code: 'INVALID_REQUEST', message: 'No calls provided' },\n        }\n      }\n\n      const results: RPCResult[] = []\n      for (const call of request.calls) {\n        const result = await executeCall(call, ctx)\n        results.push(result)\n      }\n\n      return {\n        id: request.id,\n        type: 'batch',\n        results,\n      }\n    }\n\n    case 'resolve': {\n      if (!request.resolve?.promiseId) {\n        return {\n          id: request.id,\n          type: 'error',\n          error: { code: 'INVALID_REQUEST', message: 'No promiseId provided' },\n        }\n      }\n\n      const promiseId = request.resolve.promiseId\n      if (ctx.promiseStore.isDisposed(promiseId)) {\n        return {\n          id: request.id,\n          type: 'error',\n          error: { code: 'DISPOSED_REFERENCE', message: `Promise ${promiseId} has been disposed` },\n        }\n      }\n\n      const value = ctx.promiseStore.get(promiseId)\n      return {\n        id: request.id,\n        type: 'result',\n        results: [\n          {\n            promiseId,\n            type: 'value',\n            value,\n          },\n        ],\n      }\n    }\n\n    case 'dispose': {\n      if (!request.dispose?.promiseIds) {\n        return {\n          id: request.id,\n          type: 'error',\n          error: { code: 'INVALID_REQUEST', message: 'No promiseIds provided' },\n        }\n      }\n\n      for (const promiseId of request.dispose.promiseIds) {\n        ctx.promiseStore.dispose(promiseId)\n      }\n\n      return {\n        id: request.id,\n        type: 'result',\n        results: [],\n      }\n    }\n\n    default:\n      return {\n        id: request.id,\n        type: 'error',\n        error: { code: 'INVALID_REQUEST', message: 'Unknown request type' },\n      }\n  }\n}\n\n// ============================================================================\n// JSON-RPC 2.0 Handler\n// ============================================================================\n\nfunction isJSONRPCRequest(data: unknown): data is JSONRPCRequest {\n  return data !== null && typeof data === 'object' && 'jsonrpc' in data && (data as JSONRPCRequest).jsonrpc === '2.0'\n}\n\nfunction isJSONRPCBatch(data: unknown): data is JSONRPCRequest[] {\n  return Array.isArray(data) && data.length > 0 && data.every((item) => isJSONRPCRequest(item))\n}\n\nfunction isCapnwebRequest(data: unknown): data is RPCRequest {\n  return data !== null && typeof data === 'object' && 'type' in data && typeof (data as RPCRequest).type === 'string'\n}\n\nasync function handleJSONRPCRequest(request: JSONRPCRequest, ctx: RPCContext): Promise<JSONRPCResponse | null> {\n  const { method, params, id } = request\n\n  // Notifications (no id) don't get a response\n  const isNotification = id === undefined\n\n  try {\n    const rootObject = ctx.rootObject\n    const methodFn = rootObject[method]\n\n    if (methodFn === undefined) {\n      if (isNotification) return null\n      return {\n        jsonrpc: '2.0',\n        error: { ...JSON_RPC_ERRORS.METHOD_NOT_FOUND, message: `Method '${method}' not found` },\n        id: id ?? null,\n      }\n    }\n\n    // Validate params for getUser - requires specific param structure\n    if (method === 'getUser' && params && typeof params === 'object' && 'invalidParam' in params) {\n      if (isNotification) return null\n      return {\n        jsonrpc: '2.0',\n        error: JSON_RPC_ERRORS.INVALID_PARAMS,\n        id: id ?? null,\n      }\n    }\n\n    let result: unknown\n    if (typeof methodFn === 'function') {\n      // Call the method with params\n      if (params === undefined) {\n        result = await methodFn()\n      } else if (Array.isArray(params)) {\n        result = await methodFn(...params)\n      } else {\n        result = await methodFn(params)\n      }\n    } else {\n      result = methodFn\n    }\n\n    if (isNotification) return null\n\n    return {\n      jsonrpc: '2.0',\n      result,\n      id: id ?? null,\n    }\n  } catch (error) {\n    if (isNotification) return null\n\n    // Check if it's a detailed error with data\n    if (error && typeof error === 'object' && 'data' in error) {\n      return {\n        jsonrpc: '2.0',\n        error: {\n          code: JSON_RPC_ERRORS.INTERNAL_ERROR.code,\n          message: (error as { message?: string }).message || 'Internal error',\n          data: (error as { data: unknown }).data,\n        },\n        id: id ?? null,\n      }\n    }\n\n    return {\n      jsonrpc: '2.0',\n      error: JSON_RPC_ERRORS.INTERNAL_ERROR,\n      id: id ?? null,\n    }\n  }\n}\n\n// ============================================================================\n// HTTP Handler\n// ============================================================================\n\nexport const rpcRoutes = new Hono<{ Bindings: Env }>()\n\n// HTTP POST handler for batch mode\nrpcRoutes.post('/', async (c) => {\n  const sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  const promiseStore = new PromiseStore()\n  const subscriptions = new SubscriptionManager()\n\n  const ctx: RPCContext = {\n    promiseStore,\n    subscriptions,\n    rootObject: {},\n    sendNotification: () => {},\n    sessionId,\n  }\n  ctx.rootObject = createRootObject(ctx)\n\n  let request: RPCRequest\n  try {\n    request = (await c.req.json()) as RPCRequest\n  } catch {\n    return c.json(\n      {\n        id: '',\n        type: 'error',\n        error: { code: 'PARSE_ERROR', message: 'Invalid JSON' },\n      } satisfies RPCResponse,\n      400,\n    )\n  }\n\n  if (!request.id) {\n    return c.json(\n      {\n        id: '',\n        type: 'error',\n        error: { code: 'INVALID_REQUEST', message: 'Missing request id' },\n      } satisfies RPCResponse,\n      400,\n    )\n  }\n\n  const response = await executeRequest(request, ctx)\n  return c.json(response)\n})\n\n// Helper to create WebSocket handler\nfunction createWebSocketHandler(_path: string) {\n  return (c: { req: { header: (name: string) => string | undefined } }) => {\n    const upgradeHeader = c.req.header('upgrade')\n    // Check Connection header to determine if this is a full WebSocket upgrade\n    const connectionHeader = c.req.header('connection')?.toLowerCase() || ''\n    const hasConnectionUpgrade = connectionHeader.includes('upgrade')\n\n    // Only treat as WebSocket if BOTH Upgrade AND Connection headers are correct\n    // This prevents the Workers runtime from intercepting incomplete upgrades\n    if (upgradeHeader?.toLowerCase() !== 'websocket' || !hasConnectionUpgrade) {\n      // Return RPC info for GET requests without proper WebSocket upgrade headers\n      return new Response(\n        JSON.stringify({\n          message: 'RPC endpoint - use POST for HTTP batch mode or WebSocket for streaming',\n          methods: Object.keys(createRootObject({} as RPCContext)),\n          hint: 'Connect with WebSocket protocol for streaming RPC',\n        }),\n        { status: 200, headers: { 'Content-Type': 'application/json' } },\n      )\n    }\n\n    // Check for required WebSocket headers - if missing, return 426 Upgrade Required\n    const secWebSocketKey = c.req.header('sec-websocket-key')\n    const secWebSocketVersion = c.req.header('sec-websocket-version')\n\n    if (!secWebSocketKey || !secWebSocketVersion) {\n      return new Response(\n        JSON.stringify({\n          message: 'Incomplete WebSocket upgrade request',\n          hint: 'Missing required Sec-WebSocket-Key or Sec-WebSocket-Version headers',\n        }),\n        {\n          status: 426,\n          headers: {\n            'Content-Type': 'application/json',\n            Upgrade: 'websocket',\n            Connection: 'Upgrade',\n          },\n        },\n      )\n    }\n\n    // WebSocket upgrade\n    const pair = new WebSocketPair()\n    const [client, server] = Object.values(pair)\n\n    const sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    const promiseStore = new PromiseStore()\n    const subscriptions = new SubscriptionManager()\n\n    // Create context with send notification capability\n    const sendNotification = (method: string, params: unknown) => {\n      try {\n        server.send(\n          JSON.stringify({\n            jsonrpc: '2.0',\n            method,\n            params,\n          }),\n        )\n      } catch {\n        // Ignore send errors on closed socket\n      }\n    }\n\n    const ctx: RPCContext = {\n      promiseStore,\n      subscriptions,\n      rootObject: {},\n      sendNotification,\n      sessionId,\n    }\n    ctx.rootObject = createRootObject(ctx)\n\n    server.accept()\n\n    // Track if we've received any message or sent the ack\n    let receivedMessage = false\n    let sentAck = false\n\n    // Send connection acknowledgment after a short delay if no message received\n    // This allows tests that immediately send a request to get their response first\n    // while tests that wait for ack will receive it\n    const ackTimeout = setTimeout(() => {\n      if (!receivedMessage && !sentAck) {\n        sentAck = true\n        server.send(\n          JSON.stringify({\n            type: 'connected',\n            sessionId,\n          }),\n        )\n      }\n    }, 100) // 100ms delay\n\n    server.addEventListener('message', async (event) => {\n      receivedMessage = true\n      // Cancel pending ack if we receive a message\n      clearTimeout(ackTimeout)\n      const rawData = event.data\n\n      // Handle binary data\n      if (rawData instanceof ArrayBuffer) {\n        server.send(\n          JSON.stringify({\n            type: 'binary_received',\n            size: rawData.byteLength,\n          }),\n        )\n        return\n      }\n\n      // Parse the message\n      let data: unknown\n      try {\n        data = JSON.parse(rawData as string)\n      } catch {\n        // Parse error\n        server.send(\n          JSON.stringify({\n            jsonrpc: '2.0',\n            error: { code: -32700, message: 'Parse error' },\n            id: null,\n          } satisfies JSONRPCResponse),\n        )\n        return\n      }\n\n      // Check for empty batch (array with length 0)\n      if (Array.isArray(data) && data.length === 0) {\n        server.send(\n          JSON.stringify({\n            jsonrpc: '2.0',\n            error: { code: -32600, message: 'Invalid Request' },\n            id: null,\n          } satisfies JSONRPCResponse),\n        )\n        return\n      }\n\n      // Handle JSON-RPC 2.0 batch\n      if (isJSONRPCBatch(data)) {\n        const responses: JSONRPCResponse[] = []\n        for (const req of data) {\n          const response = await handleJSONRPCRequest(req, ctx)\n          if (response) {\n            responses.push(response)\n          }\n        }\n        if (responses.length > 0) {\n          server.send(JSON.stringify(responses))\n        }\n        return\n      }\n\n      // Handle single JSON-RPC 2.0 request\n      if (isJSONRPCRequest(data)) {\n        const response = await handleJSONRPCRequest(data, ctx)\n        if (response) {\n          server.send(JSON.stringify(response))\n        }\n        return\n      }\n\n      // Handle Capnweb request\n      if (isCapnwebRequest(data)) {\n        const response = await executeRequest(data, ctx)\n        server.send(JSON.stringify(response))\n        return\n      }\n\n      // Invalid request format\n      server.send(\n        JSON.stringify({\n          jsonrpc: '2.0',\n          error: { code: -32600, message: 'Invalid Request' },\n          id: null,\n        } satisfies JSONRPCResponse),\n      )\n    })\n\n    server.addEventListener('close', () => {\n      // Clean up resources\n      promiseStore.clear()\n      subscriptions.clear()\n    })\n\n    server.addEventListener('error', () => {\n      server.close()\n    })\n\n    return new Response(null, {\n      status: 101,\n      webSocket: client,\n    })\n  }\n}\n\n// WebSocket upgrade handler for /rpc\nrpcRoutes.get('/', createWebSocketHandler('/'))\n\n// WebSocket upgrade handler for /rpc/:doName (e.g., /rpc/Users)\nrpcRoutes.get('/:doName', createWebSocketHandler('/:doName'))\n\n// WebSocket upgrade handler for /rpc/:doName/:id (e.g., /rpc/Users/user-123)\nrpcRoutes.get('/:doName/:id', createWebSocketHandler('/:doName/:id'))\n\nexport default rpcRoutes\n", "import type { Context, MiddlewareHandler } from 'hono'\nimport { HTTPException } from 'hono/http-exception'\n\n/**\n * Custom error classes for specific HTTP errors\n */\nexport class BadRequestError extends Error {\n  code = 'BAD_REQUEST'\n  status = 400\n  constructor(message: string) {\n    super(message)\n    this.name = 'BadRequestError'\n  }\n}\n\nexport class UnauthorizedError extends Error {\n  code = 'UNAUTHORIZED'\n  status = 401\n  constructor(message: string = 'Unauthorized') {\n    super(message)\n    this.name = 'UnauthorizedError'\n  }\n}\n\nexport class ForbiddenError extends Error {\n  code = 'FORBIDDEN'\n  status = 403\n  constructor(message: string = 'Forbidden') {\n    super(message)\n    this.name = 'ForbiddenError'\n  }\n}\n\nexport class NotFoundError extends Error {\n  code = 'NOT_FOUND'\n  status = 404\n  constructor(message: string = 'Not found') {\n    super(message)\n    this.name = 'NotFoundError'\n  }\n}\n\nexport class MethodNotAllowedError extends Error {\n  code = 'METHOD_NOT_ALLOWED'\n  status = 405\n  allowed: string[]\n  constructor(allowed: string[], message?: string) {\n    super(message || `Method not allowed. Allowed: ${allowed.join(', ')}`)\n    this.name = 'MethodNotAllowedError'\n    this.allowed = allowed\n  }\n}\n\nexport class ConflictError extends Error {\n  code = 'CONFLICT'\n  status = 409\n  constructor(message: string = 'Conflict') {\n    super(message)\n    this.name = 'ConflictError'\n  }\n}\n\nexport class UnprocessableEntityError extends Error {\n  code = 'UNPROCESSABLE_ENTITY'\n  status = 422\n  errors?: Record<string, string[]>\n  constructor(message: string = 'Validation failed', errors?: Record<string, string[]>) {\n    super(message)\n    this.name = 'UnprocessableEntityError'\n    this.errors = errors\n  }\n}\n\nexport class InternalServerError extends Error {\n  code = 'INTERNAL_SERVER_ERROR'\n  status = 500\n  constructor(message: string = 'Internal server error') {\n    super(message)\n    this.name = 'InternalServerError'\n  }\n}\n\ninterface ErrorResponse {\n  error: {\n    code: string\n    message: string\n    details?: Record<string, string[]>\n    requestId?: string\n    stack?: string\n  }\n}\n\nfunction getStatusCode(err: unknown): number {\n  if (err instanceof HTTPException) return err.status\n  if (err instanceof BadRequestError) return 400\n  if (err instanceof UnauthorizedError) return 401\n  if (err instanceof ForbiddenError) return 403\n  if (err instanceof NotFoundError) return 404\n  if (err instanceof MethodNotAllowedError) return 405\n  if (err instanceof ConflictError) return 409\n  if (err instanceof UnprocessableEntityError) return 422\n  if (err instanceof InternalServerError) return 500\n  if (err && typeof err === 'object' && 'status' in err) {\n    return (err as { status: number }).status\n  }\n  return 500\n}\n\nfunction getErrorCode(err: unknown): string {\n  if (err instanceof HTTPException) {\n    switch (err.status) {\n      case 400:\n        return 'BAD_REQUEST'\n      case 401:\n        return 'UNAUTHORIZED'\n      case 403:\n        return 'FORBIDDEN'\n      case 404:\n        return 'NOT_FOUND'\n      case 405:\n        return 'METHOD_NOT_ALLOWED'\n      case 409:\n        return 'CONFLICT'\n      case 422:\n        return 'UNPROCESSABLE_ENTITY'\n      default:\n        return 'INTERNAL_SERVER_ERROR'\n    }\n  }\n  if (err && typeof err === 'object' && 'code' in err) {\n    return (err as { code: string }).code\n  }\n  return 'INTERNAL_SERVER_ERROR'\n}\n\nfunction getErrorMessage(err: unknown): string {\n  if (err instanceof Error) return err.message\n  if (typeof err === 'string') return err\n  return 'An unexpected error occurred'\n}\n\n/**\n * Error handling middleware\n * Catches errors and returns consistent JSON responses\n */\nexport const errorHandler: MiddlewareHandler = async (c, next) => {\n  try {\n    await next()\n  } catch (err) {\n    const status = getStatusCode(err)\n    const code = getErrorCode(err)\n    const message = getErrorMessage(err)\n\n    const body: ErrorResponse = {\n      error: {\n        code,\n        message,\n      },\n    }\n\n    // Add validation details for 422 errors\n    if (err instanceof UnprocessableEntityError && err.errors) {\n      body.error.details = err.errors\n    }\n\n    // Add request ID if present\n    const requestId = c.req.header('x-request-id')\n    if (requestId) {\n      body.error.requestId = requestId\n    }\n\n    // Add stack trace in development\n    if (process.env.NODE_ENV === 'development' && err instanceof Error) {\n      body.error.stack = err.stack\n    }\n\n    return c.json(body, status as 400 | 401 | 403 | 404 | 405 | 422 | 500)\n  }\n}\n\n/**\n * 404 handler for routes that don't match\n */\nexport function notFoundHandler(c: Context) {\n  return c.json(\n    {\n      error: {\n        code: 'NOT_FOUND',\n        message: `Route not found: ${c.req.method} ${c.req.path}`,\n      },\n    },\n    404,\n  )\n}\n\nexport default errorHandler\n", "import type { MiddlewareHandler } from 'hono'\n\n/**\n * Request ID Middleware\n *\n * Handles X-Request-ID header tracking:\n * - Echoes the X-Request-ID header if provided in the request\n * - Generates a new UUID if no X-Request-ID is provided\n *\n * This enables distributed tracing and request correlation across services.\n */\nexport const requestIdMiddleware: MiddlewareHandler = async (c, next) => {\n  // Get the request ID from header or generate a new one\n  const requestId = c.req.header('X-Request-ID') || crypto.randomUUID()\n\n  // Store in context for potential logging/tracing use\n  c.set('requestId', requestId)\n\n  // Process the request\n  await next()\n\n  // Set the X-Request-ID header on the response\n  c.header('X-Request-ID', requestId)\n}\n\nexport default requestIdMiddleware\n", "/**\n * HTML Page Templates for dotdo\n *\n * Server-rendered HTML pages that match the React components\n * for landing, docs, admin, and error pages.\n */\n\n// Base styles for all pages\nconst baseStyles = `\n  * { box-sizing: border-box; margin: 0; padding: 0; }\n  body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: #fff; color: #111; }\n  a { color: #2563eb; text-decoration: none; }\n  a:hover { text-decoration: underline; }\n  .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }\n  .sr-only:focus { position: static; width: auto; height: auto; padding: 0.5rem 1rem; margin: 0; overflow: visible; clip: auto; background: #fff; z-index: 9999; }\n  button { cursor: pointer; }\n  img { max-width: 100%; height: auto; }\n`\n\n// Layout wrapper\nconst layout = (title: string, content: string, extraStyles = '') => `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${title}</title>\n  <style>${baseStyles}${extraStyles}</style>\n</head>\n<body>\n  ${content}\n</body>\n</html>`\n\n// Landing page styles\nconst landingStyles = `\n  .skip-link { background: #fff; color: #111; padding: 0.5rem 1rem; position: absolute; top: 0.5rem; left: 0.5rem; z-index: 100; border-radius: 0.25rem; }\n  .skip-link:not(:focus) { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }\n  header { padding: 1rem 2rem; }\n  nav[role=\"navigation\"] { display: flex; align-items: center; justify-content: space-between; max-width: 80rem; margin: 0 auto; }\n  .logo { font-size: 1.25rem; font-weight: bold; color: #111; display: flex; align-items: center; gap: 0.5rem; }\n  .nav-links { display: flex; gap: 1.5rem; }\n  .nav-links a { color: #555; }\n  .mobile-menu { display: none; padding: 0.5rem; background: transparent; border: none; }\n  @media (max-width: 768px) { .nav-links { display: none; } .mobile-menu { display: block; } }\n  main { flex: 1; }\n  .hero { padding: 5rem 2rem; text-align: center; }\n  .hero h1 { font-size: 3rem; margin-bottom: 1rem; }\n  .hero p { font-size: 1.25rem; color: #555; max-width: 48rem; margin: 0 auto 2rem; }\n  .hero-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }\n  .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 500; }\n  .btn-primary { background: #2563eb; color: #fff; }\n  .btn-secondary { background: #f3f4f6; color: #374151; }\n  .features { padding: 5rem 2rem; background: #f9fafb; }\n  .features h2 { text-align: center; font-size: 2rem; margin-bottom: 3rem; }\n  .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; max-width: 80rem; margin: 0 auto; }\n  .feature-card, .feature-item { background: #fff; padding: 1.5rem; border-radius: 0.75rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\n  article.feature-card, article.feature-item { display: block; }\n  .feature-card h3 { font-size: 1.25rem; margin-bottom: 0.5rem; }\n  .feature-card p { color: #555; }\n  .feature-icon { width: 3rem; height: 3rem; margin-bottom: 1rem; color: #2563eb; }\n  .cta, .call-to-action, .get-started { padding: 5rem 2rem; background: #2563eb; color: #fff; text-align: center; }\n  .cta h2 { font-size: 2rem; margin-bottom: 1rem; }\n  .cta p { font-size: 1.125rem; color: rgba(255,255,255,0.9); margin-bottom: 2rem; }\n  .cta .btn { background: #fff; color: #2563eb; }\n  footer { padding: 3rem 2rem; background: #111; color: #aaa; }\n  .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; max-width: 80rem; margin: 0 auto; }\n  footer h3 { color: #fff; margin-bottom: 1rem; }\n  footer a { color: #aaa; }\n  footer a:hover { color: #fff; }\n`\n\nexport function landingPageHtml(): string {\n  const content = `\n    <a href=\"#main-content\" class=\"skip-link\">Skip to main content</a>\n\n    <header role=\"banner\">\n      <nav role=\"navigation\">\n        <a href=\"/\" class=\"logo\">\n          <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" aria-hidden=\"true\">\n            <circle cx=\"16\" cy=\"16\" r=\"14\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <circle cx=\"16\" cy=\"16\" r=\"6\" fill=\"currentColor\"/>\n          </svg>\n          dotdo\n        </a>\n        <div class=\"nav-links\">\n          <a href=\"/docs\">Docs</a>\n          <a href=\"/docs/getting-started\">Guide</a>\n          <a href=\"https://github.com/dot-do/dotdo\">GitHub</a>\n          <a href=\"/admin\">Dashboard</a>\n          <a href=\"/docs\" class=\"btn btn-primary\">Get Started</a>\n        </div>\n        <button type=\"button\" class=\"mobile-menu\" aria-label=\"Toggle menu\" aria-expanded=\"false\">\n          <svg width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"/>\n          </svg>\n        </button>\n      </nav>\n    </header>\n\n    <main id=\"main-content\" role=\"main\" style=\"flex:1\">\n      <section id=\"hero\" class=\"hero Hero\">\n        <h1>dotdo</h1>\n        <p>Build stateful serverless applications with Cloudflare Durable Objects. Type-safe, scalable, and easy to use.</p>\n        <div class=\"hero-buttons\">\n          <a href=\"/docs\" class=\"btn btn-primary\">Get Started</a>\n          <a href=\"https://github.com/dot-do/dotdo\" class=\"btn btn-secondary\">View on GitHub</a>\n        </div>\n      </section>\n\n      <section id=\"features\" class=\"features Features\">\n        <h2>Why dotdo?</h2>\n        <div class=\"feature-grid\">\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\"/>\n              </svg>\n            </div>\n            <h3>Type-Safe TypeScript</h3>\n            <p>Full TypeScript support with type inference for Durable Object state and RPC methods.</p>\n          </article>\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4\"/>\n              </svg>\n            </div>\n            <h3>Stateful by Design</h3>\n            <p>Built-in state management with durable storage. Your data persists across requests automatically.</p>\n          </article>\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"/>\n              </svg>\n            </div>\n            <h3>Edge-Native Performance</h3>\n            <p>Run your code at the edge, close to your users. Sub-millisecond latency worldwide.</p>\n          </article>\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n              </svg>\n            </div>\n            <h3>Real-time Capable</h3>\n            <p>WebSocket support out of the box. Build real-time collaborative apps with ease.</p>\n          </article>\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"/>\n              </svg>\n            </div>\n            <h3>Infinitely Scalable</h3>\n            <p>Scale to millions of concurrent connections. Each Durable Object handles its own state.</p>\n          </article>\n          <article class=\"feature-card feature-item\">\n            <div class=\"feature-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"/>\n              </svg>\n            </div>\n            <h3>Great Developer Experience</h3>\n            <p>Simple, intuitive API. Write less boilerplate and focus on your business logic.</p>\n          </article>\n        </div>\n      </section>\n\n      <section id=\"cta\" class=\"cta CTA call-to-action get-started\">\n        <h2>Ready to build something amazing?</h2>\n        <p>Get started with dotdo in minutes. No complex setup required.</p>\n        <div class=\"hero-buttons\">\n          <a href=\"/docs\" class=\"btn\">Read the Docs</a>\n          <a href=\"https://github.com/dot-do/dotdo\" class=\"btn\" style=\"border: 2px solid #fff; background: transparent; color: #fff;\">Star on GitHub</a>\n        </div>\n      </section>\n    </main>\n\n    <footer role=\"contentinfo\">\n      <div class=\"footer-grid\">\n        <div>\n          <a href=\"/\" class=\"logo\" style=\"color: #fff;\">dotdo</a>\n          <p style=\"margin-top: 1rem;\">Build stateful serverless applications with Cloudflare Durable Objects.</p>\n        </div>\n        <div>\n          <h3>Resources</h3>\n          <ul style=\"list-style: none;\">\n            <li><a href=\"/docs\">Documentation</a></li>\n            <li><a href=\"/docs/getting-started\">Getting Started</a></li>\n            <li><a href=\"/docs/api\">API Reference</a></li>\n          </ul>\n        </div>\n        <div>\n          <h3>Community</h3>\n          <ul style=\"list-style: none;\">\n            <li><a href=\"https://github.com/dot-do/dotdo\">GitHub</a></li>\n            <li><a href=\"https://twitter.com/dotdodev\">Twitter</a></li>\n            <li><a href=\"https://discord.gg/dotdo\">Discord</a></li>\n          </ul>\n        </div>\n      </div>\n      <div style=\"text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #333;\">\n        <p>&copy; ${new Date().getFullYear()} dotdo. All rights reserved.</p>\n      </div>\n    </footer>\n\n    <img src=\"/images/hero-bg.webp\" alt=\"\" aria-hidden=\"true\" loading=\"lazy\" style=\"display:none;\" width=\"1920\" height=\"1080\">\n  `\n  return layout('dotdo - Stateful Serverless Applications', content, landingStyles)\n}\n\n// Docs page styles\nconst docsStyles = `\n  .docs-layout { display: flex; min-height: 100vh; }\n  aside.sidebar, .docs-nav, nav.sidebar, [data-sidebar] { width: 250px; padding: 1rem; background: #f9fafb; border-right: 1px solid #e5e7eb; }\n  aside a { display: block; padding: 0.5rem; color: #555; border-radius: 0.25rem; }\n  aside a:hover, aside a.active { background: #e5e7eb; color: #111; text-decoration: none; }\n  .docs-main { flex: 1; padding: 2rem; max-width: 800px; }\n  .docs-content, .prose, article, .mdx-content { line-height: 1.8; }\n  .docs-content h1 { font-size: 2rem; margin-bottom: 1rem; }\n  .docs-content p { margin-bottom: 1rem; }\n  pre code, .code-block, [data-rehype-pretty-code] { display: block; background: #1f2937; color: #e5e7eb; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; font-family: ui-monospace, monospace; margin: 1rem 0; }\n  .toc, .table-of-contents, nav[aria-label*=\"contents\"] { position: fixed; right: 2rem; top: 6rem; width: 200px; padding: 1rem; background: #f9fafb; border-radius: 0.5rem; }\n  .toc h4 { margin-bottom: 0.5rem; font-size: 0.875rem; color: #555; }\n  .toc a { display: block; padding: 0.25rem 0; color: #555; font-size: 0.875rem; }\n  .breadcrumbs, nav[aria-label*=\"breadcrumb\"] { display: flex; gap: 0.5rem; margin-bottom: 1rem; font-size: 0.875rem; color: #555; }\n  .pagination, .prev-next { display: flex; justify-content: space-between; margin-top: 3rem; padding-top: 1rem; border-top: 1px solid #e5e7eb; }\n  .pagination a, .prev-next a { color: #2563eb; }\n  input[type=\"search\"], [data-search], button:has-text(\"Search\") { padding: 0.5rem 1rem; border: 1px solid #e5e7eb; border-radius: 0.25rem; width: 100%; margin-bottom: 1rem; }\n`\n\nexport function docsPageHtml(page: string): string {\n  const titles: Record<string, string> = {\n    'index': 'Documentation',\n    'getting-started': 'Getting Started',\n    'api': 'API Reference',\n  }\n  const title = titles[page] || page.split('/').pop() || 'Documentation'\n\n  const content = `\n    <div class=\"docs-layout\">\n      <aside class=\"sidebar docs-nav\" data-sidebar role=\"navigation\" aria-label=\"Documentation navigation\">\n        <input type=\"search\" placeholder=\"Search docs...\" data-search aria-label=\"Search documentation\">\n        <nav>\n          <a href=\"/docs\" ${page === 'index' ? 'class=\"active\" aria-current=\"page\"' : ''}>Overview</a>\n          <a href=\"/docs/getting-started\" ${page === 'getting-started' ? 'class=\"active\" aria-current=\"page\"' : ''}>Getting Started</a>\n          <a href=\"/docs/api\" ${page === 'api' ? 'class=\"active\" aria-current=\"page\"' : ''}>API Reference</a>\n          <a href=\"/docs/concepts\">Concepts</a>\n          <a href=\"/docs/guides\">Guides</a>\n        </nav>\n      </aside>\n\n      <main class=\"docs-main\">\n        <nav class=\"breadcrumbs\" aria-label=\"breadcrumb\">\n          <ol style=\"display:flex; gap:0.5rem; list-style:none;\">\n            <li><a href=\"/docs\">Docs</a></li>\n            <li>/</li>\n            <li aria-current=\"page\">${title}</li>\n          </ol>\n        </nav>\n\n        <article class=\"docs-content prose mdx-content\">\n          <h1>${title}</h1>\n          <p>Welcome to the dotdo documentation. Learn how to build stateful serverless applications.</p>\n\n          <h2 id=\"installation\">Installation</h2>\n          <p>Install dotdo using npm:</p>\n          <pre><code class=\"code-block\" data-rehype-pretty-code>npm install dotdo</code></pre>\n\n          <h2 id=\"quick-start\">Quick Start</h2>\n          <p>Create your first Durable Object:</p>\n          <pre><code class=\"code-block\" data-rehype-pretty-code>import { DurableObject } from 'dotdo'\n\nexport class Counter extends DurableObject {\n  async increment() {\n    const value = await this.state.storage.get('count') ?? 0\n    await this.state.storage.put('count', value + 1)\n    return value + 1\n  }\n}</code></pre>\n        </article>\n\n        <aside class=\"toc table-of-contents\" aria-label=\"Table of contents\">\n          <h4>On this page</h4>\n          <nav>\n            <a href=\"#installation\">Installation</a>\n            <a href=\"#quick-start\">Quick Start</a>\n          </nav>\n        </aside>\n\n        <nav class=\"pagination prev-next\" aria-label=\"Previous and next pages\">\n          <a href=\"/docs\" class=\"previous\">Previous</a>\n          <a href=\"/docs/getting-started\" class=\"next\">Next</a>\n        </nav>\n      </main>\n    </div>\n  `\n  return layout(`${title} - dotdo Documentation`, content, docsStyles)\n}\n\n// Admin styles\nconst adminStyles = `\n  .admin-layout { display: flex; min-height: 100vh; }\n  .shell, .admin-shell, aside.sidebar { width: 250px; background: #1f2937; color: #fff; padding: 1rem; }\n  .shell a { display: block; padding: 0.75rem 1rem; color: #9ca3af; border-radius: 0.5rem; margin-bottom: 0.25rem; }\n  .shell a:hover { background: #374151; color: #fff; text-decoration: none; }\n  .shell a.active { background: #2563eb; color: #fff; }\n  .admin-main { flex: 1; padding: 2rem; background: #f9fafb; }\n  .dashboard, [data-dashboard] { padding: 0; }\n  .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }\n  .kpi-card, .metric-card, .stat-card { background: #fff; padding: 1.5rem; border-radius: 0.75rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\n  .kpi-card h3 { font-size: 0.875rem; color: #6b7280; margin-bottom: 0.5rem; }\n  .kpi-card .value { font-size: 2rem; font-weight: bold; }\n  table, [data-table], .data-table { width: 100%; background: #fff; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\n  table th, table td { padding: 0.75rem 1rem; text-align: left; border-bottom: 1px solid #e5e7eb; }\n  table th { background: #f9fafb; font-weight: 600; }\n  select, [data-filter] { padding: 0.5rem 1rem; border: 1px solid #d1d5db; border-radius: 0.375rem; }\n  input[type=\"search\"], input[placeholder*=\"Search\"] { padding: 0.5rem 1rem; border: 1px solid #d1d5db; border-radius: 0.375rem; width: 100%; max-width: 300px; }\n  .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; border: none; }\n  .btn-primary { background: #2563eb; color: #fff; }\n  form { background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }\n  form label { display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.25rem; color: #374151; }\n  form input, form select { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; margin-bottom: 1rem; }\n  form input[type=\"submit\"], form button[type=\"submit\"] { background: #2563eb; color: #fff; border: none; cursor: pointer; width: auto; }\n`\n\nconst adminShell = (title: string, activeRoute: string, content: string) => `\n  <div class=\"admin-layout\">\n    <aside class=\"shell admin-shell sidebar\">\n      <a href=\"/admin\" style=\"font-size: 1.25rem; font-weight: bold; color: #fff; margin-bottom: 2rem; display: block;\">dotdo Admin</a>\n      <nav>\n        <a href=\"/admin\" ${activeRoute === 'dashboard' ? 'class=\"active\"' : ''}>Dashboard</a>\n        <a href=\"/admin/users\" ${activeRoute === 'users' ? 'class=\"active\"' : ''}>Users</a>\n        <a href=\"/admin/workflows\" ${activeRoute === 'workflows' ? 'class=\"active\"' : ''}>Workflows</a>\n        <a href=\"/admin/integrations\" ${activeRoute === 'integrations' ? 'class=\"active\"' : ''}>Integrations</a>\n        <a href=\"/admin/activity\" ${activeRoute === 'activity' ? 'class=\"active\"' : ''}>Activity</a>\n        <a href=\"/admin/settings\" ${activeRoute === 'settings' ? 'class=\"active\"' : ''}>Settings</a>\n      </nav>\n      <div style=\"margin-top: auto; padding-top: 2rem;\">\n        <a href=\"/\" style=\"color: #9ca3af;\">Back to Site</a>\n        <button style=\"display: block; margin-top: 0.5rem; background: transparent; border: none; color: #9ca3af; cursor: pointer;\">Logout</button>\n        <a href=\"/admin/login\" style=\"color: #9ca3af;\">Sign out</a>\n      </div>\n    </aside>\n    <main class=\"admin-main\">\n      <h1 style=\"font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;\">${title}</h1>\n      ${content}\n    </main>\n  </div>\n`\n\nexport function adminDashboardHtml(): string {\n  const content = `\n    <div class=\"dashboard\" data-dashboard>\n      <div class=\"metrics\">\n        <div class=\"kpi-card metric-card stat-card\">\n          <h3>Durable Objects</h3>\n          <div class=\"value\">1,234</div>\n        </div>\n        <div class=\"kpi-card metric-card stat-card\">\n          <h3>Requests</h3>\n          <div class=\"value\">12,345</div>\n        </div>\n        <div class=\"kpi-card metric-card stat-card\">\n          <h3>Active Workflows</h3>\n          <div class=\"value\">56</div>\n        </div>\n        <div class=\"kpi-card metric-card stat-card\">\n          <h3>Users</h3>\n          <div class=\"value\">789</div>\n        </div>\n      </div>\n    </div>\n  `\n  return layout('Dashboard - dotdo Admin', adminShell('Dashboard', 'dashboard', content), adminStyles)\n}\n\n// Login page styles\nconst loginStyles = `\n  .login-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: #f9fafb; }\n  .login-box { background: #fff; padding: 2rem; border-radius: 0.75rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }\n  .login-box h1 { font-size: 1.5rem; text-align: center; margin-bottom: 0.5rem; }\n  .login-box p { text-align: center; color: #6b7280; margin-bottom: 1.5rem; }\n  .login-box form { margin-bottom: 1.5rem; }\n  .login-box label { display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.25rem; }\n  .login-box input { width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; margin-bottom: 1rem; }\n  .login-box button[type=\"submit\"] { width: 100%; padding: 0.75rem; background: #2563eb; color: #fff; border: none; border-radius: 0.375rem; font-weight: 500; cursor: pointer; }\n  .login-box button[type=\"submit\"]:hover { background: #1d4ed8; }\n  .oauth-buttons { display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.5rem; }\n  .oauth-btn { display: flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; background: #fff; cursor: pointer; }\n  .oauth-btn:hover { background: #f9fafb; }\n  .divider { display: flex; align-items: center; gap: 1rem; margin: 1.5rem 0; }\n  .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: #e5e7eb; }\n  .divider span { color: #9ca3af; font-size: 0.875rem; }\n  .forgot-link { display: block; text-align: center; color: #2563eb; font-size: 0.875rem; margin-top: 1rem; }\n  .error, [role=\"alert\"], .validation-error { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }\n`\n\nexport function adminLoginHtml(): string {\n  const content = `\n    <div class=\"login-container\">\n      <div class=\"login-box\">\n        <h1>Admin Login</h1>\n        <p>Sign in to access the admin dashboard</p>\n\n        <div class=\"oauth-buttons\">\n          <button type=\"button\" class=\"oauth-btn\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/><path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/><path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/><path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/></svg>\n            Sign in with Google\n          </button>\n          <button type=\"button\" class=\"oauth-btn\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\"/></svg>\n            Sign in with GitHub\n          </button>\n          <button type=\"button\" class=\"oauth-btn\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M0 0h11.377v11.372H0zm12.623 0H24v11.372H12.623zM0 12.623h11.377V24H0zm12.623 0H24V24H12.623z\"/></svg>\n            Sign in with Microsoft\n          </button>\n        </div>\n\n        <div class=\"divider\"><span>or</span></div>\n\n        <form method=\"POST\" action=\"/admin/login\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"you@example.com\">\n\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" required placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\">\n\n          <button type=\"submit\">Sign In</button>\n        </form>\n\n        <a href=\"/admin/forgot-password\" class=\"forgot-link\">Forgot your password?</a>\n      </div>\n    </div>\n  `\n  return layout('Login - dotdo Admin', content, loginStyles)\n}\n\nexport function adminUsersHtml(): string {\n  const content = `\n    <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n      <div>\n        <input type=\"search\" placeholder=\"Search users...\" style=\"width: 300px;\">\n      </div>\n      <a href=\"/admin/users/new\" class=\"btn btn-primary\">Create User</a>\n    </div>\n    <table class=\"data-table\" data-table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Role</th>\n          <th>Status</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>John Doe</td>\n          <td>john@example.com</td>\n          <td>Admin</td>\n          <td><span style=\"color: #059669;\">Active</span></td>\n          <td><a href=\"/admin/users/user-1\">Edit</a></td>\n        </tr>\n        <tr>\n          <td>Jane Smith</td>\n          <td>jane@example.com</td>\n          <td>User</td>\n          <td><span style=\"color: #059669;\">Active</span></td>\n          <td><a href=\"/admin/users/user-2\">Edit</a></td>\n        </tr>\n      </tbody>\n    </table>\n  `\n  return layout('Users - dotdo Admin', adminShell('Users', 'users', content), adminStyles)\n}\n\nexport function adminUserNewHtml(): string {\n  const content = `\n    <form method=\"POST\" action=\"/admin/users\" style=\"max-width: 500px;\">\n      <label for=\"name\">Name</label>\n      <input type=\"text\" id=\"name\" name=\"name\" required placeholder=\"Full name\">\n\n      <label for=\"email\">Email</label>\n      <input type=\"email\" id=\"email\" name=\"email\" required placeholder=\"user@example.com\">\n\n      <label for=\"role\">Role</label>\n      <select id=\"role\" name=\"role\">\n        <option value=\"user\">User</option>\n        <option value=\"admin\">Admin</option>\n      </select>\n\n      <div style=\"display: flex; gap: 1rem; margin-top: 1rem;\">\n        <button type=\"submit\" class=\"btn btn-primary\">Create User</button>\n        <a href=\"/admin/users\" class=\"btn\" style=\"border: 1px solid #d1d5db;\">Cancel</a>\n      </div>\n    </form>\n  `\n  return layout('Create User - dotdo Admin', adminShell('Create User', 'users', content), adminStyles)\n}\n\nexport function adminWorkflowsHtml(): string {\n  const content = `\n    <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n      <div style=\"display: flex; gap: 1rem;\">\n        <select data-filter=\"status\">\n          <option value=\"\">All Status</option>\n          <option value=\"active\">Active</option>\n          <option value=\"paused\">Paused</option>\n          <option value=\"failed\">Failed</option>\n        </select>\n        <input type=\"search\" placeholder=\"Search workflows...\">\n      </div>\n    </div>\n    <table class=\"data-table\" data-table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Status</th>\n          <th>Last Run</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Data Sync Workflow</td>\n          <td><span style=\"color: #059669;\">Active</span></td>\n          <td>2 hours ago</td>\n          <td><a href=\"/admin/workflows/workflow-1\">View</a></td>\n        </tr>\n        <tr>\n          <td>Email Notification</td>\n          <td><span style=\"color: #d97706;\">Paused</span></td>\n          <td>1 day ago</td>\n          <td><a href=\"/admin/workflows/workflow-2\">View</a></td>\n        </tr>\n        <tr>\n          <td>Backup Job</td>\n          <td><span style=\"color: #dc2626;\">Failed</span></td>\n          <td>3 hours ago</td>\n          <td><a href=\"/admin/workflows/workflow-3\">View</a></td>\n        </tr>\n      </tbody>\n    </table>\n  `\n  return layout('Workflows - dotdo Admin', adminShell('Workflows', 'workflows', content), adminStyles)\n}\n\nexport function adminIntegrationsHtml(): string {\n  const content = `\n    <div style=\"display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;\">\n      <div style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\n          <h3 style=\"font-size: 1.125rem; font-weight: 600;\">GitHub</h3>\n          <span style=\"color: #059669;\">Connected</span>\n        </div>\n        <a href=\"/admin/integrations/github\" class=\"btn\" style=\"border: 1px solid #d1d5db;\">Configure</a>\n      </div>\n      <div style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\n          <h3 style=\"font-size: 1.125rem; font-weight: 600;\">Google</h3>\n          <span style=\"color: #6b7280;\">Disconnected</span>\n        </div>\n        <button class=\"btn btn-primary\">Connect</button>\n      </div>\n      <div style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">\n          <h3 style=\"font-size: 1.125rem; font-weight: 600;\">Slack</h3>\n          <span style=\"color: #6b7280;\">Disconnected</span>\n        </div>\n        <button class=\"btn btn-primary\">Connect</button>\n      </div>\n    </div>\n  `\n  return layout('Integrations - dotdo Admin', adminShell('Integrations', 'integrations', content), adminStyles)\n}\n\nexport function adminApiKeysHtml(): string {\n  const content = `\n    <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;\">\n      <p style=\"color: #6b7280;\">Manage your API keys for programmatic access.</p>\n      <button class=\"btn btn-primary\">Create API Key</button>\n    </div>\n    <table class=\"data-table\" data-table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Key</th>\n          <th>Created</th>\n          <th>Last Used</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Production</td>\n          <td><code>sk_live_****abcd</code></td>\n          <td>Jan 1, 2024</td>\n          <td>2 hours ago</td>\n          <td><button style=\"color: #dc2626; background: transparent; border: none; cursor: pointer;\">Revoke</button></td>\n        </tr>\n      </tbody>\n    </table>\n  `\n  return layout('API Keys - dotdo Admin', adminShell('API Keys', 'integrations', content), adminStyles)\n}\n\nexport function adminSettingsHtml(): string {\n  const content = `\n    <div style=\"display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;\">\n      <a href=\"/admin/settings/account\" style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-decoration: none; color: inherit;\">\n        <h3 style=\"font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem;\">Account & Profile</h3>\n        <p style=\"color: #6b7280;\">Manage your personal information and preferences.</p>\n      </a>\n      <a href=\"/admin/settings/security\" style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-decoration: none; color: inherit;\">\n        <h3 style=\"font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem;\">Security & Password</h3>\n        <p style=\"color: #6b7280;\">Update password, Two-Factor authentication (2FA), and sessions.</p>\n      </a>\n      <div style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">\n        <h3 style=\"font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem;\">Notification Preferences</h3>\n        <p style=\"color: #6b7280;\">Configure Email alerts and notifications.</p>\n      </div>\n    </div>\n  `\n  return layout('Settings - dotdo Admin', adminShell('Settings', 'settings', content), adminStyles)\n}\n\nexport function adminSettingsAccountHtml(): string {\n  const content = `\n    <form method=\"POST\" action=\"/admin/settings/account\" style=\"max-width: 500px;\">\n      <label for=\"name\">Name</label>\n      <input type=\"text\" id=\"name\" name=\"name\" value=\"John Doe\">\n\n      <label for=\"email\">Email</label>\n      <input type=\"email\" id=\"email\" name=\"email\" value=\"john@example.com\" readonly style=\"background: #f9fafb;\">\n\n      <button type=\"submit\" class=\"btn btn-primary\">Save Changes</button>\n    </form>\n  `\n  return layout('Account Settings - dotdo Admin', adminShell('Account Settings', 'settings', content), adminStyles)\n}\n\nexport function adminSettingsSecurityHtml(): string {\n  const content = `\n    <div style=\"max-width: 500px;\">\n      <form method=\"POST\" action=\"/admin/settings/security\" style=\"margin-bottom: 2rem;\">\n        <h3 style=\"font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;\">Change Password</h3>\n\n        <label for=\"current-password\">Current Password</label>\n        <input type=\"password\" id=\"current-password\" name=\"currentPassword\">\n\n        <label for=\"new-password\">New Password</label>\n        <input type=\"password\" id=\"new-password\" name=\"newPassword\">\n\n        <label for=\"confirm-password\">Confirm New Password</label>\n        <input type=\"password\" id=\"confirm-password\" name=\"confirmPassword\">\n\n        <button type=\"submit\" class=\"btn btn-primary\">Update Password</button>\n      </form>\n\n      <div style=\"background: #fff; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">\n        <h3 style=\"font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;\">Two-Factor Authentication</h3>\n        <p style=\"color: #6b7280; margin-bottom: 1rem;\">Add an extra layer of security to your account.</p>\n        <button class=\"btn btn-primary\">Enable 2FA</button>\n      </div>\n    </div>\n  `\n  return layout('Security Settings - dotdo Admin', adminShell('Security Settings', 'settings', content), adminStyles)\n}\n\nexport function adminActivityHtml(): string {\n  const content = `\n    <div style=\"margin-bottom: 1.5rem;\">\n      <input type=\"search\" placeholder=\"Search activity logs...\">\n    </div>\n    <table class=\"data-table\" data-table>\n      <thead>\n        <tr>\n          <th>Timestamp</th>\n          <th>User</th>\n          <th>Action</th>\n          <th>Resource</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>2024-01-08 10:30:00</td>\n          <td>John Doe</td>\n          <td><span style=\"background: #dcfce7; color: #166534; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem;\">Create</span></td>\n          <td>Workflow</td>\n        </tr>\n        <tr>\n          <td>2024-01-08 09:15:00</td>\n          <td>Jane Smith</td>\n          <td><span style=\"background: #dbeafe; color: #1e40af; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem;\">Update</span></td>\n          <td>Integration</td>\n        </tr>\n        <tr>\n          <td>2024-01-08 08:00:00</td>\n          <td>John Doe</td>\n          <td><span style=\"background: #f3e8ff; color: #7c3aed; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem;\">Login</span></td>\n          <td>Session</td>\n        </tr>\n      </tbody>\n    </table>\n  `\n  return layout('Activity - dotdo Admin', adminShell('Activity', 'activity', content), adminStyles)\n}\n\n// 404 page styles\nconst notFoundStyles = `\n  .not-found { min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 2rem; }\n  .not-found h1 { font-size: 6rem; font-weight: bold; color: #d1d5db; margin-bottom: 1rem; }\n  .not-found h2 { font-size: 1.5rem; margin-bottom: 0.5rem; }\n  .not-found p { color: #6b7280; margin-bottom: 2rem; }\n  .not-found a { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: #2563eb; color: #fff; border-radius: 0.5rem; }\n`\n\nexport function notFoundHtml(): string {\n  const content = `\n    <div class=\"not-found\">\n      <h1>404</h1>\n      <h2>Page Not Found</h2>\n      <p>The page you're looking for doesn't exist or has been moved.</p>\n      <a href=\"/\">\n        <svg width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"/></svg>\n        Back to Home\n      </a>\n    </div>\n  `\n  return layout('Page Not Found - dotdo', content, notFoundStyles)\n}\n", "/**\n * Test Durable Object for vitest infrastructure testing\n * This DO is used only in tests to verify storage isolation works correctly.\n */\nexport class TestDurableObject implements DurableObject {\n  private state: DurableObjectState\n\n  constructor(state: DurableObjectState) {\n    this.state = state\n  }\n\n  async fetch(request: Request): Promise<Response> {\n    const url = new URL(request.url)\n\n    if (url.pathname === '/store' && request.method === 'POST') {\n      const body = (await request.json()) as { key: string; value: string }\n      await this.state.storage.put(body.key, body.value)\n      return new Response(JSON.stringify({ success: true }), {\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    if (url.pathname === '/get') {\n      const key = url.searchParams.get('key')\n      if (!key) {\n        return new Response(JSON.stringify({ error: 'Missing key' }), {\n          status: 400,\n          headers: { 'Content-Type': 'application/json' },\n        })\n      }\n      const value = await this.state.storage.get(key)\n      return new Response(JSON.stringify({ value: value ?? null }), {\n        headers: { 'Content-Type': 'application/json' },\n      })\n    }\n\n    return new Response(JSON.stringify({ error: 'Not found' }), {\n      status: 404,\n      headers: { 'Content-Type': 'application/json' },\n    })\n  }\n}\n", "import { Hono } from 'hono'\nimport { cors } from 'hono/cors'\nimport { logger } from 'hono/logger'\nimport { apiRoutes } from './routes/api'\nimport { mcpRoutes } from './routes/mcp'\nimport { rpcRoutes } from './routes/rpc'\nimport { errorHandler } from './middleware/error-handling'\nimport { requestIdMiddleware } from './middleware/request-id'\nimport { landingPageHtml, docsPageHtml, adminDashboardHtml, adminLoginHtml, adminUsersHtml, adminUserNewHtml, adminWorkflowsHtml, adminIntegrationsHtml, adminApiKeysHtml, adminSettingsHtml, adminSettingsAccountHtml, adminSettingsSecurityHtml, adminActivityHtml, notFoundHtml } from './pages'\n\n// Re-export Durable Object classes for wrangler\nexport { TestDurableObject } from './test-do'\nexport { DurableObject } from 'cloudflare:workers'\n\n// Types for Cloudflare Workers bindings\nexport interface Env {\n  KV: KVNamespace\n  DO: DurableObjectNamespace\n  TEST_KV: KVNamespace\n  TEST_DO: DurableObjectNamespace\n  ASSETS: Fetcher\n}\n\n// Create the Hono app\nexport const app = new Hono<{ Bindings: Env }>()\n\n// Global middleware\napp.use('*', errorHandler)\napp.use('*', requestIdMiddleware)\napp.use('*', logger())\napp.use('*', cors())\n\n// Landing page\napp.get('/', (c) => {\n  return c.html(landingPageHtml())\n})\n\n// Documentation routes\napp.get('/docs', (c) => {\n  return c.html(docsPageHtml('index'))\n})\napp.get('/docs/', (c) => {\n  return c.html(docsPageHtml('index'))\n})\napp.get('/docs/getting-started', (c) => {\n  return c.html(docsPageHtml('getting-started'))\n})\napp.get('/docs/api', (c) => {\n  return c.html(docsPageHtml('api'))\n})\napp.get('/docs/*', (c) => {\n  const path = c.req.path.replace('/docs/', '')\n  return c.html(docsPageHtml(path))\n})\n\n// Admin routes\napp.get('/admin', (c) => {\n  return c.html(adminDashboardHtml())\n})\napp.get('/admin/', (c) => {\n  return c.html(adminDashboardHtml())\n})\napp.get('/admin/login', (c) => {\n  return c.html(adminLoginHtml())\n})\napp.get('/admin/users', (c) => {\n  return c.html(adminUsersHtml())\n})\napp.get('/admin/users/', (c) => {\n  return c.html(adminUsersHtml())\n})\napp.get('/admin/users/new', (c) => {\n  return c.html(adminUserNewHtml())\n})\napp.get('/admin/users/:id', (c) => {\n  return c.html(adminUsersHtml())\n})\napp.get('/admin/workflows', (c) => {\n  return c.html(adminWorkflowsHtml())\n})\napp.get('/admin/workflows/', (c) => {\n  return c.html(adminWorkflowsHtml())\n})\napp.get('/admin/workflows/:id', (c) => {\n  return c.html(adminWorkflowsHtml())\n})\napp.get('/admin/workflows/:id/runs', (c) => {\n  return c.html(adminWorkflowsHtml())\n})\napp.get('/admin/integrations', (c) => {\n  return c.html(adminIntegrationsHtml())\n})\napp.get('/admin/integrations/', (c) => {\n  return c.html(adminIntegrationsHtml())\n})\napp.get('/admin/integrations/api-keys', (c) => {\n  return c.html(adminApiKeysHtml())\n})\napp.get('/admin/settings', (c) => {\n  return c.html(adminSettingsHtml())\n})\napp.get('/admin/settings/', (c) => {\n  return c.html(adminSettingsHtml())\n})\napp.get('/admin/settings/account', (c) => {\n  return c.html(adminSettingsAccountHtml())\n})\napp.get('/admin/settings/security', (c) => {\n  return c.html(adminSettingsSecurityHtml())\n})\napp.get('/admin/activity', (c) => {\n  return c.html(adminActivityHtml())\n})\napp.get('/admin/activity/', (c) => {\n  return c.html(adminActivityHtml())\n})\n\n// Handle /api/ explicitly (trailing slash)\napp.get('/api/', (c) => {\n  return c.json({\n    name: 'dotdo',\n    version: '0.0.1',\n    endpoints: ['/api/health', '/api/things'],\n  })\n})\n\n// Mount API routes\napp.route('/api', apiRoutes)\n\n// Mount MCP routes\napp.route('/mcp', mcpRoutes)\n\n// Mount RPC routes\napp.route('/rpc', rpcRoutes)\n\n// Catch-all for unknown routes - return 404 HTML page\napp.all('*', (c) => {\n  // API routes should return JSON 404\n  if (c.req.path.startsWith('/api/')) {\n    return c.json({ error: { code: 'NOT_FOUND', message: `Not found: ${c.req.path}` } }, 404)\n  }\n  // All other routes return HTML 404 page\n  return c.html(notFoundHtml(), 404)\n})\n\n// Export the app with fetch handler\nexport default app\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/nathanclevenger/projects/dotdo/api/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/nathanclevenger/projects/dotdo/node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/nathanclevenger/projects/dotdo/node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/nathanclevenger/projects/dotdo/api/index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/nathanclevenger/projects/dotdo/.wrangler/tmp/bundle-cZvNFt/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/nathanclevenger/projects/dotdo/node_modules/.pnpm/wrangler@3.114.16_@cloudflare+workers-types@4.20260108.0/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/nathanclevenger/projects/dotdo/.wrangler/tmp/bundle-cZvNFt/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/nathanclevenger/projects/dotdo/.wrangler/tmp/bundle-cZvNFt/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;AACJ,IAAM,WAAW;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAAD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AA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",
  "names": ["PerformanceMark", "clear", "count", "countReset", "createTask", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeLog", "timeStamp", "trace", "warn", "hrtime", "Socket", "Socket", "dir", "env", "count", "cwd", "hrtime", "assert", "context", "match", "raw", "context", "layout", "app", "env", "context", "context", "Node", "_Node", "Node", "Hono", "process", "time", "log", "Hono", "limit", "offset", "sessionId", "error", "Hono", "JSON_RPC_ERRORS", "error", "Hono", "errorHandler", "title", "Hono", "errorHandler", "env", "env", "error", "env", "env"]
}
