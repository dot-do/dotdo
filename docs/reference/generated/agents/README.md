[**dotdo API Reference v0.1.1**](../README.md)

***

[dotdo API Reference](../README.md) / agents

# agents

Unified Agent SDK

A unified abstraction over multiple AI agent SDKs:
- Vercel AI SDK (Agent, Tool, stopWhen, prepareStep)
- Claude Agent SDK (query, subagents, hooks, MCP, v2 sessions)
- OpenAI Agents SDK (handoffs, Runner, Responses API)
- Devin API (sessions, attachments, knowledge)
- Mastra (workflows, memory, RAG)
- Vapi/LiveKit (voice agents, STT/TTS pipelines)

## Example

```ts
import { createVercelProvider, tool, stepCountIs } from './agents'
import { z } from 'zod'

const provider = createVercelProvider()

const weatherTool = tool({
  name: 'getWeather',
  description: 'Get weather for a location',
  inputSchema: z.object({
    location: z.string(),
  }),
  execute: async ({ location }) => {
    return { temperature: 22, condition: 'sunny' }
  },
})

const agent = provider.createAgent({
  id: 'weather-agent',
  name: 'Weather Agent',
  instructions: 'You help users with weather information.',
  model: 'gpt-4o',
  tools: [weatherTool],
  stopWhen: stepCountIs(5),
})

const result = await agent.run({
  prompt: 'What is the weather in San Francisco?',
})

console.log(result.text)
```

## Classes

- [AgentLoop](classes/AgentLoop.md)
- [AgentMemoryBridge](classes/AgentMemoryBridge.md)
- [AgentMessageBus](classes/AgentMessageBus.md)
- [BaseAgent](classes/BaseAgent.md)
- [BudgetExceededError](classes/BudgetExceededError.md)
- [ClaudeProvider](classes/ClaudeProvider.md)
- [ConversationMemoryAdapter](classes/ConversationMemoryAdapter.md)
- [CostTracker](classes/CostTracker.md)
- [DevinProvider](classes/DevinProvider.md)
- [GraphMemoryAdapter](classes/GraphMemoryAdapter.md)
- [GraphMessageBus](classes/GraphMessageBus.md)
- [HandoffProtocol](classes/HandoffProtocol.md)
- [InMemoryAgentMemory](classes/InMemoryAgentMemory.md)
- [InMemoryCacheStorage](classes/InMemoryCacheStorage.md)
- [LiveKitProvider](classes/LiveKitProvider.md)
- [LLMRouter](classes/LLMRouter.md)
- [OpenAIProvider](classes/OpenAIProvider.md)
- [StructuredOutputError](classes/StructuredOutputError.md)
- [ToolResultCache](classes/ToolResultCache.md)
- [ToolThingRegistry](classes/ToolThingRegistry.md)
- [ValidationError](classes/ValidationError.md)
- [VapiProvider](classes/VapiProvider.md)
- [VercelProvider](classes/VercelProvider.md)

## Interfaces

- [Agent](interfaces/Agent.md)
- [AgentActivity](interfaces/AgentActivity.md)
- [AgentConfig](interfaces/AgentConfig.md)
- [AgentHooks](interfaces/AgentHooks.md)
- [AgentInput](interfaces/AgentInput.md)
- [AgentLoopConfig](interfaces/AgentLoopConfig.md)
- [AgentLoopInput](interfaces/AgentLoopInput.md)
- [AgentLoopStep](interfaces/AgentLoopStep.md)
- [AgentMemory](interfaces/AgentMemory.md)
- [AgentMessage](interfaces/AgentMessage.md)
- [AgentPersona](interfaces/AgentPersona.md)
- [AgentProvider](interfaces/AgentProvider.md)
- [AgentResult](interfaces/AgentResult.md)
- [AgentResultMeta](interfaces/AgentResultMeta.md)
- [AgentSchemaRegistry](interfaces/AgentSchemaRegistry.md)
- [AgentStreamResult](interfaces/AgentStreamResult.md)
- [AgentWithCostTracking](interfaces/AgentWithCostTracking.md)
- [AgentWithMemory](interfaces/AgentWithMemory.md)
- [AssistantMessage](interfaces/AssistantMessage.md)
- [Attachment](interfaces/Attachment.md)
- [BaseAgentOptions](interfaces/BaseAgentOptions.md)
- [BaseMessage](interfaces/BaseMessage.md)
- [BroadcastRequest](interfaces/BroadcastRequest.md)
- [BudgetConfig](interfaces/BudgetConfig.md)
- [BusConfig](interfaces/BusConfig.md)
- [CacheableToolDefinition](interfaces/CacheableToolDefinition.md)
- [CacheEntry](interfaces/CacheEntry.md)
- [CacheStats](interfaces/CacheStats.md)
- [CacheStorage](interfaces/CacheStorage.md)
- [CircularHandoffCheckResult](interfaces/CircularHandoffCheckResult.md)
- [ClaudeProviderOptions](interfaces/ClaudeProviderOptions.md)
- [CommunicationStats](interfaces/CommunicationStats.md)
- [ContentPart](interfaces/ContentPart.md)
- [ConversationMemory](interfaces/ConversationMemory.md)
- [ConversationMemoryConfig](interfaces/ConversationMemoryConfig.md)
- [ConversationState](interfaces/ConversationState.md)
- [CostBudget](interfaces/CostBudget.md)
- [CostTrackerConfig](interfaces/CostTrackerConfig.md)
- [CreateHandoffRelationshipInput](interfaces/CreateHandoffRelationshipInput.md)
- [CreateSessionOptions](interfaces/CreateSessionOptions.md)
- [DeliveryReceipt](interfaces/DeliveryReceipt.md)
- [DevinProviderOptions](interfaces/DevinProviderOptions.md)
- [DoneEvent](interfaces/DoneEvent.md)
- [ErrorEvent](interfaces/ErrorEvent.md)
- [FallbackConfig](interfaces/FallbackConfig.md)
- [GetHandoffAnalyticsOptions](interfaces/GetHandoffAnalyticsOptions.md)
- [GetHandoffChainOptions](interfaces/GetHandoffChainOptions.md)
- [GraphHandoffChainEntry](interfaces/GraphHandoffChainEntry.md)
- [GraphMemoryAdapterConfig](interfaces/GraphMemoryAdapterConfig.md)
- [GraphMessageBusConfig](interfaces/GraphMessageBusConfig.md)
- [HandoffAcceptMessage](interfaces/HandoffAcceptMessage.md)
- [HandoffAckMessage](interfaces/HandoffAckMessage.md)
- [HandoffAnalytics](interfaces/HandoffAnalytics.md)
- [HandoffChainEntry](interfaces/HandoffChainEntry.md)
- [HandoffCompleteMessage](interfaces/HandoffCompleteMessage.md)
- [HandoffContext](interfaces/HandoffContext.md)
- [HandoffErrorMessage](interfaces/HandoffErrorMessage.md)
- [HandoffHooks](interfaces/HandoffHooks.md)
- [HandoffInitiateMessage](interfaces/HandoffInitiateMessage.md)
- [HandoffMessageBase](interfaces/HandoffMessageBase.md)
- [HandoffProgressMessage](interfaces/HandoffProgressMessage.md)
- [HandoffProtocolConfig](interfaces/HandoffProtocolConfig.md)
- [HandoffRecord](interfaces/HandoffRecord.md)
- [HandoffRejectMessage](interfaces/HandoffRejectMessage.md)
- [HandoffRelationship](interfaces/HandoffRelationship.md)
- [HandoffRequest](interfaces/HandoffRequest.md)
- [HandoffResult](interfaces/HandoffResult.md)
- [HealthCheckConfig](interfaces/HealthCheckConfig.md)
- [JsonSchema](interfaces/JsonSchema.md)
- [LiveKitProviderOptions](interfaces/LiveKitProviderOptions.md)
- [LLMSummarizerOptions](interfaces/LLMSummarizerOptions.md)
- [MemoryConfig](interfaces/MemoryConfig.md)
- [MemorySearchOptions](interfaces/MemorySearchOptions.md)
- [MemoryStats](interfaces/MemoryStats.md)
- [MemorySummary](interfaces/MemorySummary.md)
- [MemoryThing](interfaces/MemoryThing.md)
- [MessageEnvelope](interfaces/MessageEnvelope.md)
- [MessageFilter](interfaces/MessageFilter.md)
- [MessageSubscription](interfaces/MessageSubscription.md)
- [MigrationOptions](interfaces/MigrationOptions.md)
- [MigrationResult](interfaces/MigrationResult.md)
- [MockProviderOptions](interfaces/MockProviderOptions.md)
- [ModelPricing](interfaces/ModelPricing.md)
- [ModelUsage](interfaces/ModelUsage.md)
- [NamedAgent](interfaces/NamedAgent.md)
- [OpenAIProviderOptions](interfaces/OpenAIProviderOptions.md)
- [PermissionRequest](interfaces/PermissionRequest.md)
- [PersistentToolOptions](interfaces/PersistentToolOptions.md)
- [PrepareStepResult](interfaces/PrepareStepResult.md)
- [PreservedState](interfaces/PreservedState.md)
- [ProviderConfig](interfaces/ProviderConfig.md)
- [ProviderHealthStatus](interfaces/ProviderHealthStatus.md)
- [ProviderUsage](interfaces/ProviderUsage.md)
- [RecordUsageInput](interfaces/RecordUsageInput.md)
- [RequestOptions](interfaces/RequestOptions.md)
- [RouterConfig](interfaces/RouterConfig.md)
- [RouterMetrics](interfaces/RouterMetrics.md)
- [SendMessageOptions](interfaces/SendMessageOptions.md)
- [Session](interfaces/Session.md)
- [SimpleRequest](interfaces/SimpleRequest.md)
- [StepFinishEvent](interfaces/StepFinishEvent.md)
- [StepResult](interfaces/StepResult.md)
- [StepState](interfaces/StepState.md)
- [StoreMemoryOptions](interfaces/StoreMemoryOptions.md)
- [StreamEvent](interfaces/StreamEvent.md)
- [StructuredOutputOptions](interfaces/StructuredOutputOptions.md)
- [SubagentResult](interfaces/SubagentResult.md)
- [SubagentTask](interfaces/SubagentTask.md)
- [SystemMessage](interfaces/SystemMessage.md)
- [TextDeltaEvent](interfaces/TextDeltaEvent.md)
- [TokenUsage](interfaces/TokenUsage.md)
- [ToolCacheConfig](interfaces/ToolCacheConfig.md)
- [ToolCall](interfaces/ToolCall.md)
- [ToolCallDeltaEvent](interfaces/ToolCallDeltaEvent.md)
- [ToolCallEndEvent](interfaces/ToolCallEndEvent.md)
- [ToolCallStartEvent](interfaces/ToolCallStartEvent.md)
- [ToolContext](interfaces/ToolContext.md)
- [ToolDefinition](interfaces/ToolDefinition.md)
- [ToolMessage](interfaces/ToolMessage.md)
- [ToolOptions](interfaces/ToolOptions.md)
- [ToolResult](interfaces/ToolResult.md)
- [ToolResultEvent](interfaces/ToolResultEvent.md)
- [ToolThingData](interfaces/ToolThingData.md)
- [TranscriberConfig](interfaces/TranscriberConfig.md)
- [TranscriptEntry](interfaces/TranscriptEntry.md)
- [TTSConfig](interfaces/TTSConfig.md)
- [TypedAgentResult](interfaces/TypedAgentResult.md)
- [TypedInvokeOptions](interfaces/TypedInvokeOptions.md)
- [TypedTemplateLiteral](interfaces/TypedTemplateLiteral.md)
- [TypedToolCallRecord](interfaces/TypedToolCallRecord.md)
- [UsageRecord](interfaces/UsageRecord.md)
- [UsageStats](interfaces/UsageStats.md)
- [UserMessage](interfaces/UserMessage.md)
- [VADConfig](interfaces/VADConfig.md)
- [VapiProviderOptions](interfaces/VapiProviderOptions.md)
- [VercelProviderOptions](interfaces/VercelProviderOptions.md)
- [VoiceConfig](interfaces/VoiceConfig.md)
- [VoiceEvent](interfaces/VoiceEvent.md)
- [VoiceSession](interfaces/VoiceSession.md)

## Type Aliases

- [AgentLoopEvent](type-aliases/AgentLoopEvent.md)
- [AgentRole](type-aliases/AgentRole.md)
- [AgentTaskResult](type-aliases/AgentTaskResult.md)
- [CoercionTarget](type-aliases/CoercionTarget.md)
- [Content](type-aliases/Content.md)
- [DataAnalysis](type-aliases/DataAnalysis.md)
- [DeliveryStatus](type-aliases/DeliveryStatus.md)
- [FinancialAnalysis](type-aliases/FinancialAnalysis.md)
- [HandoffMessage](type-aliases/HandoffMessage.md)
- [HandoffMessageType](type-aliases/HandoffMessageType.md)
- [HandoffReason](type-aliases/HandoffReason.md)
- [HandoffState](type-aliases/HandoffState.md)
- [Implementation](type-aliases/Implementation.md)
- [LoadBalanceStrategy](type-aliases/LoadBalanceStrategy.md)
- [MemoryType](type-aliases/MemoryType.md)
- [Message](type-aliases/Message.md)
- [MessageHandler](type-aliases/MessageHandler.md)
- [MessageRole](type-aliases/MessageRole.md)
- [MessageType](type-aliases/MessageType.md)
- [ParsePhase](type-aliases/ParsePhase.md)
- [PrepareStepFn](type-aliases/PrepareStepFn.md)
- [PricingTable](type-aliases/PricingTable.md)
- [Review](type-aliases/Review.md)
- [Schema](type-aliases/Schema.md)
- [SessionStatus](type-aliases/SessionStatus.md)
- [Spec](type-aliases/Spec.md)
- [StopCondition](type-aliases/StopCondition.md)
- [StreamEventType](type-aliases/StreamEventType.md)
- [Summarizer](type-aliases/Summarizer.md)
- [TestResult](type-aliases/TestResult.md)
- [TokenCounter](type-aliases/TokenCounter.md)
- [ToolCallDecision](type-aliases/ToolCallDecision.md)
- [ValidationResult](type-aliases/ValidationResult.md)

## Functions

- [all](functions/all.md)
- [any](functions/any.md)
- [cacheable](functions/cacheable.md)
- [calculateCost](functions/calculateCost.md)
- [checkCircularHandoff](functions/checkCircularHandoff.md)
- [clearHandlerRegistry](functions/clearHandlerRegistry.md)
- [coerceType](functions/coerceType.md)
- [collectStreamEvents](functions/collectStreamEvents.md)
- [countLegacyMemories](functions/countLegacyMemories.md)
- [createAcceptMessage](functions/createAcceptMessage.md)
- [createAckMessage](functions/createAckMessage.md)
- [createAgentLoop](functions/createAgentLoop.md)
- [createAPITokenCounter](functions/createAPITokenCounter.md)
- [createCacheHooks](functions/createCacheHooks.md)
- [createClaudeProvider](functions/createClaudeProvider.md)
- [createCompleteHandoffContext](functions/createCompleteHandoffContext.md)
- [createCompleteMessage](functions/createCompleteMessage.md)
- [~~createConversationMemory~~](functions/createConversationMemory.md)
- [createCostTracker](functions/createCostTracker.md)
- [createDelegationTool](functions/createDelegationTool.md)
- [createDevinProvider](functions/createDevinProvider.md)
- [createErrorMessage](functions/createErrorMessage.md)
- [createEscalationTool](functions/createEscalationTool.md)
- [createFinishTool](functions/createFinishTool.md)
- [createGraphBackedHandoffHooks](functions/createGraphBackedHandoffHooks.md)
- [createGraphMemory](functions/createGraphMemory.md)
- [createGraphMessageBus](functions/createGraphMessageBus.md)
- [createHandoffContext](functions/createHandoffContext.md)
- [createHandoffProtocol](functions/createHandoffProtocol.md)
- [createHandoffRelationship](functions/createHandoffRelationship.md)
- [createHandoffRequest](functions/createHandoffRequest.md)
- [createHandoffTool](functions/createHandoffTool.md)
- [createInitiateMessage](functions/createInitiateMessage.md)
- [createInMemoryAgentMemory](functions/createInMemoryAgentMemory.md)
- [createIsolatedMockProvider](functions/createIsolatedMockProvider.md)
- [createLiveKitProvider](functions/createLiveKitProvider.md)
- [createLLMSummarizer](functions/createLLMSummarizer.md)
- [createMessageBus](functions/createMessageBus.md)
- [createMockProvider](functions/createMockProvider.md)
- [createMockTool](functions/createMockTool.md)
- [createNamedAgent](functions/createNamedAgent.md)
- [createOpenAIProvider](functions/createOpenAIProvider.md)
- [createPreservedState](functions/createPreservedState.md)
- [createProgressMessage](functions/createProgressMessage.md)
- [createProtocolHandoffTool](functions/createProtocolHandoffTool.md)
- [createProvider](functions/createProvider.md)
- [createRejectMessage](functions/createRejectMessage.md)
- [createRouter](functions/createRouter.md)
- [createStructuredOutputParser](functions/createStructuredOutputParser.md)
- [createTiktokenCounter](functions/createTiktokenCounter.md)
- [createToolCache](functions/createToolCache.md)
- [createToolThingRegistry](functions/createToolThingRegistry.md)
- [createTrackedTool](functions/createTrackedTool.md)
- [createTypedInvoke](functions/createTypedInvoke.md)
- [createTypedTemplateLiteral](functions/createTypedTemplateLiteral.md)
- [createVapiProvider](functions/createVapiProvider.md)
- [createVercelProvider](functions/createVercelProvider.md)
- [customStop](functions/customStop.md)
- [defineAgentSchema](functions/defineAgentSchema.md)
- [deleteToolFromGraph](functions/deleteToolFromGraph.md)
- [deserializeContext](functions/deserializeContext.md)
- [disableMockMode](functions/disableMockMode.md)
- [enableMockMode](functions/enableMockMode.md)
- [estimateCost](functions/estimateCost.md)
- [executeCached](functions/executeCached.md)
- [expectAgentResult](functions/expectAgentResult.md)
- [extractAgentId](functions/extractAgentId.md)
- [extractJson](functions/extractJson.md)
- [extractPreservedState](functions/extractPreservedState.md)
- [generateCacheKey](functions/generateCacheKey.md)
- [generateCorrelationId](functions/generateCorrelationId.md)
- [generateHandoffId](functions/generateHandoffId.md)
- [generateSchemaPrompt](functions/generateSchemaPrompt.md)
- [getAgentSchema](functions/getAgentSchema.md)
- [getHandler](functions/getHandler.md)
- [getHandlerCount](functions/getHandlerCount.md)
- [getHandoffAnalytics](functions/getHandoffAnalytics.md)
- [getHandoffChain](functions/getHandoffChain.md)
- [getHandoffsBetweenAgents](functions/getHandoffsBetweenAgents.md)
- [hasAgentSchema](functions/hasAgentSchema.md)
- [hasLegacyMemories](functions/hasLegacyMemories.md)
- [hasText](functions/hasText.md)
- [hasToolCall](functions/hasToolCall.md)
- [isJsonSchema](functions/isJsonSchema.md)
- [isMockMode](functions/isMockMode.md)
- [isZodSchema](functions/isZodSchema.md)
- [listToolsFromGraph](functions/listToolsFromGraph.md)
- [loadToolFromGraph](functions/loadToolFromGraph.md)
- [mergePreservedStates](functions/mergePreservedStates.md)
- [mergeTrackerStats](functions/mergeTrackerStats.md)
- [migrateMemory](functions/migrateMemory.md)
- [not](functions/not.md)
- [parseAgentResult](functions/parseAgentResult.md)
- [parseStructuredOutput](functions/parseStructuredOutput.md)
- [persistentTool](functions/persistentTool.md)
- [registerHandler](functions/registerHandler.md)
- [runSingleCycle](functions/runSingleCycle.md)
- [serializeContext](functions/serializeContext.md)
- [setMockResponse](functions/setMockResponse.md)
- [stableStringify](functions/stableStringify.md)
- [stepCountIs](functions/stepCountIs.md)
- [thingToTool](functions/thingToTool.md)
- [toAgentMemoryBridge](functions/toAgentMemoryBridge.md)
- [toConversationMemory](functions/toConversationMemory.md)
- [tool](functions/tool.md)
- [toolToThing](functions/toolToThing.md)
- [unregisterHandler](functions/unregisterHandler.md)
- [validateInput](functions/validateInput.md)
- [validatePreservedState](functions/validatePreservedState.md)
- [withCaching](functions/withCaching.md)
- [withCostTracking](functions/withCostTracking.md)
- [~~withMemory~~](functions/withMemory.md)
- [zodToJsonSchema](functions/zodToJsonSchema.md)
- [zodToPromptSchema](functions/zodToPromptSchema.md)

## Variables

- [casey](variables/casey.md)
- [ContentSchema](variables/ContentSchema.md)
- [dana](variables/dana.md)
- [DataAnalysisSchema](variables/DataAnalysisSchema.md)
- [FinancialAnalysisSchema](variables/FinancialAnalysisSchema.md)
- [finn](variables/finn.md)
- [fixtures](variables/fixtures.md)
- [HANDED\_OFF\_TO](variables/HANDED_OFF_TO.md)
- [ImplementationSchema](variables/ImplementationSchema.md)
- [mark](variables/mark.md)
- [MEMORY\_TYPE\_ID](variables/MEMORY_TYPE_ID.md)
- [MEMORY\_TYPE\_NAME](variables/MEMORY_TYPE_NAME.md)
- [MESSAGE\_TYPE\_ID](variables/MESSAGE_TYPE_ID.md)
- [MESSAGE\_TYPE\_NAME](variables/MESSAGE_TYPE_NAME.md)
- [mockResponses](variables/mockResponses.md)
- [MODEL\_PRICING](variables/MODEL_PRICING.md)
- [PERSONAS](variables/PERSONAS.md)
- [priya](variables/priya.md)
- [quinn](variables/quinn.md)
- [rae](variables/rae.md)
- [ralph](variables/ralph.md)
- [ReviewSchema](variables/ReviewSchema.md)
- [sally](variables/sally.md)
- [SpecSchema](variables/SpecSchema.md)
- [TestResultSchema](variables/TestResultSchema.md)
- [tom](variables/tom.md)
- [TOOL\_TYPE\_ID](variables/TOOL_TYPE_ID.md)
- [TOOL\_TYPE\_NAME](variables/TOOL_TYPE_NAME.md)
