---
title: "Linear"
description: "Drop-in replacement for Linear SDK with edge compatibility and local development mode."
---

# Linear

Drop-in replacement for the Linear SDK. Your existing Linear code works unchanged - just swap the import.

```typescript
// Before: Linear SDK
import { LinearClient } from '@linear/sdk'

// After: dotdo
import { LinearClient } from '@dotdo/linear'

// Code stays the same
const linear = new LinearClient({ apiKey: 'lin_xxx' })
const issues = await linear.issues()
```

## Prerequisites

Before integrating Linear with dotdo, you need:

### 1. Create a Linear Workspace

If you don't have a Linear workspace:
1. Sign up at [linear.app](https://linear.app)
2. Create your workspace

### 2. Obtain Your API Key

1. Log in to Linear
2. Navigate to **Settings** > **API** > **Personal API keys**
3. Click **Create key**
4. Copy the API key (starts with `lin_api_`)

### 3. Environment Setup

For production, you'll need a real Linear API key. For testing and development, the local mode works without any API key.

## Environment Variables

```bash
# Required for production
LINEAR_API_KEY=lin_api_xxxxx

# Optional: Webhook secret for webhook verification
LINEAR_WEBHOOK_SECRET=your_webhook_secret
```

**Environment variable checklist:**

| Variable | Required | Description |
|----------|----------|-------------|
| `LINEAR_API_KEY` | Yes (production) | Linear API authentication |
| `LINEAR_WEBHOOK_SECRET` | No | Webhook signature verification |

## Why @dotdo/linear?

| @linear/sdk | @dotdo/linear |
|-------------|---------------|
| Node.js runtime required | Edge-compatible (Cloudflare Workers) |
| Network calls required | Local mode for testing |
| No time-travel queries | Built-in temporal queries |
| External dependency | Works offline |

**This is a compatibility layer.** It can either forward to real Linear APIs (production) or run entirely locally for testing and development.

## Features

### Implemented

**Teams**
- `teamCreate()` - Create teams
- `team()` - Get team by ID
- `teams()` - List all teams

**Issues**
- `issueCreate()` - Create issues
- `issueUpdate()` - Update issues
- `issue()` - Get issue by ID
- `issues()` - List/filter issues
- `issueArchive()` - Archive issues
- `issueUnarchive()` - Unarchive issues

**Projects**
- `projectCreate()` - Create projects
- `projectUpdate()` - Update projects
- `project()` - Get project by ID
- `projects()` - List projects
- `projectMilestoneCreate()` - Create milestones

**Cycles (Sprints)**
- `cycleCreate()` - Create cycles
- `cycleUpdate()` - Update cycles
- `cycle()` - Get cycle by ID
- `cycles()` - List cycles

**Comments**
- `commentCreate()` - Add comments
- `commentUpdate()` - Update comments
- `comments()` - List comments

**Labels**
- `issueLabelCreate()` - Create labels
- `issueLabels()` - List labels

**Webhooks**
- Webhook signature verification
- Event parsing

**dotdo Extensions**
- `issueAsOf()` - Time-travel queries
- Local development mode

### Not Yet Implemented

- Integrations
- Custom views
- Notifications
- OAuth flow

## Quick Start

### Install

```bash
npm install @dotdo/linear
```

### Basic Usage

```typescript
import { LinearClient } from '@dotdo/linear'

const linear = new LinearClient({ apiKey: process.env.LINEAR_API_KEY })

// Create a team
const { team } = await linear.teamCreate({
  name: 'Engineering',
  key: 'ENG',
})

// Create an issue
const { issue } = await linear.issueCreate({
  teamId: team.id,
  title: 'Implement authentication',
  description: 'Add OAuth2 and SAML support',
  priority: 1, // Urgent
})

// Update issue
await linear.issueUpdate(issue.id, {
  stateId: 'in-progress-state-id',
})

// List issues
const issues = await linear.issues({
  filter: {
    team: { key: { eq: 'ENG' } },
    state: { name: { eq: 'In Progress' } },
  },
})
```

### Projects and Cycles

```typescript
import { LinearClient } from '@dotdo/linear'

const linear = new LinearClient({ apiKey: process.env.LINEAR_API_KEY })

// Create project
const { project } = await linear.projectCreate({
  name: 'Q1 Launch',
  teamIds: [team.id],
  targetDate: '2025-03-31',
})

// Create sprint/cycle
const { cycle } = await linear.cycleCreate({
  teamId: team.id,
  name: 'Sprint 1',
  startsAt: new Date().toISOString(),
  endsAt: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString(),
})

// Add issues to project and sprint
await linear.issueCreate({
  teamId: team.id,
  title: 'User story 1',
  projectId: project.id,
  cycleId: cycle.id,
})
```

## Configuration

### Client Options

```typescript
import { LinearClient, type LinearClientConfig } from '@dotdo/linear'

const config: LinearClientConfig = {
  // API key (required for production)
  apiKey: 'lin_api_xxx',

  // Optional: Custom API URL
  apiUrl: 'https://api.linear.app',
}

const linear = new LinearClient(config)
```

## Inbound - Local Development

For local development and testing, use the local implementation:

```typescript
import { LinearLocal } from '@dotdo/linear'

// Create local instance (no external API calls)
const linear = new LinearLocal({
  webhooks: true,
  onWebhookEvent: (event) => {
    console.log('Webhook:', event.type, event.action)
  },
})

// Create team and issues locally
const { team } = await linear.teamCreate({ name: 'Product', key: 'PROD' })
const { issue } = await linear.issueCreate({
  teamId: team.id,
  title: 'Ship MVP',
})

// Time-travel query (dotdo extension)
const issueYesterday = await linear.issueAsOf(issue.id, Date.now() - 86400000)
```

## Outbound - Production

For production, connect to the real Linear API:

```typescript
// worker.ts
import { LinearClient } from '@dotdo/linear'

export default {
  async fetch(request: Request, env: Env): Promise<Response> {
    const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

    // Create issue in Linear
    const { issue } = await linear.issueCreate({
      teamId: 'team-id',
      title: 'Bug from production',
      priority: 1,
    })

    return Response.json({ issueId: issue.id })
  },
}
```

## Webhooks

Handle Linear webhooks with signature verification:

```typescript
import { LinearLocal } from '@dotdo/linear'

export default {
  async fetch(request: Request, env: Env): Promise<Response> {
    const body = await request.text()
    const headers = Object.fromEntries(request.headers)

    // Verify webhook signature
    const isValid = await LinearLocal.webhooks.verifyRequest(
      body,
      {
        'linear-signature': headers['linear-signature'],
        'linear-timestamp': headers['linear-timestamp'],
      },
      env.LINEAR_WEBHOOK_SECRET
    )

    if (!isValid) {
      return new Response('Invalid signature', { status: 401 })
    }

    const event = JSON.parse(body)

    // Handle different event types
    switch (event.type) {
      case 'Issue':
        if (event.action === 'create') {
          console.log('New issue:', event.data.title)
        }
        break
      case 'Comment':
        console.log('New comment:', event.data.body)
        break
    }

    return new Response('OK')
  },
}
```

## Error Handling

```typescript
import { LinearClient } from '@dotdo/linear'

const linear = new LinearClient({ apiKey: process.env.LINEAR_API_KEY })

try {
  const { issue } = await linear.issueCreate({
    teamId: 'invalid-team',
    title: 'Test',
  })
} catch (error) {
  if (error.message.includes('not found')) {
    console.log('Team not found')
  } else {
    console.log('Error:', error.message)
  }
}
```

## TypeScript Types

Full TypeScript support with comprehensive type definitions:

```typescript
import type {
  // Core types
  Issue,
  IssueCreateInput,
  IssueUpdateInput,
  IssuePayload,

  // Team types
  Team,
  TeamCreateInput,

  // Project types
  Project,
  ProjectCreateInput,

  // Cycle types
  Cycle,
  CycleCreateInput,

  // Pagination
  Connection,
  PageInfo,

  // Config
  LinearClientConfig,
  LinearLocalConfig,
} from '@dotdo/linear'
```

## Workflow Integration

Use Linear with dotdo workflows for durable operations:

```typescript
import { $ } from 'dotdo'
import { LinearClient } from '@dotdo/linear'

export class BugTracker {
  linear = new LinearClient({ apiKey: this.env.LINEAR_API_KEY })

  async reportBug(error: Error, context: Record<string, unknown>) {
    // Durable issue creation with retries
    const { issue } = await $.do(() =>
      this.linear.issueCreate({
        teamId: this.env.TEAM_ID,
        title: `Bug: ${error.message}`,
        description: `\`\`\`\n${error.stack}\n\`\`\``,
        priority: 2,
        labels: ['bug', 'auto-reported'],
      })
    )

    return issue.identifier
  }
}
```

## Migration from @linear/sdk

### 1. Package Change

```bash
# Remove original package
npm uninstall @linear/sdk

# Install dotdo package
npm install @dotdo/linear
```

### 2. Import Change

```typescript
// Before
import { LinearClient } from '@linear/sdk'

// After
import { LinearClient } from '@dotdo/linear'
```

### 3. Code Compatibility

Your existing code should work unchanged. The API surface matches the official Linear SDK.

## Related

- [Jira Integration](/docs/integrations/jira) - Atlassian Jira
- [GitHub Integration](/docs/integrations/github) - GitHub Issues
- [Compat SDKs Overview](/docs/compat) - All API-compatible SDKs
