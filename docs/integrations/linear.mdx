---
title: Linear
description: Drop-in replacement for the Linear SDK with edge compatibility, local testing mode, and full issue/project/cycle management.
---

# Linear

Drop-in replacement for the official Linear SDK. Your existing Linear code works unchanged - just swap the import.

```typescript
// Before: Linear SDK
import { LinearClient } from '@linear/sdk'

// After: dotdo (import from compat/linear)
import { LinearClient } from 'compat/linear'

// Code stays the same
const linear = new LinearClient({ apiKey: 'lin_api_xxx' })

const { team } = await linear.teamCreate({
  name: 'Engineering',
  key: 'ENG',
})

const { issue } = await linear.issueCreate({
  teamId: team.id,
  title: 'Implement authentication',
  priority: 1,
})
```

## Prerequisites

Before integrating Linear with dotdo, you need:

### 1. Create a Linear Account

If you do not have a Linear account, [create one at linear.app](https://linear.app/signup). Linear offers a free tier for small teams.

### 2. Generate an API Key

Linear uses personal API keys or OAuth tokens for authentication.

**Creating a personal API key:**

1. Log in to your [Linear workspace](https://linear.app)
2. Click your profile picture in the bottom-left
3. Go to **Settings > Account > API**
4. Click **Create key**
5. Give it a descriptive name (e.g., "dotdo integration")
6. Copy the key immediately (it starts with `lin_api_`)

**Creating an OAuth application (for multi-user apps):**

1. Go to **Settings > Account > API > OAuth applications**
2. Click **New OAuth application**
3. Configure redirect URIs and scopes
4. Use the client ID/secret for OAuth flows

### 3. Key Types

| Key Type | Prefix | Use Case |
|----------|--------|----------|
| **Personal API key** | `lin_api_` | Single-user integrations |
| **OAuth token** | `lin_oauth_` | Multi-user applications |

## Environment Variables

Set up these environment variables in your project:

```bash
# Required: Your Linear API key
LINEAR_API_KEY=lin_api_your_key_here

# Required for webhooks: Your webhook signing secret
LINEAR_WEBHOOK_SECRET=your_webhook_secret_here

# Optional: OAuth credentials (for multi-user apps)
LINEAR_CLIENT_ID=your_client_id
LINEAR_CLIENT_SECRET=your_client_secret
```

**Environment variable checklist:**

| Variable | Required | Description |
|----------|----------|-------------|
| `LINEAR_API_KEY` | Yes | API authentication |
| `LINEAR_WEBHOOK_SECRET` | Yes (if using webhooks) | Verifies webhook signatures |
| `LINEAR_CLIENT_ID` | No | OAuth application ID |
| `LINEAR_CLIENT_SECRET` | No | OAuth application secret |

## Configure Webhooks

Webhooks notify your application about Linear events (issue updates, comments, etc.).

### Setting Up Webhooks in Linear

1. Go to **Settings > API > Webhooks**
2. Click **New webhook**
3. Enter your endpoint URL:
   - Production: `https://your-domain.com/webhooks/linear`
   - For local development, use a tunnel service like ngrok
4. Select the resources to monitor:
   - Issues
   - Comments
   - Projects
   - Cycles
5. Copy the signing secret for verification
6. Click **Create webhook**

## Why @dotdo/linear?

| Linear SDK | dotdo Linear |
|------------|--------------|
| Node.js GraphQL client | Edge-compatible REST client |
| Heavy bundle (~100KB+) | Lightweight (~15KB) |
| No local testing mode | In-memory mode for testing |
| Complex pagination | Simple async iterators |
| No time-travel queries | Built-in temporal queries |

**This is a compatibility layer.** It provides API compatibility while adding edge runtime support and a local testing mode that runs entirely in-memory.

## Features

### Implemented (Core APIs)

**Teams**
- `teamCreate()`, `team()`, `teams()`
- `teamUpdate()`, `teamArchive()`

**Issues**
- `issueCreate()`, `issue()`, `issues()`
- `issueUpdate()`, `issueArchive()`, `issueDelete()`
- `issueBatchCreate()`, `issueBatchUpdate()`
- Issue filtering, sorting, and pagination
- Issue relations (blocks, related, duplicate)
- Issue history and activity

**Projects**
- `projectCreate()`, `project()`, `projects()`
- `projectUpdate()`, `projectArchive()`
- Project milestones and updates
- Project links and documents

**Cycles (Sprints)**
- `cycleCreate()`, `cycle()`, `cycles()`
- `cycleUpdate()`, `cycleArchive()`
- Active/upcoming/completed cycles

**Labels**
- `issueLabelCreate()`, `issueLabel()`, `issueLabels()`
- `issueLabelUpdate()`, `issueLabelArchive()`

**Comments**
- `commentCreate()`, `comment()`, `comments()`
- `commentUpdate()`, `commentDelete()`

**Workflow States**
- `workflowStateCreate()`, `workflowState()`, `workflowStates()`
- `workflowStateUpdate()`, `workflowStateArchive()`

**Users**
- `user()`, `users()`, `viewer()`

**Webhooks**
- `webhookCreate()`, `webhook()`, `webhooks()`
- `webhookUpdate()`, `webhookDelete()`
- Signature verification utilities

### Not Yet Implemented

- Attachments API (full)
- Integrations API
- Templates API
- Favorites API
- Notifications API
- Roadmaps API

## Quick Start

### Basic Usage

```typescript
import { LinearClient } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

// Get current user
const user = await linear.viewer
console.log('Logged in as:', user.name)

// List teams
const teams = await linear.teams()
for await (const team of teams.nodes) {
  console.log(`Team: ${team.name} (${team.key})`)
}
```

### Issue Management

```typescript
import { LinearClient } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

// Create an issue
const { issue } = await linear.issueCreate({
  teamId: 'team-id',
  title: 'Implement user dashboard',
  description: `
## Requirements
- Display user statistics
- Show recent activity
- Include quick actions

## Acceptance Criteria
- [ ] Dashboard loads in under 2s
- [ ] Mobile responsive
- [ ] Accessible (WCAG 2.1 AA)
  `,
  priority: 2, // High priority
  estimate: 5, // Story points
  labelIds: ['label-id-1', 'label-id-2'],
})

console.log('Created issue:', issue.identifier)

// Update the issue
await linear.issueUpdate(issue.id, {
  stateId: 'in-progress-state-id',
  assigneeId: 'developer-id',
})

// Add a comment
await linear.commentCreate({
  issueId: issue.id,
  body: 'Starting work on this now. ETA: 2 days.',
})

// Link related issues
await linear.issueRelationCreate({
  issueId: issue.id,
  relatedIssueId: 'other-issue-id',
  type: 'blocks', // This issue blocks the other
})
```

### Project Management

```typescript
import { LinearClient } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

// Create a project
const { project } = await linear.projectCreate({
  name: 'Q1 2025 Launch',
  description: 'Ship the new product by end of Q1',
  teamIds: ['team-id'],
  targetDate: '2025-03-31',
  state: 'started',
})

// Add project milestones
await linear.projectMilestoneCreate({
  projectId: project.id,
  name: 'Alpha Release',
  targetDate: '2025-02-15',
})

await linear.projectMilestoneCreate({
  projectId: project.id,
  name: 'Beta Release',
  targetDate: '2025-03-01',
})

// Create project update
await linear.projectUpdateCreate({
  projectId: project.id,
  body: 'On track for alpha release. Core features complete.',
  health: 'onTrack',
})

// Add issues to project
await linear.issueCreate({
  teamId: 'team-id',
  title: 'Setup CI/CD pipeline',
  projectId: project.id,
})
```

### Sprint/Cycle Management

```typescript
import { LinearClient } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

// Create a sprint
const startDate = new Date()
const endDate = new Date(Date.now() + 14 * 24 * 60 * 60 * 1000) // 2 weeks

const { cycle } = await linear.cycleCreate({
  teamId: 'team-id',
  name: 'Sprint 1',
  startsAt: startDate.toISOString(),
  endsAt: endDate.toISOString(),
})

// Add issues to sprint
await linear.issueCreate({
  teamId: 'team-id',
  title: 'User authentication',
  cycleId: cycle.id,
  estimate: 8,
})

await linear.issueCreate({
  teamId: 'team-id',
  title: 'API documentation',
  cycleId: cycle.id,
  estimate: 3,
})

// Get sprint progress
const activeCycle = await linear.cycle(cycle.id)
console.log('Sprint:', activeCycle.name)
console.log('Progress:', activeCycle.progress)
console.log('Scope:', activeCycle.scopeHistory)
```

### Filtering and Searching

```typescript
import { LinearClient } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

// Filter issues
const highPriorityBugs = await linear.issues({
  filter: {
    team: { key: { eq: 'ENG' } },
    priority: { lte: 2 }, // Urgent or High
    labels: { name: { eq: 'bug' } },
    state: { type: { neq: 'completed' } },
  },
  orderBy: 'createdAt',
})

for await (const issue of highPriorityBugs.nodes) {
  console.log(`${issue.identifier}: ${issue.title}`)
}

// Search issues
const searchResults = await linear.issueSearch({
  query: 'authentication login',
  includeArchived: false,
})

for await (const result of searchResults.nodes) {
  console.log(`${result.issue.identifier}: ${result.issue.title}`)
}
```

### Webhook Handling

```typescript
import { LinearClient } from 'compat/linear'

export default {
  async fetch(request: Request, env: Env) {
    const body = await request.text()
    const signature = request.headers.get('linear-signature')
    const timestamp = request.headers.get('linear-timestamp')

    // Verify signature
    const isValid = await LinearClient.webhooks.verifyRequest(
      body,
      { 'linear-signature': signature!, 'linear-timestamp': timestamp! },
      env.LINEAR_WEBHOOK_SECRET
    )

    if (!isValid) {
      return new Response('Invalid signature', { status: 401 })
    }

    const payload = JSON.parse(body)

    switch (payload.type) {
      case 'Issue':
        if (payload.action === 'create') {
          console.log('New issue:', payload.data.title)
        } else if (payload.action === 'update') {
          console.log('Issue updated:', payload.data.identifier)
          if (payload.updatedFrom?.stateId) {
            console.log('State changed to:', payload.data.state.name)
          }
        }
        break

      case 'Comment':
        if (payload.action === 'create') {
          console.log('New comment on:', payload.data.issue.identifier)
        }
        break

      case 'Project':
        console.log('Project event:', payload.action)
        break
    }

    return new Response('OK', { status: 200 })
  },
}
```

## Local Testing Mode

Use `LinearLocal` for fully offline testing without hitting Linear's API:

```typescript
import { LinearLocal } from 'compat/linear'

// Create a local Linear instance
const linear = new LinearLocal({
  // Emit webhook events locally
  webhooks: true,
  onWebhookEvent: (event) => {
    console.log('Webhook:', event.type, event.action)
  },
})

// All operations work locally
const { team } = await linear.teamCreate({
  name: 'Test Team',
  key: 'TEST',
})

const { issue } = await linear.issueCreate({
  teamId: team.id,
  title: 'Test issue',
})

// Time-travel queries (dotdo extension)
const issueYesterday = await linear.issueAsOf(
  issue.id,
  Date.now() - 86400000
)
```

## Configuration

### Client Options

```typescript
import { LinearClient, type LinearClientConfig } from 'compat/linear'

const config: LinearClientConfig = {
  // API key authentication
  apiKey: 'lin_api_xxx',

  // Or OAuth token
  accessToken: 'lin_oauth_xxx',

  // Custom API URL (for testing)
  apiUrl: 'https://api.linear.app',

  // Request timeout (default: 30000ms)
  timeout: 60000,

  // Custom fetch implementation
  fetch: customFetch,
}

const linear = new LinearClient(config)
```

## Error Handling

```typescript
import { LinearClient, LinearError } from 'compat/linear'

const linear = new LinearClient({ apiKey: env.LINEAR_API_KEY })

try {
  await linear.issueCreate({
    teamId: 'invalid-team-id',
    title: 'Test',
  })
} catch (error) {
  if (error instanceof LinearError) {
    console.log('Status:', error.status)
    console.log('Message:', error.message)
    console.log('Errors:', error.errors)

    switch (error.status) {
      case 401:
        console.error('Invalid API key')
        break
      case 403:
        console.error('Insufficient permissions')
        break
      case 404:
        console.error('Resource not found')
        break
      case 429:
        console.error('Rate limited')
        break
    }
  }
}
```

## Types

Full TypeScript support with Linear-compatible types:

```typescript
import type {
  // Core
  ID,
  DateTime,
  Connection,
  PageInfo,

  // Teams
  Team,
  TeamCreateInput,
  TeamUpdateInput,

  // Issues
  Issue,
  IssueCreateInput,
  IssueUpdateInput,
  IssueFilter,
  IssuePriority,
  IssueHistory,
  IssueRelation,

  // Projects
  Project,
  ProjectCreateInput,
  ProjectState,
  ProjectMilestone,
  ProjectUpdate,

  // Cycles
  Cycle,
  CycleCreateInput,
  CycleFilter,

  // Labels
  IssueLabel,
  IssueLabelCreateInput,

  // Comments
  Comment,
  CommentCreateInput,

  // Workflow
  WorkflowState,
  WorkflowStateType,

  // Users
  User,
  Organization,

  // Webhooks
  Webhook,
  WebhookResourceType,
  WebhookAction,
  WebhookDeliveryPayload,
} from 'compat/linear'
```

## Workflow Integration

Use Linear with dotdo workflows for automated issue management:

```typescript
import { $ } from 'dotdo'
import { LinearClient } from 'compat/linear'

export class BugTriageWorkflow {
  linear = new LinearClient({ apiKey: this.env.LINEAR_API_KEY })

  async triageBug(bugReport: BugReport) {
    // Create issue durably
    const { issue } = await $.do(() =>
      this.linear.issueCreate({
        teamId: 'eng-team-id',
        title: `Bug: ${bugReport.title}`,
        description: bugReport.description,
        priority: this.calculatePriority(bugReport),
        labelIds: ['bug-label-id'],
      })
    )

    // Wait for assignment
    await $.on.Issue.updated({
      filter: { id: issue.id, assigneeId: { neq: null } },
    })

    // Notify on completion
    await $.on.Issue.updated({
      filter: { id: issue.id, stateType: 'completed' },
    })

    // Update external tracker
    await $.do(() => this.notifyExternalSystem(issue, 'resolved'))
  }
}
```

## Migrating from Linear SDK

### 1. Update imports

```typescript
// Before
import { LinearClient } from '@linear/sdk'

// After
import { LinearClient } from 'compat/linear'
```

### 2. Environment variables

Keep your existing environment variables:

```
LINEAR_API_KEY=lin_api_xxx
LINEAR_WEBHOOK_SECRET=xxx
```

### 3. Code changes

Most code works unchanged. Check for:

- **GraphQL fragments**: Not supported - use standard queries
- **Custom scalars**: DateTime is returned as ISO string
- **Pagination**: Use async iterators instead of manual pagination

## Next Steps

<Cards>
  <Card title="GitHub Integration" href="/docs/integrations/github">
    Repository and PR management integration.
  </Card>
  <Card title="Workflows" href="/docs/workflows">
    Build automated issue workflows with Linear triggers.
  </Card>
  <Card title="Human Escalation" href="/docs/humans/escalation">
    Route issues to human reviewers when needed.
  </Card>
</Cards>
