---
title: "Jira"
description: "Drop-in replacement for Jira REST API with edge compatibility and local development mode."
---

# Jira

Drop-in replacement for Jira REST API v3. Your existing Jira code works unchanged - just swap the import.

```typescript
// Before: jira.js or direct API calls
import JiraApi from 'jira-client'

// After: dotdo
import { JiraClient } from '@dotdo/jira'

// Code stays the same
const jira = new JiraClient({
  host: 'your-domain.atlassian.net',
  email: 'you@example.com',
  apiToken: 'your-api-token',
})
```

## Prerequisites

Before integrating Jira with dotdo, you need:

### 1. Atlassian Account

1. Sign up at [atlassian.com](https://atlassian.com)
2. Create or join a Jira Cloud instance

### 2. Create an API Token

1. Go to [API Tokens](https://id.atlassian.com/manage-profile/security/api-tokens)
2. Click **Create API token**
3. Give it a name and copy the token

### 3. Environment Setup

Store your credentials securely:

```bash
JIRA_HOST=your-domain.atlassian.net
JIRA_EMAIL=you@example.com
JIRA_API_TOKEN=your_api_token_here
```

## Environment Variables

| Variable | Required | Description |
|----------|----------|-------------|
| `JIRA_HOST` | Yes | Your Atlassian domain |
| `JIRA_EMAIL` | Yes | Your Atlassian email |
| `JIRA_API_TOKEN` | Yes (production) | API token |

## Why @dotdo/jira?

| jira-client | @dotdo/jira |
|-------------|-------------|
| Node.js runtime required | Edge-compatible (Cloudflare Workers) |
| Network calls required | Local mode for testing |
| No time-travel queries | Built-in temporal queries |
| External dependency | Works offline |

**This is a compatibility layer.** It can either forward to real Jira APIs (production) or run entirely locally for testing and development.

## Features

### Implemented

**Issues**
- `issues.create()` - Create issues
- `issues.update()` - Update issues
- `issues.get()` - Get issue by key
- `issues.delete()` - Delete issues
- `issues.search()` - JQL search
- `issues.transition()` - Change status
- `issues.assign()` - Assign issues
- `issues.link()` - Link issues
- Comments, worklogs, attachments

**Projects**
- `projects.create()` - Create projects
- `projects.get()` - Get project
- `projects.list()` - List projects
- Components, versions

**Sprints (Agile)**
- `sprints.create()` - Create sprints
- `sprints.update()` - Update sprints
- `sprints.get()` - Get sprint
- `sprints.issues()` - Get sprint issues
- Sprint backlog management

**Boards (Agile)**
- `boards.get()` - Get board
- `boards.list()` - List boards
- Board configuration

**Webhooks**
- `webhooks.create()` - Register webhooks
- `webhooks.list()` - List webhooks
- Event handling

**Issue History**
- Full changelog tracking
- Time-travel queries (dotdo extension)

### Not Yet Implemented

- Tempo timesheets
- Structure plugin
- Portfolio
- Assets (Insight)

## Quick Start

### Install

```bash
npm install @dotdo/jira
```

### Basic Usage

```typescript
import { JiraClient } from '@dotdo/jira'

const jira = new JiraClient({
  host: process.env.JIRA_HOST,
  email: process.env.JIRA_EMAIL,
  apiToken: process.env.JIRA_API_TOKEN,
})

// Create an issue
const issue = await jira.issues.create({
  fields: {
    project: { key: 'PROJ' },
    summary: 'Fix login bug',
    description: 'Users cannot login with SSO',
    issuetype: { name: 'Bug' },
    priority: { name: 'High' },
    labels: ['sso', 'urgent'],
  },
})

// Transition issue to In Progress
await jira.issues.transition(issue.key, {
  transition: { id: '21' }, // In Progress
})

// Add a comment
await jira.issues.addComment(issue.key, {
  body: 'Investigating the root cause now.',
})

// Search with JQL
const results = await jira.issues.search({
  jql: 'project = PROJ AND status = "In Progress" ORDER BY priority DESC',
  maxResults: 50,
})
```

### Sprints and Agile

```typescript
import { JiraClient } from '@dotdo/jira'

const jira = new JiraClient({
  host: process.env.JIRA_HOST,
  email: process.env.JIRA_EMAIL,
  apiToken: process.env.JIRA_API_TOKEN,
})

// Create a sprint
const sprint = await jira.sprints.create({
  name: 'Sprint 12',
  originBoardId: 1,
  startDate: new Date().toISOString(),
  endDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString(),
})

// Move issues to sprint
await jira.sprints.moveIssuesToSprint(sprint.id, {
  issues: ['PROJ-123', 'PROJ-124', 'PROJ-125'],
})

// Start the sprint
await jira.sprints.start(sprint.id)

// Get sprint issues
const sprintIssues = await jira.sprints.issues(sprint.id)
```

## Configuration

### Client Options

```typescript
import { JiraClient, type JiraClientConfig } from '@dotdo/jira'

const config: JiraClientConfig = {
  // Required
  host: 'your-domain.atlassian.net',
  email: 'you@example.com',
  apiToken: 'your-api-token',

  // Optional
  timeout: 30000,
  maxRetries: 3,
}

const jira = new JiraClient(config)
```

## Inbound - Local Development

For local development and testing, use the local implementation:

```typescript
import { JiraLocal, type JiraLocalConfig } from '@dotdo/jira'

const jira = new JiraLocal()

// Create project locally
const project = await jira.projects.create({
  key: 'TEST',
  name: 'Test Project',
  projectTypeKey: 'software',
})

// Create issues locally
const issue = await jira.issues.create({
  fields: {
    project: { key: 'TEST' },
    summary: 'Test issue',
    issuetype: { name: 'Task' },
  },
})

// All operations work without network
// History is tracked for time-travel queries
```

## Outbound - Production

For production, connect to the real Jira API:

```typescript
// worker.ts
import { JiraClient } from '@dotdo/jira'

export default {
  async fetch(request: Request, env: Env): Promise<Response> {
    const jira = new JiraClient({
      host: env.JIRA_HOST,
      email: env.JIRA_EMAIL,
      apiToken: env.JIRA_API_TOKEN,
    })

    // Create issue from production
    const issue = await jira.issues.create({
      fields: {
        project: { key: 'OPS' },
        summary: 'Auto-created from worker',
        issuetype: { name: 'Bug' },
      },
    })

    return Response.json({ issueKey: issue.key })
  },
}
```

## JQL Search

Use Jira Query Language for powerful searches:

```typescript
import { JiraClient } from '@dotdo/jira'

const jira = new JiraClient({
  host: process.env.JIRA_HOST,
  email: process.env.JIRA_EMAIL,
  apiToken: process.env.JIRA_API_TOKEN,
})

// Basic search
const bugs = await jira.issues.search({
  jql: 'project = PROJ AND type = Bug AND status != Done',
})

// Complex search with ordering
const myWork = await jira.issues.search({
  jql: `
    assignee = currentUser()
    AND status in ("To Do", "In Progress")
    ORDER BY priority DESC, created ASC
  `,
  fields: ['summary', 'status', 'priority', 'assignee'],
  maxResults: 100,
})

// Search with pagination
let startAt = 0
const pageSize = 50
let allIssues = []

while (true) {
  const result = await jira.issues.search({
    jql: 'project = PROJ',
    startAt,
    maxResults: pageSize,
  })

  allIssues = allIssues.concat(result.issues)

  if (result.issues.length < pageSize) break
  startAt += pageSize
}
```

## Webhooks

Handle Jira webhooks:

```typescript
import { JiraLocal } from '@dotdo/jira'

export default {
  async fetch(request: Request, env: Env): Promise<Response> {
    const body = await request.json()
    const event = body.webhookEvent

    // Handle different event types
    switch (event) {
      case 'jira:issue_created':
        console.log('Issue created:', body.issue.key)
        break
      case 'jira:issue_updated':
        console.log('Issue updated:', body.issue.key)
        console.log('Changelog:', body.changelog)
        break
      case 'sprint_started':
        console.log('Sprint started:', body.sprint.name)
        break
    }

    return new Response('OK')
  },
}
```

## Error Handling

```typescript
import { JiraClient } from '@dotdo/jira'

const jira = new JiraClient({
  host: process.env.JIRA_HOST,
  email: process.env.JIRA_EMAIL,
  apiToken: process.env.JIRA_API_TOKEN,
})

try {
  await jira.issues.get('INVALID-999')
} catch (error) {
  if (error.message.includes('not found')) {
    console.log('Issue not found')
  } else if (error.message.includes('permission')) {
    console.log('Permission denied')
  }
}
```

## TypeScript Types

Full TypeScript support with comprehensive type definitions:

```typescript
import type {
  // Issue types
  Issue,
  IssueCreateInput,
  IssueUpdateInput,
  IssueTransitionInput,
  IssueFields,
  IssueType,
  IssuePriority,
  IssueStatus,
  IssueComment,
  IssueChangelog,

  // Project types
  Project,
  ProjectCategory,
  ProjectComponent,
  ProjectVersion,

  // Sprint types
  Sprint,
  Board,

  // Search types
  JqlSearchResult,
  JqlSearchOptions,

  // Webhook types
  Webhook,
  WebhookEvent,
  WebhookPayload,

  // Config
  JiraClientConfig,
  JiraLocalConfig,
} from '@dotdo/jira'
```

## Workflow Integration

Use Jira with dotdo workflows for durable issue management:

```typescript
import { $ } from 'dotdo'
import { JiraClient } from '@dotdo/jira'

export class SprintManager {
  jira = new JiraClient({
    host: this.env.JIRA_HOST,
    email: this.env.JIRA_EMAIL,
    apiToken: this.env.JIRA_API_TOKEN,
  })

  async startSprint(sprintId: number) {
    // Durable sprint start
    await $.do(() => this.jira.sprints.start(sprintId))

    // Get sprint issues
    const issues = await $.do(() => this.jira.sprints.issues(sprintId))

    // Notify team
    for (const issue of issues.issues) {
      if (issue.fields.assignee) {
        $.send({
          type: 'SprintStarted',
          assignee: issue.fields.assignee.emailAddress,
          issue: issue.key,
        })
      }
    }
  }
}
```

## Migration from jira-client

### 1. Package Change

```bash
# Remove jira-client
npm uninstall jira-client

# Install dotdo package
npm install @dotdo/jira
```

### 2. Import Change

```typescript
// Before
import JiraApi from 'jira-client'

// After
import { JiraClient } from '@dotdo/jira'
```

### 3. Constructor Change

```typescript
// Before
const jira = new JiraApi({
  protocol: 'https',
  host: 'your-domain.atlassian.net',
  username: 'you@example.com',
  password: 'api-token',
  apiVersion: '3',
})

// After
const jira = new JiraClient({
  host: 'your-domain.atlassian.net',
  email: 'you@example.com',
  apiToken: 'api-token',
})
```

## Related

- [Linear Integration](/docs/integrations/linear) - Linear issue tracking
- [GitHub Integration](/docs/integrations/github) - GitHub Issues
- [Compat SDKs Overview](/docs/compat) - All API-compatible SDKs
