---
title: Ably
description: Choose between @dotdo/ably (OSS package) and ably.do (managed edge service) for realtime pub/sub messaging.
---

# Ably Integration

dotdo provides two ways to work with Ably-compatible realtime APIs:

| | @dotdo/ably | ably.do |
|---|-------------|---------|
| **Type** | OSS npm package | Managed edge service |
| **Backend** | Outbound to Ably Cloud | Durable Object WebSockets |
| **Connections** | Ably limits apply | Unlimited |
| **Use case** | Testing, gradual migration | Production workloads |
| **Infrastructure** | Ably account required | Zero (we manage it) |
| **Install** | `npm install @dotdo/ably` | Deploy to Cloudflare |

## Quick Comparison

```typescript
// @dotdo/ably - Same API, connects to Ably Cloud
import Ably from '@dotdo/ably'

const ably = new Ably.Realtime({
  key: 'your-ably-api-key',
  outbound: true, // Route to Ably's infrastructure
})
const channel = ably.channels.get('notifications')
channel.subscribe((msg) => console.log(msg.data))
```

```typescript
// ably.do - Self-hosted on Durable Objects
import Ably from '@dotdo/ably'

const ably = new Ably.Realtime({
  key: 'your-dotdo-key',
  // Automatically routes to your DO infrastructure
})
const channel = ably.channels.get('notifications')
channel.subscribe((msg) => console.log(msg.data))
```

## When to Use Each

### Use @dotdo/ably when:

- **Gradual migration** - Transitioning from Ably Cloud to self-hosted
- **Hybrid deployments** - Some channels on Ably, others on dotdo
- **Testing** - Validate compatibility before full migration
- **Using Ably-specific features** - Features not yet in ably.do (webhooks, push)

<Callout type="info">
@dotdo/ably provides the same Ably SDK interface. Use `outbound: true` to route traffic to Ably Cloud, or omit it to use your DO infrastructure.
</Callout>

### Use ably.do when:

- **Cost optimization** - Eliminate per-connection and per-message fees
- **Unlimited connections** - No connection caps per channel
- **Global edge deployment** - Data close to users worldwide (300+ cities)
- **Self-hosted requirements** - Data stays in your infrastructure

<Callout type="info">
ably.do is a drop-in Ably replacement running on Cloudflare's edge network. Same API, unlimited scale, predictable pricing.
</Callout>

## Feature Comparison

| Feature | @dotdo/ably | ably.do |
|---------|-------------|---------|
| Realtime Channels | Via Ably Cloud | Durable Objects |
| Presence | Via Ably Cloud | DO SQLite |
| Message History | Via Ably Cloud | DO SQLite |
| Connection State | Via Ably Cloud | Hibernatable WebSockets |
| Token Authentication | Via Ably Cloud | Built-in |
| Channel Rewind | Via Ably Cloud | Supported |
| REST API | Via Ably Cloud | Hono HTTP |
| Push Notifications | Via Ably Cloud | Planned |
| Webhooks | Via Ably Cloud | Planned |
| Connection Limits | Ably plan limits | Unlimited |
| Message Size | 64KB | 128KB |
| Latency | Multi-region | Edge (300+ cities) |
| Cold Start | N/A (hosted) | 0ms (V8 isolates) |

## Cost Comparison

| Scenario | Ably Cloud | ably.do |
|----------|------------|---------|
| 10,000 peak connections/month | ~$450/month | Included |
| 1M messages/month | ~$2.50 | Included |
| Per-connection fee | $0.0015/peak/day | None |
| Per-message fee | $2.50/million | None |
| Channel limit | 200 (Free tier) | Unlimited |

## Getting Started

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
  <a href="/docs/integrations/ably/package" className="block p-4 border rounded-lg hover:border-primary">
    <h3 className="font-semibold">@dotdo/ably</h3>
    <p className="text-sm text-muted-foreground">Ably SDK wrapper for testing and migration</p>
  </a>
  <a href="/docs/integrations/ably/service" className="block p-4 border rounded-lg hover:border-primary">
    <h3 className="font-semibold">ably.do</h3>
    <p className="text-sm text-muted-foreground">Managed Ably replacement on the edge</p>
  </a>
</div>

## Migration Path

Start with `@dotdo/ably` in outbound mode to verify compatibility, then switch to ably.do for production:

```typescript
// Step 1: Development - outbound to Ably Cloud
import Ably from '@dotdo/ably'
const ably = new Ably.Realtime({
  key: 'your-ably-key',
  outbound: true,
})

// Step 2: Production - self-hosted on dotdo
import Ably from '@dotdo/ably'
const ably = new Ably.Realtime({
  key: 'your-dotdo-key',
  // No outbound = routes to DO infrastructure
})

// Your application code stays the same!
const channel = ably.channels.get('updates')
channel.subscribe('event', (msg) => {
  console.log('Received:', msg.data)
})
```

The API is identical - just change the configuration to switch backends.
