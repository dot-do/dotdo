---
title: S3 Integration
description: Choose between @dotdo/s3 (OSS package) and s3.do (managed edge service) for S3-compatible object storage.
---

# S3 Integration

dotdo provides two ways to work with S3-compatible object storage:

| | @dotdo/s3 | s3.do |
|---|-----------|-------|
| **Type** | OSS npm package | Managed edge service |
| **Backend** | Local mock or R2 binding | Cloudflare R2 (fully managed) |
| **Persistence** | Configurable | Full durability |
| **Use case** | Testing, development, migration | Production workloads |
| **Infrastructure** | Zero | Zero (we manage it) |
| **Install** | `npm install @dotdo/s3` | Deploy to Cloudflare |

## Quick Comparison

```typescript
// @dotdo/s3 - Drop-in AWS SDK replacement
import { S3Client, PutObjectCommand } from '@dotdo/s3'

const client = new S3Client({ region: 'auto' })
await client.send(new PutObjectCommand({
  Bucket: 'my-bucket',
  Key: 'file.txt',
  Body: 'Hello, World!'
}))
// Uses R2 binding or mock backend
```

```typescript
// s3.do - Fully managed edge storage
import { S3 } from 's3.do'

const storage = new S3('https://your-worker.workers.dev')
await storage.put('my-bucket', 'file.txt', 'Hello, World!')
// Data persists globally on R2
```

## When to Use Each

### Use @dotdo/s3 when:

- **Migrating from AWS** - Drop-in replacement, same API as @aws-sdk/client-s3
- **Unit testing** - Mock S3 operations without external dependencies
- **Hybrid environments** - Connect to real AWS S3 or R2 as needed
- **Existing S3 code** - Works with multer-s3, AWS SDK patterns

<Callout type="info">
@dotdo/s3 is a complete AWS SDK-compatible implementation. Perfect for migrating existing code or testing without infrastructure changes.
</Callout>

### Use s3.do when:

- **Production applications** - Zero-config managed storage
- **Global edge deployment** - Files close to users worldwide
- **Multi-tenant storage** - Built-in tenant isolation and path conventions
- **Presigned URLs at scale** - Edge-generated URLs with zero latency

<Callout type="info">
s3.do is S3 on the Edge - a fully managed service running on Cloudflare R2 with zero egress fees and global distribution.
</Callout>

## Feature Comparison

| Feature | @dotdo/s3 | s3.do |
|---------|-----------|-------|
| AWS SDK Compatibility | Full | Simplified API |
| Put/Get/Delete | Full | Full |
| List Objects | Full | Full |
| Multipart Uploads | Full | Full |
| Presigned URLs | Full | Full |
| CORS Configuration | Full | Managed |
| Lifecycle Rules | Full | Managed |
| Versioning | Full | Full |
| Multi-tenant Paths | Manual | Built-in |
| R2 Store Utilities | Via binding | Native |
| Edge Optimization | Via Workers | Native |

## Getting Started

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
  <a href="/docs/integrations/s3/package" className="block p-4 border rounded-lg hover:border-primary">
    <h3 className="font-semibold">@dotdo/s3</h3>
    <p className="text-sm text-muted-foreground">AWS SDK-compatible S3 client for testing and migration</p>
  </a>
  <a href="/docs/integrations/s3/service" className="block p-4 border rounded-lg hover:border-primary">
    <h3 className="font-semibold">s3.do</h3>
    <p className="text-sm text-muted-foreground">Managed S3-compatible storage on the edge</p>
  </a>
</div>

## Migration Path

Start with `@dotdo/s3` for development and migration, then use `s3.do` for production:

```typescript
// Development/Migration (package) - AWS SDK compatible
import { S3Client, PutObjectCommand } from '@dotdo/s3'
const client = new S3Client({ region: 'auto' })
await client.send(new PutObjectCommand({
  Bucket: 'uploads',
  Key: 'file.txt',
  Body: content
}))

// Production (service) - Managed edge storage
import { S3 } from 's3.do'
const storage = new S3('https://your-s3.workers.dev')
await storage.put('uploads', 'file.txt', content)
```

Both options use Cloudflare R2 as the backend, ensuring zero egress fees and global edge access.

## Why R2?

Both @dotdo/s3 and s3.do are built on Cloudflare R2:

| Feature | AWS S3 | Cloudflare R2 |
|---------|--------|---------------|
| Egress fees | $0.09/GB | **Free** |
| API compatibility | Native | S3-compatible |
| Edge access | Via CDN | Native edge access |
| Cold storage | Glacier tiers | Automatic tiering |
| Min storage duration | 30-180 days | None |
